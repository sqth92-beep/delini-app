function oT(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const u=Object.getOwnPropertyDescriptor(s,a);u&&Object.defineProperty(e,a,u.get?u:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(a){if(a.ep)return;a.ep=!0;const u=n(a);fetch(a.href,u)}})();function rv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Sp={exports:{}},eu={},Pp={exports:{}},it={};var w0;function aT(){if(w0)return it;w0=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function N(z){return z===null||typeof z!="object"?null:(z=w&&z[w]||z["@@iterator"],typeof z=="function"?z:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,C={};function j(z,Y,Ne){this.props=z,this.context=Y,this.refs=C,this.updater=Ne||T}j.prototype.isReactComponent={},j.prototype.setState=function(z,Y){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,Y,"setState")},j.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function M(){}M.prototype=j.prototype;function R(z,Y,Ne){this.props=z,this.context=Y,this.refs=C,this.updater=Ne||T}var D=R.prototype=new M;D.constructor=R,A(D,j.prototype),D.isPureReactComponent=!0;var O=Array.isArray,V=Object.prototype.hasOwnProperty,Z={current:null},q={key:!0,ref:!0,__self:!0,__source:!0};function J(z,Y,Ne){var ye,we={},pe=null,fe=null;if(Y!=null)for(ye in Y.ref!==void 0&&(fe=Y.ref),Y.key!==void 0&&(pe=""+Y.key),Y)V.call(Y,ye)&&!q.hasOwnProperty(ye)&&(we[ye]=Y[ye]);var Se=arguments.length-2;if(Se===1)we.children=Ne;else if(1<Se){for(var qe=Array(Se),Fe=0;Fe<Se;Fe++)qe[Fe]=arguments[Fe+2];we.children=qe}if(z&&z.defaultProps)for(ye in Se=z.defaultProps,Se)we[ye]===void 0&&(we[ye]=Se[ye]);return{$$typeof:e,type:z,key:pe,ref:fe,props:we,_owner:Z.current}}function he(z,Y){return{$$typeof:e,type:z.type,key:Y,ref:z.ref,props:z.props,_owner:z._owner}}function me(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function _e(z){var Y={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(Ne){return Y[Ne]})}var le=/\/+/g;function Re(z,Y){return typeof z=="object"&&z!==null&&z.key!=null?_e(""+z.key):Y.toString(36)}function te(z,Y,Ne,ye,we){var pe=typeof z;(pe==="undefined"||pe==="boolean")&&(z=null);var fe=!1;if(z===null)fe=!0;else switch(pe){case"string":case"number":fe=!0;break;case"object":switch(z.$$typeof){case e:case t:fe=!0}}if(fe)return fe=z,we=we(fe),z=ye===""?"."+Re(fe,0):ye,O(we)?(Ne="",z!=null&&(Ne=z.replace(le,"$&/")+"/"),te(we,Y,Ne,"",function(Fe){return Fe})):we!=null&&(me(we)&&(we=he(we,Ne+(!we.key||fe&&fe.key===we.key?"":(""+we.key).replace(le,"$&/")+"/")+z)),Y.push(we)),1;if(fe=0,ye=ye===""?".":ye+":",O(z))for(var Se=0;Se<z.length;Se++){pe=z[Se];var qe=ye+Re(pe,Se);fe+=te(pe,Y,Ne,qe,we)}else if(qe=N(z),typeof qe=="function")for(z=qe.call(z),Se=0;!(pe=z.next()).done;)pe=pe.value,qe=ye+Re(pe,Se++),fe+=te(pe,Y,Ne,qe,we);else if(pe==="object")throw Y=String(z),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return fe}function ge(z,Y,Ne){if(z==null)return z;var ye=[],we=0;return te(z,ye,"","",function(pe){return Y.call(Ne,pe,we++)}),ye}function de(z){if(z._status===-1){var Y=z._result;Y=Y(),Y.then(function(Ne){(z._status===0||z._status===-1)&&(z._status=1,z._result=Ne)},function(Ne){(z._status===0||z._status===-1)&&(z._status=2,z._result=Ne)}),z._status===-1&&(z._status=0,z._result=Y)}if(z._status===1)return z._result.default;throw z._result}var ce={current:null},$={transition:null},oe={ReactCurrentDispatcher:ce,ReactCurrentBatchConfig:$,ReactCurrentOwner:Z};function X(){throw Error("act(...) is not supported in production builds of React.")}return it.Children={map:ge,forEach:function(z,Y,Ne){ge(z,function(){Y.apply(this,arguments)},Ne)},count:function(z){var Y=0;return ge(z,function(){Y++}),Y},toArray:function(z){return ge(z,function(Y){return Y})||[]},only:function(z){if(!me(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},it.Component=j,it.Fragment=n,it.Profiler=a,it.PureComponent=R,it.StrictMode=s,it.Suspense=g,it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,it.act=X,it.cloneElement=function(z,Y,Ne){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var ye=A({},z.props),we=z.key,pe=z.ref,fe=z._owner;if(Y!=null){if(Y.ref!==void 0&&(pe=Y.ref,fe=Z.current),Y.key!==void 0&&(we=""+Y.key),z.type&&z.type.defaultProps)var Se=z.type.defaultProps;for(qe in Y)V.call(Y,qe)&&!q.hasOwnProperty(qe)&&(ye[qe]=Y[qe]===void 0&&Se!==void 0?Se[qe]:Y[qe])}var qe=arguments.length-2;if(qe===1)ye.children=Ne;else if(1<qe){Se=Array(qe);for(var Fe=0;Fe<qe;Fe++)Se[Fe]=arguments[Fe+2];ye.children=Se}return{$$typeof:e,type:z.type,key:we,ref:pe,props:ye,_owner:fe}},it.createContext=function(z){return z={$$typeof:f,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:u,_context:z},z.Consumer=z},it.createElement=J,it.createFactory=function(z){var Y=J.bind(null,z);return Y.type=z,Y},it.createRef=function(){return{current:null}},it.forwardRef=function(z){return{$$typeof:h,render:z}},it.isValidElement=me,it.lazy=function(z){return{$$typeof:y,_payload:{_status:-1,_result:z},_init:de}},it.memo=function(z,Y){return{$$typeof:v,type:z,compare:Y===void 0?null:Y}},it.startTransition=function(z){var Y=$.transition;$.transition={};try{z()}finally{$.transition=Y}},it.unstable_act=X,it.useCallback=function(z,Y){return ce.current.useCallback(z,Y)},it.useContext=function(z){return ce.current.useContext(z)},it.useDebugValue=function(){},it.useDeferredValue=function(z){return ce.current.useDeferredValue(z)},it.useEffect=function(z,Y){return ce.current.useEffect(z,Y)},it.useId=function(){return ce.current.useId()},it.useImperativeHandle=function(z,Y,Ne){return ce.current.useImperativeHandle(z,Y,Ne)},it.useInsertionEffect=function(z,Y){return ce.current.useInsertionEffect(z,Y)},it.useLayoutEffect=function(z,Y){return ce.current.useLayoutEffect(z,Y)},it.useMemo=function(z,Y){return ce.current.useMemo(z,Y)},it.useReducer=function(z,Y,Ne){return ce.current.useReducer(z,Y,Ne)},it.useRef=function(z){return ce.current.useRef(z)},it.useState=function(z){return ce.current.useState(z)},it.useSyncExternalStore=function(z,Y,Ne){return ce.current.useSyncExternalStore(z,Y,Ne)},it.useTransition=function(){return ce.current.useTransition()},it.version="18.3.1",it}var b0;function Sh(){return b0||(b0=1,Pp.exports=aT()),Pp.exports}var S0;function lT(){if(S0)return eu;S0=1;var e=Sh(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function f(h,g,v){var y,w={},N=null,T=null;v!==void 0&&(N=""+v),g.key!==void 0&&(N=""+g.key),g.ref!==void 0&&(T=g.ref);for(y in g)s.call(g,y)&&!u.hasOwnProperty(y)&&(w[y]=g[y]);if(h&&h.defaultProps)for(y in g=h.defaultProps,g)w[y]===void 0&&(w[y]=g[y]);return{$$typeof:t,type:h,key:N,ref:T,props:w,_owner:a.current}}return eu.Fragment=n,eu.jsx=f,eu.jsxs=f,eu}var P0;function cT(){return P0||(P0=1,Sp.exports=lT()),Sp.exports}var l=cT(),wf={},Np={exports:{}},Un={},Cp={exports:{}},jp={};var N0;function uT(){return N0||(N0=1,(function(e){function t($,oe){var X=$.length;$.push(oe);e:for(;0<X;){var z=X-1>>>1,Y=$[z];if(0<a(Y,oe))$[z]=oe,$[X]=Y,X=z;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var oe=$[0],X=$.pop();if(X!==oe){$[0]=X;e:for(var z=0,Y=$.length,Ne=Y>>>1;z<Ne;){var ye=2*(z+1)-1,we=$[ye],pe=ye+1,fe=$[pe];if(0>a(we,X))pe<Y&&0>a(fe,we)?($[z]=fe,$[pe]=X,z=pe):($[z]=we,$[ye]=X,z=ye);else if(pe<Y&&0>a(fe,X))$[z]=fe,$[pe]=X,z=pe;else break e}}return oe}function a($,oe){var X=$.sortIndex-oe.sortIndex;return X!==0?X:$.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var f=Date,h=f.now();e.unstable_now=function(){return f.now()-h}}var g=[],v=[],y=1,w=null,N=3,T=!1,A=!1,C=!1,j=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D($){for(var oe=n(v);oe!==null;){if(oe.callback===null)s(v);else if(oe.startTime<=$)s(v),oe.sortIndex=oe.expirationTime,t(g,oe);else break;oe=n(v)}}function O($){if(C=!1,D($),!A)if(n(g)!==null)A=!0,de(V);else{var oe=n(v);oe!==null&&ce(O,oe.startTime-$)}}function V($,oe){A=!1,C&&(C=!1,M(J),J=-1),T=!0;var X=N;try{for(D(oe),w=n(g);w!==null&&(!(w.expirationTime>oe)||$&&!_e());){var z=w.callback;if(typeof z=="function"){w.callback=null,N=w.priorityLevel;var Y=z(w.expirationTime<=oe);oe=e.unstable_now(),typeof Y=="function"?w.callback=Y:w===n(g)&&s(g),D(oe)}else s(g);w=n(g)}if(w!==null)var Ne=!0;else{var ye=n(v);ye!==null&&ce(O,ye.startTime-oe),Ne=!1}return Ne}finally{w=null,N=X,T=!1}}var Z=!1,q=null,J=-1,he=5,me=-1;function _e(){return!(e.unstable_now()-me<he)}function le(){if(q!==null){var $=e.unstable_now();me=$;var oe=!0;try{oe=q(!0,$)}finally{oe?Re():(Z=!1,q=null)}}else Z=!1}var Re;if(typeof R=="function")Re=function(){R(le)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,ge=te.port2;te.port1.onmessage=le,Re=function(){ge.postMessage(null)}}else Re=function(){j(le,0)};function de($){q=$,Z||(Z=!0,Re())}function ce($,oe){J=j(function(){$(e.unstable_now())},oe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){A||T||(A=!0,de(V))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):he=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return N},e.unstable_getFirstCallbackNode=function(){return n(g)},e.unstable_next=function($){switch(N){case 1:case 2:case 3:var oe=3;break;default:oe=N}var X=N;N=oe;try{return $()}finally{N=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,oe){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var X=N;N=$;try{return oe()}finally{N=X}},e.unstable_scheduleCallback=function($,oe,X){var z=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?z+X:z):X=z,$){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=X+Y,$={id:y++,callback:oe,priorityLevel:$,startTime:X,expirationTime:Y,sortIndex:-1},X>z?($.sortIndex=X,t(v,$),n(g)===null&&$===n(v)&&(C?(M(J),J=-1):C=!0,ce(O,X-z))):($.sortIndex=Y,t(g,$),A||T||(A=!0,de(V))),$},e.unstable_shouldYield=_e,e.unstable_wrapCallback=function($){var oe=N;return function(){var X=N;N=oe;try{return $.apply(this,arguments)}finally{N=X}}}})(jp)),jp}var C0;function dT(){return C0||(C0=1,Cp.exports=uT()),Cp.exports}var j0;function fT(){if(j0)return Un;j0=1;var e=Sh(),t=dT();function n(r){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+r,d=1;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function u(r,o){f(r,o),f(r+"Capture",o)}function f(r,o){for(a[r]=o,r=0;r<o.length;r++)s.add(o[r])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},w={};function N(r){return g.call(w,r)?!0:g.call(y,r)?!1:v.test(r)?w[r]=!0:(y[r]=!0,!1)}function T(r,o,d,p){if(d!==null&&d.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return p?!1:d!==null?!d.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function A(r,o,d,p){if(o===null||typeof o>"u"||T(r,o,d,p))return!0;if(p)return!1;if(d!==null)switch(d.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function C(r,o,d,p,_,b,k){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=p,this.attributeNamespace=_,this.mustUseProperty=d,this.propertyName=r,this.type=o,this.sanitizeURL=b,this.removeEmptyString=k}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){j[r]=new C(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var o=r[0];j[o]=new C(o,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){j[r]=new C(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){j[r]=new C(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){j[r]=new C(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){j[r]=new C(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){j[r]=new C(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){j[r]=new C(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){j[r]=new C(r,5,!1,r.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function R(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var o=r.replace(M,R);j[o]=new C(o,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var o=r.replace(M,R);j[o]=new C(o,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var o=r.replace(M,R);j[o]=new C(o,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){j[r]=new C(r,1,!1,r.toLowerCase(),null,!1,!1)}),j.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){j[r]=new C(r,1,!1,r.toLowerCase(),null,!0,!0)});function D(r,o,d,p){var _=j.hasOwnProperty(o)?j[o]:null;(_!==null?_.type!==0:p||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(A(o,d,_,p)&&(d=null),p||_===null?N(o)&&(d===null?r.removeAttribute(o):r.setAttribute(o,""+d)):_.mustUseProperty?r[_.propertyName]=d===null?_.type===3?!1:"":d:(o=_.attributeName,p=_.attributeNamespace,d===null?r.removeAttribute(o):(_=_.type,d=_===3||_===4&&d===!0?"":""+d,p?r.setAttributeNS(p,o,d):r.setAttribute(o,d))))}var O=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,V=Symbol.for("react.element"),Z=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),he=Symbol.for("react.profiler"),me=Symbol.for("react.provider"),_e=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),Re=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),ge=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),ce=Symbol.for("react.offscreen"),$=Symbol.iterator;function oe(r){return r===null||typeof r!="object"?null:(r=$&&r[$]||r["@@iterator"],typeof r=="function"?r:null)}var X=Object.assign,z;function Y(r){if(z===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);z=o&&o[1]||""}return`
`+z+r}var Ne=!1;function ye(r,o){if(!r||Ne)return"";Ne=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Q){var p=Q}Reflect.construct(r,[],o)}else{try{o.call()}catch(Q){p=Q}r.call(o.prototype)}else{try{throw Error()}catch(Q){p=Q}r()}}catch(Q){if(Q&&p&&typeof Q.stack=="string"){for(var _=Q.stack.split(`
`),b=p.stack.split(`
`),k=_.length-1,I=b.length-1;1<=k&&0<=I&&_[k]!==b[I];)I--;for(;1<=k&&0<=I;k--,I--)if(_[k]!==b[I]){if(k!==1||I!==1)do if(k--,I--,0>I||_[k]!==b[I]){var B=`
`+_[k].replace(" at new "," at ");return r.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",r.displayName)),B}while(1<=k&&0<=I);break}}}finally{Ne=!1,Error.prepareStackTrace=d}return(r=r?r.displayName||r.name:"")?Y(r):""}function we(r){switch(r.tag){case 5:return Y(r.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return r=ye(r.type,!1),r;case 11:return r=ye(r.type.render,!1),r;case 1:return r=ye(r.type,!0),r;default:return""}}function pe(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case q:return"Fragment";case Z:return"Portal";case he:return"Profiler";case J:return"StrictMode";case Re:return"Suspense";case te:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case _e:return(r.displayName||"Context")+".Consumer";case me:return(r._context.displayName||"Context")+".Provider";case le:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case ge:return o=r.displayName||null,o!==null?o:pe(r.type)||"Memo";case de:o=r._payload,r=r._init;try{return pe(r(o))}catch{}}return null}function fe(r){var o=r.type;switch(r.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=o.render,r=r.displayName||r.name||"",o.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(o);case 8:return o===J?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Se(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function qe(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Fe(r){var o=qe(r)?"checked":"value",d=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),p=""+r[o];if(!r.hasOwnProperty(o)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var _=d.get,b=d.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return _.call(this)},set:function(k){p=""+k,b.call(this,k)}}),Object.defineProperty(r,o,{enumerable:d.enumerable}),{getValue:function(){return p},setValue:function(k){p=""+k},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function Je(r){r._valueTracker||(r._valueTracker=Fe(r))}function lt(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var d=o.getValue(),p="";return r&&(p=qe(r)?r.checked?"true":"false":r.value),r=p,r!==d?(o.setValue(r),!0):!1}function kt(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function hn(r,o){var d=o.checked;return X({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??r._wrapperState.initialChecked})}function Zn(r,o){var d=o.defaultValue==null?"":o.defaultValue,p=o.checked!=null?o.checked:o.defaultChecked;d=Se(o.value!=null?o.value:d),r._wrapperState={initialChecked:p,initialValue:d,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Tr(r,o){o=o.checked,o!=null&&D(r,"checked",o,!1)}function jn(r,o){Tr(r,o);var d=Se(o.value),p=o.type;if(d!=null)p==="number"?(d===0&&r.value===""||r.value!=d)&&(r.value=""+d):r.value!==""+d&&(r.value=""+d);else if(p==="submit"||p==="reset"){r.removeAttribute("value");return}o.hasOwnProperty("value")?xo(r,o.type,d):o.hasOwnProperty("defaultValue")&&xo(r,o.type,Se(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(r.defaultChecked=!!o.defaultChecked)}function Ci(r,o,d){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var p=o.type;if(!(p!=="submit"&&p!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+r._wrapperState.initialValue,d||o===r.value||(r.value=o),r.defaultValue=o}d=r.name,d!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,d!==""&&(r.name=d)}function xo(r,o,d){(o!=="number"||kt(r.ownerDocument)!==r)&&(d==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+d&&(r.defaultValue=""+d))}var ei=Array.isArray;function dr(r,o,d,p){if(r=r.options,o){o={};for(var _=0;_<d.length;_++)o["$"+d[_]]=!0;for(d=0;d<r.length;d++)_=o.hasOwnProperty("$"+r[d].value),r[d].selected!==_&&(r[d].selected=_),_&&p&&(r[d].defaultSelected=!0)}else{for(d=""+Se(d),o=null,_=0;_<r.length;_++){if(r[_].value===d){r[_].selected=!0,p&&(r[_].defaultSelected=!0);return}o!==null||r[_].disabled||(o=r[_])}o!==null&&(o.selected=!0)}}function je(r,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return X({},o,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Et(r,o){var d=o.value;if(d==null){if(d=o.children,o=o.defaultValue,d!=null){if(o!=null)throw Error(n(92));if(ei(d)){if(1<d.length)throw Error(n(93));d=d[0]}o=d}o==null&&(o=""),d=o}r._wrapperState={initialValue:Se(d)}}function Wn(r,o){var d=Se(o.value),p=Se(o.defaultValue);d!=null&&(d=""+d,d!==r.value&&(r.value=d),o.defaultValue==null&&r.defaultValue!==d&&(r.defaultValue=d)),p!=null&&(r.defaultValue=""+p)}function _o(r){var o=r.textContent;o===r._wrapperState.initialValue&&o!==""&&o!==null&&(r.value=o)}function ya(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xa(r,o){return r==null||r==="http://www.w3.org/1999/xhtml"?ya(o):r==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var wo,ed=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,d,p,_){MSApp.execUnsafeLocalFunction(function(){return r(o,d,p,_)})}:r})(function(r,o){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=o;else{for(wo=wo||document.createElement("div"),wo.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=wo.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;o.firstChild;)r.appendChild(o.firstChild)}});function ds(r,o){if(o){var d=r.firstChild;if(d&&d===r.lastChild&&d.nodeType===3){d.nodeValue=o;return}}r.textContent=o}var fs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jh=["Webkit","ms","Moz","O"];Object.keys(fs).forEach(function(r){Jh.forEach(function(o){o=o+r.charAt(0).toUpperCase()+r.substring(1),fs[o]=fs[r]})});function sc(r,o,d){return o==null||typeof o=="boolean"||o===""?"":d||typeof o!="number"||o===0||fs.hasOwnProperty(r)&&fs[r]?(""+o).trim():o+"px"}function _a(r,o){r=r.style;for(var d in o)if(o.hasOwnProperty(d)){var p=d.indexOf("--")===0,_=sc(d,o[d],p);d==="float"&&(d="cssFloat"),p?r.setProperty(d,_):r[d]=_}}var td=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oc(r,o){if(o){if(td[r]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function ji(r,o){if(r.indexOf("-")===-1)return typeof o.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ac=null;function lc(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var wa=null,Ti=null,ki=null;function nd(r){if(r=Vi(r)){if(typeof wa!="function")throw Error(n(280));var o=r.stateNode;o&&(o=Ka(o),wa(r.stateNode,r.type,o))}}function rd(r){Ti?ki?ki.push(r):ki=[r]:Ti=r}function id(){if(Ti){var r=Ti,o=ki;if(ki=Ti=null,nd(r),o)for(r=0;r<o.length;r++)nd(o[r])}}function sd(r,o){return r(o)}function od(){}var cc=!1;function ba(r,o,d){if(cc)return r(o,d);cc=!0;try{return sd(r,o,d)}finally{cc=!1,(Ti!==null||ki!==null)&&(od(),id())}}function bo(r,o){var d=r.stateNode;if(d===null)return null;var p=Ka(d);if(p===null)return null;d=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(r=r.type,p=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!p;break e;default:r=!1}if(r)return null;if(d&&typeof d!="function")throw Error(n(231,o,typeof d));return d}var uc=!1;if(h)try{var So={};Object.defineProperty(So,"passive",{get:function(){uc=!0}}),window.addEventListener("test",So,So),window.removeEventListener("test",So,So)}catch{uc=!1}function em(r,o,d,p,_,b,k,I,B){var Q=Array.prototype.slice.call(arguments,3);try{o.apply(d,Q)}catch(ie){this.onError(ie)}}var mn=!1,Ee=null,Po=!1,Sa=null,ad={onError:function(r){mn=!0,Ee=r}};function ld(r,o,d,p,_,b,k,I,B){mn=!1,Ee=null,em.apply(ad,arguments)}function dc(r,o,d,p,_,b,k,I,B){if(ld.apply(this,arguments),mn){if(mn){var Q=Ee;mn=!1,Ee=null}else throw Error(n(198));Po||(Po=!0,Sa=Q)}}function ti(r){var o=r,d=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(d=o.return),r=o.return;while(r)}return o.tag===3?d:null}function Ei(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function fc(r){if(ti(r)!==r)throw Error(n(188))}function tm(r){var o=r.alternate;if(!o){if(o=ti(r),o===null)throw Error(n(188));return o!==r?null:r}for(var d=r,p=o;;){var _=d.return;if(_===null)break;var b=_.alternate;if(b===null){if(p=_.return,p!==null){d=p;continue}break}if(_.child===b.child){for(b=_.child;b;){if(b===d)return fc(_),r;if(b===p)return fc(_),o;b=b.sibling}throw Error(n(188))}if(d.return!==p.return)d=_,p=b;else{for(var k=!1,I=_.child;I;){if(I===d){k=!0,d=_,p=b;break}if(I===p){k=!0,p=_,d=b;break}I=I.sibling}if(!k){for(I=b.child;I;){if(I===d){k=!0,d=b,p=_;break}if(I===p){k=!0,p=b,d=_;break}I=I.sibling}if(!k)throw Error(n(189))}}if(d.alternate!==p)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?r:o}function cd(r){return r=tm(r),r!==null?ud(r):null}function ud(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var o=ud(r);if(o!==null)return o;r=r.sibling}return null}var dd=t.unstable_scheduleCallback,hc=t.unstable_cancelCallback,nm=t.unstable_shouldYield,Pa=t.unstable_requestPaint,At=t.unstable_now,rm=t.unstable_getCurrentPriorityLevel,mc=t.unstable_ImmediatePriority,fd=t.unstable_UserBlockingPriority,Na=t.unstable_NormalPriority,pc=t.unstable_LowPriority,hs=t.unstable_IdlePriority,No=null,Hn=null;function Co(r){if(Hn&&typeof Hn.onCommitFiberRoot=="function")try{Hn.onCommitFiberRoot(No,r,void 0,(r.current.flags&128)===128)}catch{}}var Ge=Math.clz32?Math.clz32:ms,Pt=Math.log,Ca=Math.LN2;function ms(r){return r>>>=0,r===0?32:31-(Pt(r)/Ca|0)|0}var kr=64,ps=4194304;function He(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function wt(r,o){var d=r.pendingLanes;if(d===0)return 0;var p=0,_=r.suspendedLanes,b=r.pingedLanes,k=d&268435455;if(k!==0){var I=k&~_;I!==0?p=He(I):(b&=k,b!==0&&(p=He(b)))}else k=d&~_,k!==0?p=He(k):b!==0&&(p=He(b));if(p===0)return 0;if(o!==0&&o!==p&&(o&_)===0&&(_=p&-p,b=o&-o,_>=b||_===16&&(b&4194240)!==0))return o;if((p&4)!==0&&(p|=d&16),o=r.entangledLanes,o!==0)for(r=r.entanglements,o&=p;0<o;)d=31-Ge(o),_=1<<d,p|=r[d],o&=~_;return p}function gc(r,o){switch(r){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ja(r,o){for(var d=r.suspendedLanes,p=r.pingedLanes,_=r.expirationTimes,b=r.pendingLanes;0<b;){var k=31-Ge(b),I=1<<k,B=_[k];B===-1?((I&d)===0||(I&p)!==0)&&(_[k]=gc(I,o)):B<=o&&(r.expiredLanes|=I),b&=~I}}function pn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function hd(){var r=kr;return kr<<=1,(kr&4194240)===0&&(kr=64),r}function gs(r){for(var o=[],d=0;31>d;d++)o.push(r);return o}function qn(r,o,d){r.pendingLanes|=o,o!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,o=31-Ge(o),r[o]=d}function Ft(r,o){var d=r.pendingLanes&~o;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=o,r.mutableReadLanes&=o,r.entangledLanes&=o,o=r.entanglements;var p=r.eventTimes;for(r=r.expirationTimes;0<d;){var _=31-Ge(d),b=1<<_;o[_]=0,p[_]=-1,r[_]=-1,d&=~b}}function Er(r,o){var d=r.entangledLanes|=o;for(r=r.entanglements;d;){var p=31-Ge(d),_=1<<p;_&o|r[p]&o&&(r[p]|=o),d&=~_}}var ct=0;function vs(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Ta,Ai,ka,Ea,jo,To=!1,ys=[],Kn=null,Ar=null,fr=null,ko=new Map,Ue=new Map,Xt=[],yt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vc(r,o){switch(r){case"focusin":case"focusout":Kn=null;break;case"dragenter":case"dragleave":Ar=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":ko.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ue.delete(o.pointerId)}}function Li(r,o,d,p,_,b){return r===null||r.nativeEvent!==b?(r={blockedOn:o,domEventName:d,eventSystemFlags:p,nativeEvent:b,targetContainers:[_]},o!==null&&(o=Vi(o),o!==null&&Ai(o)),r):(r.eventSystemFlags|=p,o=r.targetContainers,_!==null&&o.indexOf(_)===-1&&o.push(_),r)}function yc(r,o,d,p,_){switch(o){case"focusin":return Kn=Li(Kn,r,o,d,p,_),!0;case"dragenter":return Ar=Li(Ar,r,o,d,p,_),!0;case"mouseover":return fr=Li(fr,r,o,d,p,_),!0;case"pointerover":var b=_.pointerId;return ko.set(b,Li(ko.get(b)||null,r,o,d,p,_)),!0;case"gotpointercapture":return b=_.pointerId,Ue.set(b,Li(Ue.get(b)||null,r,o,d,p,_)),!0}return!1}function Aa(r){var o=Bi(r.target);if(o!==null){var d=ti(o);if(d!==null){if(o=d.tag,o===13){if(o=Ei(d),o!==null){r.blockedOn=o,jo(r.priority,function(){ka(d)});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){r.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}r.blockedOn=null}function hr(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var d=Ra(r.domEventName,r.eventSystemFlags,o[0],r.nativeEvent);if(d===null){d=r.nativeEvent;var p=new d.constructor(d.type,d);ac=p,d.target.dispatchEvent(p),ac=null}else return o=Vi(d),o!==null&&Ai(o),r.blockedOn=d,!1;o.shift()}return!0}function La(r,o,d){hr(r)&&d.delete(o)}function Eo(){To=!1,Kn!==null&&hr(Kn)&&(Kn=null),Ar!==null&&hr(Ar)&&(Ar=null),fr!==null&&hr(fr)&&(fr=null),ko.forEach(La),Ue.forEach(La)}function Lt(r,o){r.blockedOn===o&&(r.blockedOn=null,To||(To=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Eo)))}function Gn(r){function o(_){return Lt(_,r)}if(0<ys.length){Lt(ys[0],r);for(var d=1;d<ys.length;d++){var p=ys[d];p.blockedOn===r&&(p.blockedOn=null)}}for(Kn!==null&&Lt(Kn,r),Ar!==null&&Lt(Ar,r),fr!==null&&Lt(fr,r),ko.forEach(o),Ue.forEach(o),d=0;d<Xt.length;d++)p=Xt[d],p.blockedOn===r&&(p.blockedOn=null);for(;0<Xt.length&&(d=Xt[0],d.blockedOn===null);)Aa(d),d.blockedOn===null&&Xt.shift()}var Mi=O.ReactCurrentBatchConfig,Ao=!0;function im(r,o,d,p){var _=ct,b=Mi.transition;Mi.transition=null;try{ct=1,Lo(r,o,d,p)}finally{ct=_,Mi.transition=b}}function md(r,o,d,p){var _=ct,b=Mi.transition;Mi.transition=null;try{ct=4,Lo(r,o,d,p)}finally{ct=_,Mi.transition=b}}function Lo(r,o,d,p){if(Ao){var _=Ra(r,o,d,p);if(_===null)i(r,o,p,Ma,d),vc(r,p);else if(yc(_,r,o,d,p))p.stopPropagation();else if(vc(r,p),o&4&&-1<yt.indexOf(r)){for(;_!==null;){var b=Vi(_);if(b!==null&&Ta(b),b=Ra(r,o,d,p),b===null&&i(r,o,p,Ma,d),b===_)break;_=b}_!==null&&p.stopPropagation()}else i(r,o,p,null,d)}}var Ma=null;function Ra(r,o,d,p){if(Ma=null,r=lc(p),r=Bi(r),r!==null)if(o=ti(r),o===null)r=null;else if(d=o.tag,d===13){if(r=Ei(o),r!==null)return r;r=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null);return Ma=r,null}function st(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rm()){case mc:return 1;case fd:return 4;case Na:case pc:return 16;case hs:return 536870912;default:return 16}default:return 16}}var ni=null,Tn=null,ri=null;function xc(){if(ri)return ri;var r,o=Tn,d=o.length,p,_="value"in ni?ni.value:ni.textContent,b=_.length;for(r=0;r<d&&o[r]===_[r];r++);var k=d-r;for(p=1;p<=k&&o[d-p]===_[b-p];p++);return ri=_.slice(r,1<p?1-p:void 0)}function Oa(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function xs(){return!0}function pd(){return!1}function gn(r){function o(d,p,_,b,k){this._reactName=d,this._targetInst=_,this.type=p,this.nativeEvent=b,this.target=k,this.currentTarget=null;for(var I in r)r.hasOwnProperty(I)&&(d=r[I],this[I]=d?d(b):b[I]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?xs:pd,this.isPropagationStopped=pd,this}return X(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=xs)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=xs)},persist:function(){},isPersistent:xs}),o}var _s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_c=gn(_s),Ri=X({},_s,{view:0,detail:0}),sm=gn(Ri),On,wc,ws,Qn=X({},Ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ii,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ws&&(ws&&r.type==="mousemove"?(On=r.screenX-ws.screenX,wc=r.screenY-ws.screenY):wc=On=0,ws=r),On)},movementY:function(r){return"movementY"in r?r.movementY:wc}}),bc=gn(Qn),gd=X({},Qn,{dataTransfer:0}),Sc=gn(gd),om=X({},Ri,{relatedTarget:0}),Ia=gn(om),vd=X({},_s,{animationName:0,elapsedTime:0,pseudoElement:0}),am=gn(vd),lm=X({},_s,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Pc=gn(lm),cm=X({},_s,{data:0}),Nc=gn(cm),yd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Da={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function um(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=Oi[r])?!!o[r]:!1}function Ii(){return um}var In=X({},Ri,{key:function(r){if(r.key){var o=yd[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=Oa(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Da[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ii,charCode:function(r){return r.type==="keypress"?Oa(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Oa(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),xd=gn(In),_d=X({},Qn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wd=gn(_d),Cc=X({},Ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ii}),jc=gn(Cc),dm=X({},_s,{propertyName:0,elapsedTime:0,pseudoElement:0}),fm=gn(dm),bd=X({},Qn,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),hm=gn(bd),Xn=[9,13,27,32],ii=h&&"CompositionEvent"in window,Mo=null;h&&"documentMode"in document&&(Mo=document.documentMode);var Lr=h&&"TextEvent"in window&&!Mo,Sd=h&&(!ii||Mo&&8<Mo&&11>=Mo),Di=" ",Pd=!1;function bs(r,o){switch(r){case"keyup":return Xn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tc(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Mr=!1;function mm(r,o){switch(r){case"compositionend":return Tc(o);case"keypress":return o.which!==32?null:(Pd=!0,Di);case"textInput":return r=o.data,r===Di&&Pd?null:r;default:return null}}function si(r,o){if(Mr)return r==="compositionend"||!ii&&bs(r,o)?(r=xc(),ri=Tn=ni=null,Mr=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Sd&&o.locale!=="ko"?null:o.data;default:return null}}var Fa={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nd(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!Fa[r.type]:o==="textarea"}function za(r,o,d,p){rd(p),o=m(o,"onChange"),0<o.length&&(d=new _c("onChange","change",null,d,p),r.push({event:d,listeners:o}))}var Ro=null,kn=null;function pm(r){Dc(r,0)}function Rr(r){var o=Ui(r);if(lt(o))return r}function gm(r,o){if(r==="change")return o}var mr=!1;if(h){var Ss;if(h){var Ba="oninput"in document;if(!Ba){var Va=document.createElement("div");Va.setAttribute("oninput","return;"),Ba=typeof Va.oninput=="function"}Ss=Ba}else Ss=!1;mr=Ss&&(!document.documentMode||9<document.documentMode)}function Oo(){Ro&&(Ro.detachEvent("onpropertychange",Ua),kn=Ro=null)}function Ua(r){if(r.propertyName==="value"&&Rr(kn)){var o=[];za(o,kn,r,lc(r)),ba(pm,o)}}function $a(r,o,d){r==="focusin"?(Oo(),Ro=o,kn=d,Ro.attachEvent("onpropertychange",Ua)):r==="focusout"&&Oo()}function Ps(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Rr(kn)}function Za(r,o){if(r==="click")return Rr(o)}function kc(r,o){if(r==="input"||r==="change")return Rr(o)}function Cd(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var Yn=typeof Object.is=="function"?Object.is:Cd;function oi(r,o){if(Yn(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var d=Object.keys(r),p=Object.keys(o);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var _=d[p];if(!g.call(o,_)||!Yn(r[_],o[_]))return!1}return!0}function jd(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Ec(r,o){var d=jd(r);r=0;for(var p;d;){if(d.nodeType===3){if(p=r+d.textContent.length,r<=o&&p>=o)return{node:d,offset:o-r};r=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=jd(d)}}function Td(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?Td(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function Ac(){for(var r=window,o=kt();o instanceof r.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)r=o.contentWindow;else break;o=kt(r.document)}return o}function Lc(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}function pr(r){var o=Ac(),d=r.focusedElem,p=r.selectionRange;if(o!==d&&d&&d.ownerDocument&&Td(d.ownerDocument.documentElement,d)){if(p!==null&&Lc(d)){if(o=p.start,r=p.end,r===void 0&&(r=o),"selectionStart"in d)d.selectionStart=o,d.selectionEnd=Math.min(r,d.value.length);else if(r=(o=d.ownerDocument||document)&&o.defaultView||window,r.getSelection){r=r.getSelection();var _=d.textContent.length,b=Math.min(p.start,_);p=p.end===void 0?b:Math.min(p.end,_),!r.extend&&b>p&&(_=p,p=b,b=_),_=Ec(d,b);var k=Ec(d,p);_&&k&&(r.rangeCount!==1||r.anchorNode!==_.node||r.anchorOffset!==_.offset||r.focusNode!==k.node||r.focusOffset!==k.offset)&&(o=o.createRange(),o.setStart(_.node,_.offset),r.removeAllRanges(),b>p?(r.addRange(o),r.extend(k.node,k.offset)):(o.setEnd(k.node,k.offset),r.addRange(o)))}}for(o=[],r=d;r=r.parentNode;)r.nodeType===1&&o.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<o.length;d++)r=o[d],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Wa=h&&"documentMode"in document&&11>=document.documentMode,Ns=null,Cs=null,Io=null,Ha=!1;function kd(r,o,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Ha||Ns==null||Ns!==kt(p)||(p=Ns,"selectionStart"in p&&Lc(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Io&&oi(Io,p)||(Io=p,p=m(Cs,"onSelect"),0<p.length&&(o=new _c("onSelect","select",null,o,d),r.push({event:o,listeners:p}),o.target=Ns)))}function ai(r,o){var d={};return d[r.toLowerCase()]=o.toLowerCase(),d["Webkit"+r]="webkit"+o,d["Moz"+r]="moz"+o,d}var js={animationend:ai("Animation","AnimationEnd"),animationiteration:ai("Animation","AnimationIteration"),animationstart:ai("Animation","AnimationStart"),transitionend:ai("Transition","TransitionEnd")},li={},Mc={};h&&(Mc=document.createElement("div").style,"AnimationEvent"in window||(delete js.animationend.animation,delete js.animationiteration.animation,delete js.animationstart.animation),"TransitionEvent"in window||delete js.transitionend.transition);function Do(r){if(li[r])return li[r];if(!js[r])return r;var o=js[r],d;for(d in o)if(o.hasOwnProperty(d)&&d in Mc)return li[r]=o[d];return r}var Ed=Do("animationend"),gr=Do("animationiteration"),Rc=Do("animationstart"),Oc=Do("transitionend"),Ts=new Map,Ad="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jn(r,o){Ts.set(r,o),u(o,[r])}for(var Fi=0;Fi<Ad.length;Fi++){var qa=Ad[Fi],Ld=qa.toLowerCase(),vm=qa[0].toUpperCase()+qa.slice(1);Jn(Ld,"on"+vm)}Jn(Ed,"onAnimationEnd"),Jn(gr,"onAnimationIteration"),Jn(Rc,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(Oc,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ks="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Md=new Set("cancel close invalid load scroll toggle".split(" ").concat(ks));function Ic(r,o,d){var p=r.type||"unknown-event";r.currentTarget=d,dc(p,o,void 0,r),r.currentTarget=null}function Dc(r,o){o=(o&4)!==0;for(var d=0;d<r.length;d++){var p=r[d],_=p.event;p=p.listeners;e:{var b=void 0;if(o)for(var k=p.length-1;0<=k;k--){var I=p[k],B=I.instance,Q=I.currentTarget;if(I=I.listener,B!==b&&_.isPropagationStopped())break e;Ic(_,I,Q),b=B}else for(k=0;k<p.length;k++){if(I=p[k],B=I.instance,Q=I.currentTarget,I=I.listener,B!==b&&_.isPropagationStopped())break e;Ic(_,I,Q),b=B}}}if(Po)throw r=Sa,Po=!1,Sa=null,r}function xt(r,o){var d=o[Ms];d===void 0&&(d=o[Ms]=new Set);var p=r+"__bubble";d.has(p)||(Rd(o,r,2,!1),d.add(p))}function Fc(r,o,d){var p=0;o&&(p|=4),Rd(d,r,p,o)}var Fo="_reactListening"+Math.random().toString(36).slice(2);function Es(r){if(!r[Fo]){r[Fo]=!0,s.forEach(function(d){d!=="selectionchange"&&(Md.has(d)||Fc(d,!1,r),Fc(d,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[Fo]||(o[Fo]=!0,Fc("selectionchange",!1,o))}}function Rd(r,o,d,p){switch(st(o)){case 1:var _=im;break;case 4:_=md;break;default:_=Lo}d=_.bind(null,o,d,r),_=void 0,!uc||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(_=!0),p?_!==void 0?r.addEventListener(o,d,{capture:!0,passive:_}):r.addEventListener(o,d,!0):_!==void 0?r.addEventListener(o,d,{passive:_}):r.addEventListener(o,d,!1)}function i(r,o,d,p,_){var b=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var k=p.tag;if(k===3||k===4){var I=p.stateNode.containerInfo;if(I===_||I.nodeType===8&&I.parentNode===_)break;if(k===4)for(k=p.return;k!==null;){var B=k.tag;if((B===3||B===4)&&(B=k.stateNode.containerInfo,B===_||B.nodeType===8&&B.parentNode===_))return;k=k.return}for(;I!==null;){if(k=Bi(I),k===null)return;if(B=k.tag,B===5||B===6){p=b=k;continue e}I=I.parentNode}}p=p.return}ba(function(){var Q=b,ie=lc(d),se=[];e:{var ne=Ts.get(r);if(ne!==void 0){var be=_c,Te=r;switch(r){case"keypress":if(Oa(d)===0)break e;case"keydown":case"keyup":be=xd;break;case"focusin":Te="focus",be=Ia;break;case"focusout":Te="blur",be=Ia;break;case"beforeblur":case"afterblur":be=Ia;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":be=bc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":be=Sc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":be=jc;break;case Ed:case gr:case Rc:be=am;break;case Oc:be=fm;break;case"scroll":be=sm;break;case"wheel":be=hm;break;case"copy":case"cut":case"paste":be=Pc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":be=wd}var ke=(o&4)!==0,$t=!ke&&r==="scroll",H=ke?ne!==null?ne+"Capture":null:ne;ke=[];for(var U=Q,K;U!==null;){K=U;var ue=K.stateNode;if(K.tag===5&&ue!==null&&(K=ue,H!==null&&(ue=bo(U,H),ue!=null&&ke.push(c(U,ue,K)))),$t)break;U=U.return}0<ke.length&&(ne=new be(ne,Te,null,d,ie),se.push({event:ne,listeners:ke}))}}if((o&7)===0){e:{if(ne=r==="mouseover"||r==="pointerover",be=r==="mouseout"||r==="pointerout",ne&&d!==ac&&(Te=d.relatedTarget||d.fromElement)&&(Bi(Te)||Te[gt]))break e;if((be||ne)&&(ne=ie.window===ie?ie:(ne=ie.ownerDocument)?ne.defaultView||ne.parentWindow:window,be?(Te=d.relatedTarget||d.toElement,be=Q,Te=Te?Bi(Te):null,Te!==null&&($t=ti(Te),Te!==$t||Te.tag!==5&&Te.tag!==6)&&(Te=null)):(be=null,Te=Q),be!==Te)){if(ke=bc,ue="onMouseLeave",H="onMouseEnter",U="mouse",(r==="pointerout"||r==="pointerover")&&(ke=wd,ue="onPointerLeave",H="onPointerEnter",U="pointer"),$t=be==null?ne:Ui(be),K=Te==null?ne:Ui(Te),ne=new ke(ue,U+"leave",be,d,ie),ne.target=$t,ne.relatedTarget=K,ue=null,Bi(ie)===Q&&(ke=new ke(H,U+"enter",Te,d,ie),ke.target=K,ke.relatedTarget=$t,ue=ke),$t=ue,be&&Te)t:{for(ke=be,H=Te,U=0,K=ke;K;K=x(K))U++;for(K=0,ue=H;ue;ue=x(ue))K++;for(;0<U-K;)ke=x(ke),U--;for(;0<K-U;)H=x(H),K--;for(;U--;){if(ke===H||H!==null&&ke===H.alternate)break t;ke=x(ke),H=x(H)}ke=null}else ke=null;be!==null&&P(se,ne,be,ke,!1),Te!==null&&$t!==null&&P(se,$t,Te,ke,!0)}}e:{if(ne=Q?Ui(Q):window,be=ne.nodeName&&ne.nodeName.toLowerCase(),be==="select"||be==="input"&&ne.type==="file")var Ae=gm;else if(Nd(ne))if(mr)Ae=kc;else{Ae=Ps;var Ie=$a}else(be=ne.nodeName)&&be.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(Ae=Za);if(Ae&&(Ae=Ae(r,Q))){za(se,Ae,d,ie);break e}Ie&&Ie(r,ne,Q),r==="focusout"&&(Ie=ne._wrapperState)&&Ie.controlled&&ne.type==="number"&&xo(ne,"number",ne.value)}switch(Ie=Q?Ui(Q):window,r){case"focusin":(Nd(Ie)||Ie.contentEditable==="true")&&(Ns=Ie,Cs=Q,Io=null);break;case"focusout":Io=Cs=Ns=null;break;case"mousedown":Ha=!0;break;case"contextmenu":case"mouseup":case"dragend":Ha=!1,kd(se,d,ie);break;case"selectionchange":if(Wa)break;case"keydown":case"keyup":kd(se,d,ie)}var De;if(ii)e:{switch(r){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else Mr?bs(r,d)&&(We="onCompositionEnd"):r==="keydown"&&d.keyCode===229&&(We="onCompositionStart");We&&(Sd&&d.locale!=="ko"&&(Mr||We!=="onCompositionStart"?We==="onCompositionEnd"&&Mr&&(De=xc()):(ni=ie,Tn="value"in ni?ni.value:ni.textContent,Mr=!0)),Ie=m(Q,We),0<Ie.length&&(We=new Nc(We,r,null,d,ie),se.push({event:We,listeners:Ie}),De?We.data=De:(De=Tc(d),De!==null&&(We.data=De)))),(De=Lr?mm(r,d):si(r,d))&&(Q=m(Q,"onBeforeInput"),0<Q.length&&(ie=new Nc("onBeforeInput","beforeinput",null,d,ie),se.push({event:ie,listeners:Q}),ie.data=De))}Dc(se,o)})}function c(r,o,d){return{instance:r,listener:o,currentTarget:d}}function m(r,o){for(var d=o+"Capture",p=[];r!==null;){var _=r,b=_.stateNode;_.tag===5&&b!==null&&(_=b,b=bo(r,d),b!=null&&p.unshift(c(r,b,_)),b=bo(r,o),b!=null&&p.push(c(r,b,_))),r=r.return}return p}function x(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function P(r,o,d,p,_){for(var b=o._reactName,k=[];d!==null&&d!==p;){var I=d,B=I.alternate,Q=I.stateNode;if(B!==null&&B===p)break;I.tag===5&&Q!==null&&(I=Q,_?(B=bo(d,b),B!=null&&k.unshift(c(d,B,I))):_||(B=bo(d,b),B!=null&&k.push(c(d,B,I)))),d=d.return}k.length!==0&&r.push({event:o,listeners:k})}var E=/\r\n?/g,F=/\u0000|\uFFFD/g;function W(r){return(typeof r=="string"?r:""+r).replace(E,`
`).replace(F,"")}function G(r,o,d){if(o=W(o),W(r)!==o&&d)throw Error(n(425))}function ee(){}var xe=null,Oe=null;function Qe(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Yt=typeof setTimeout=="function"?setTimeout:void 0,Ht=typeof clearTimeout=="function"?clearTimeout:void 0,En=typeof Promise=="function"?Promise:void 0,vn=typeof queueMicrotask=="function"?queueMicrotask:typeof En<"u"?function(r){return En.resolve(null).then(r).catch(As)}:Yt;function As(r){setTimeout(function(){throw r})}function zc(r,o){var d=o,p=0;do{var _=d.nextSibling;if(r.removeChild(d),_&&_.nodeType===8)if(d=_.data,d==="/$"){if(p===0){r.removeChild(_),Gn(o);return}p--}else d!=="$"&&d!=="$?"&&d!=="$!"||p++;d=_}while(d);Gn(o)}function ci(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return r}function Od(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var d=r.data;if(d==="$"||d==="$!"||d==="$?"){if(o===0)return r;o--}else d==="/$"&&o++}r=r.previousSibling}return null}var zi=Math.random().toString(36).slice(2),vr="__reactFiber$"+zi,Ls="__reactProps$"+zi,gt="__reactContainer$"+zi,Ms="__reactEvents$"+zi,ym="__reactListeners$"+zi,xm="__reactHandles$"+zi;function Bi(r){var o=r[vr];if(o)return o;for(var d=r.parentNode;d;){if(o=d[gt]||d[vr]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(r=Od(r);r!==null;){if(d=r[vr])return d;r=Od(r)}return o}r=d,d=r.parentNode}return null}function Vi(r){return r=r[vr]||r[gt],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Ui(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function Ka(r){return r[Ls]||null}var _m=[],Ga=-1;function Rs(r){return{current:r}}function Nt(r){0>Ga||(r.current=_m[Ga],_m[Ga]=null,Ga--)}function bt(r,o){Ga++,_m[Ga]=r.current,r.current=o}var Os={},yn=Rs(Os),Dn=Rs(!1),zo=Os;function Qa(r,o){var d=r.type.contextTypes;if(!d)return Os;var p=r.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===o)return p.__reactInternalMemoizedMaskedChildContext;var _={},b;for(b in d)_[b]=o[b];return p&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=o,r.__reactInternalMemoizedMaskedChildContext=_),_}function Fn(r){return r=r.childContextTypes,r!=null}function Id(){Nt(Dn),Nt(yn)}function $y(r,o,d){if(yn.current!==Os)throw Error(n(168));bt(yn,o),bt(Dn,d)}function Zy(r,o,d){var p=r.stateNode;if(o=o.childContextTypes,typeof p.getChildContext!="function")return d;p=p.getChildContext();for(var _ in p)if(!(_ in o))throw Error(n(108,fe(r)||"Unknown",_));return X({},d,p)}function Dd(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Os,zo=yn.current,bt(yn,r),bt(Dn,Dn.current),!0}function Wy(r,o,d){var p=r.stateNode;if(!p)throw Error(n(169));d?(r=Zy(r,o,zo),p.__reactInternalMemoizedMergedChildContext=r,Nt(Dn),Nt(yn),bt(yn,r)):Nt(Dn),bt(Dn,d)}var $i=null,Fd=!1,wm=!1;function Hy(r){$i===null?$i=[r]:$i.push(r)}function Nj(r){Fd=!0,Hy(r)}function Is(){if(!wm&&$i!==null){wm=!0;var r=0,o=ct;try{var d=$i;for(ct=1;r<d.length;r++){var p=d[r];do p=p(!0);while(p!==null)}$i=null,Fd=!1}catch(_){throw $i!==null&&($i=$i.slice(r+1)),dd(mc,Is),_}finally{ct=o,wm=!1}}return null}var Xa=[],Ya=0,zd=null,Bd=0,yr=[],xr=0,Bo=null,Zi=1,Wi="";function Vo(r,o){Xa[Ya++]=Bd,Xa[Ya++]=zd,zd=r,Bd=o}function qy(r,o,d){yr[xr++]=Zi,yr[xr++]=Wi,yr[xr++]=Bo,Bo=r;var p=Zi;r=Wi;var _=32-Ge(p)-1;p&=~(1<<_),d+=1;var b=32-Ge(o)+_;if(30<b){var k=_-_%5;b=(p&(1<<k)-1).toString(32),p>>=k,_-=k,Zi=1<<32-Ge(o)+_|d<<_|p,Wi=b+r}else Zi=1<<b|d<<_|p,Wi=r}function bm(r){r.return!==null&&(Vo(r,1),qy(r,1,0))}function Sm(r){for(;r===zd;)zd=Xa[--Ya],Xa[Ya]=null,Bd=Xa[--Ya],Xa[Ya]=null;for(;r===Bo;)Bo=yr[--xr],yr[xr]=null,Wi=yr[--xr],yr[xr]=null,Zi=yr[--xr],yr[xr]=null}var er=null,tr=null,Tt=!1,Or=null;function Ky(r,o){var d=Sr(5,null,null,0);d.elementType="DELETED",d.stateNode=o,d.return=r,o=r.deletions,o===null?(r.deletions=[d],r.flags|=16):o.push(d)}function Gy(r,o){switch(r.tag){case 5:var d=r.type;return o=o.nodeType!==1||d.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(r.stateNode=o,er=r,tr=ci(o.firstChild),!0):!1;case 6:return o=r.pendingProps===""||o.nodeType!==3?null:o,o!==null?(r.stateNode=o,er=r,tr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(d=Bo!==null?{id:Zi,overflow:Wi}:null,r.memoizedState={dehydrated:o,treeContext:d,retryLane:1073741824},d=Sr(18,null,null,0),d.stateNode=o,d.return=r,r.child=d,er=r,tr=null,!0):!1;default:return!1}}function Pm(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Nm(r){if(Tt){var o=tr;if(o){var d=o;if(!Gy(r,o)){if(Pm(r))throw Error(n(418));o=ci(d.nextSibling);var p=er;o&&Gy(r,o)?Ky(p,d):(r.flags=r.flags&-4097|2,Tt=!1,er=r)}}else{if(Pm(r))throw Error(n(418));r.flags=r.flags&-4097|2,Tt=!1,er=r}}}function Qy(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;er=r}function Vd(r){if(r!==er)return!1;if(!Tt)return Qy(r),Tt=!0,!1;var o;if((o=r.tag!==3)&&!(o=r.tag!==5)&&(o=r.type,o=o!=="head"&&o!=="body"&&!Qe(r.type,r.memoizedProps)),o&&(o=tr)){if(Pm(r))throw Xy(),Error(n(418));for(;o;)Ky(r,o),o=ci(o.nextSibling)}if(Qy(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8){var d=r.data;if(d==="/$"){if(o===0){tr=ci(r.nextSibling);break e}o--}else d!=="$"&&d!=="$!"&&d!=="$?"||o++}r=r.nextSibling}tr=null}}else tr=er?ci(r.stateNode.nextSibling):null;return!0}function Xy(){for(var r=tr;r;)r=ci(r.nextSibling)}function Ja(){tr=er=null,Tt=!1}function Cm(r){Or===null?Or=[r]:Or.push(r)}var Cj=O.ReactCurrentBatchConfig;function Bc(r,o,d){if(r=d.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var p=d.stateNode}if(!p)throw Error(n(147,r));var _=p,b=""+r;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===b?o.ref:(o=function(k){var I=_.refs;k===null?delete I[b]:I[b]=k},o._stringRef=b,o)}if(typeof r!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,r))}return r}function Ud(r,o){throw r=Object.prototype.toString.call(o),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r))}function Yy(r){var o=r._init;return o(r._payload)}function Jy(r){function o(H,U){if(r){var K=H.deletions;K===null?(H.deletions=[U],H.flags|=16):K.push(U)}}function d(H,U){if(!r)return null;for(;U!==null;)o(H,U),U=U.sibling;return null}function p(H,U){for(H=new Map;U!==null;)U.key!==null?H.set(U.key,U):H.set(U.index,U),U=U.sibling;return H}function _(H,U){return H=Zs(H,U),H.index=0,H.sibling=null,H}function b(H,U,K){return H.index=K,r?(K=H.alternate,K!==null?(K=K.index,K<U?(H.flags|=2,U):K):(H.flags|=2,U)):(H.flags|=1048576,U)}function k(H){return r&&H.alternate===null&&(H.flags|=2),H}function I(H,U,K,ue){return U===null||U.tag!==6?(U=vp(K,H.mode,ue),U.return=H,U):(U=_(U,K),U.return=H,U)}function B(H,U,K,ue){var Ae=K.type;return Ae===q?ie(H,U,K.props.children,ue,K.key):U!==null&&(U.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===de&&Yy(Ae)===U.type)?(ue=_(U,K.props),ue.ref=Bc(H,U,K),ue.return=H,ue):(ue=hf(K.type,K.key,K.props,null,H.mode,ue),ue.ref=Bc(H,U,K),ue.return=H,ue)}function Q(H,U,K,ue){return U===null||U.tag!==4||U.stateNode.containerInfo!==K.containerInfo||U.stateNode.implementation!==K.implementation?(U=yp(K,H.mode,ue),U.return=H,U):(U=_(U,K.children||[]),U.return=H,U)}function ie(H,U,K,ue,Ae){return U===null||U.tag!==7?(U=Go(K,H.mode,ue,Ae),U.return=H,U):(U=_(U,K),U.return=H,U)}function se(H,U,K){if(typeof U=="string"&&U!==""||typeof U=="number")return U=vp(""+U,H.mode,K),U.return=H,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case V:return K=hf(U.type,U.key,U.props,null,H.mode,K),K.ref=Bc(H,null,U),K.return=H,K;case Z:return U=yp(U,H.mode,K),U.return=H,U;case de:var ue=U._init;return se(H,ue(U._payload),K)}if(ei(U)||oe(U))return U=Go(U,H.mode,K,null),U.return=H,U;Ud(H,U)}return null}function ne(H,U,K,ue){var Ae=U!==null?U.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return Ae!==null?null:I(H,U,""+K,ue);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case V:return K.key===Ae?B(H,U,K,ue):null;case Z:return K.key===Ae?Q(H,U,K,ue):null;case de:return Ae=K._init,ne(H,U,Ae(K._payload),ue)}if(ei(K)||oe(K))return Ae!==null?null:ie(H,U,K,ue,null);Ud(H,K)}return null}function be(H,U,K,ue,Ae){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return H=H.get(K)||null,I(U,H,""+ue,Ae);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case V:return H=H.get(ue.key===null?K:ue.key)||null,B(U,H,ue,Ae);case Z:return H=H.get(ue.key===null?K:ue.key)||null,Q(U,H,ue,Ae);case de:var Ie=ue._init;return be(H,U,K,Ie(ue._payload),Ae)}if(ei(ue)||oe(ue))return H=H.get(K)||null,ie(U,H,ue,Ae,null);Ud(U,ue)}return null}function Te(H,U,K,ue){for(var Ae=null,Ie=null,De=U,We=U=0,sn=null;De!==null&&We<K.length;We++){De.index>We?(sn=De,De=null):sn=De.sibling;var pt=ne(H,De,K[We],ue);if(pt===null){De===null&&(De=sn);break}r&&De&&pt.alternate===null&&o(H,De),U=b(pt,U,We),Ie===null?Ae=pt:Ie.sibling=pt,Ie=pt,De=sn}if(We===K.length)return d(H,De),Tt&&Vo(H,We),Ae;if(De===null){for(;We<K.length;We++)De=se(H,K[We],ue),De!==null&&(U=b(De,U,We),Ie===null?Ae=De:Ie.sibling=De,Ie=De);return Tt&&Vo(H,We),Ae}for(De=p(H,De);We<K.length;We++)sn=be(De,H,We,K[We],ue),sn!==null&&(r&&sn.alternate!==null&&De.delete(sn.key===null?We:sn.key),U=b(sn,U,We),Ie===null?Ae=sn:Ie.sibling=sn,Ie=sn);return r&&De.forEach(function(Ws){return o(H,Ws)}),Tt&&Vo(H,We),Ae}function ke(H,U,K,ue){var Ae=oe(K);if(typeof Ae!="function")throw Error(n(150));if(K=Ae.call(K),K==null)throw Error(n(151));for(var Ie=Ae=null,De=U,We=U=0,sn=null,pt=K.next();De!==null&&!pt.done;We++,pt=K.next()){De.index>We?(sn=De,De=null):sn=De.sibling;var Ws=ne(H,De,pt.value,ue);if(Ws===null){De===null&&(De=sn);break}r&&De&&Ws.alternate===null&&o(H,De),U=b(Ws,U,We),Ie===null?Ae=Ws:Ie.sibling=Ws,Ie=Ws,De=sn}if(pt.done)return d(H,De),Tt&&Vo(H,We),Ae;if(De===null){for(;!pt.done;We++,pt=K.next())pt=se(H,pt.value,ue),pt!==null&&(U=b(pt,U,We),Ie===null?Ae=pt:Ie.sibling=pt,Ie=pt);return Tt&&Vo(H,We),Ae}for(De=p(H,De);!pt.done;We++,pt=K.next())pt=be(De,H,We,pt.value,ue),pt!==null&&(r&&pt.alternate!==null&&De.delete(pt.key===null?We:pt.key),U=b(pt,U,We),Ie===null?Ae=pt:Ie.sibling=pt,Ie=pt);return r&&De.forEach(function(sT){return o(H,sT)}),Tt&&Vo(H,We),Ae}function $t(H,U,K,ue){if(typeof K=="object"&&K!==null&&K.type===q&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case V:e:{for(var Ae=K.key,Ie=U;Ie!==null;){if(Ie.key===Ae){if(Ae=K.type,Ae===q){if(Ie.tag===7){d(H,Ie.sibling),U=_(Ie,K.props.children),U.return=H,H=U;break e}}else if(Ie.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===de&&Yy(Ae)===Ie.type){d(H,Ie.sibling),U=_(Ie,K.props),U.ref=Bc(H,Ie,K),U.return=H,H=U;break e}d(H,Ie);break}else o(H,Ie);Ie=Ie.sibling}K.type===q?(U=Go(K.props.children,H.mode,ue,K.key),U.return=H,H=U):(ue=hf(K.type,K.key,K.props,null,H.mode,ue),ue.ref=Bc(H,U,K),ue.return=H,H=ue)}return k(H);case Z:e:{for(Ie=K.key;U!==null;){if(U.key===Ie)if(U.tag===4&&U.stateNode.containerInfo===K.containerInfo&&U.stateNode.implementation===K.implementation){d(H,U.sibling),U=_(U,K.children||[]),U.return=H,H=U;break e}else{d(H,U);break}else o(H,U);U=U.sibling}U=yp(K,H.mode,ue),U.return=H,H=U}return k(H);case de:return Ie=K._init,$t(H,U,Ie(K._payload),ue)}if(ei(K))return Te(H,U,K,ue);if(oe(K))return ke(H,U,K,ue);Ud(H,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,U!==null&&U.tag===6?(d(H,U.sibling),U=_(U,K),U.return=H,H=U):(d(H,U),U=vp(K,H.mode,ue),U.return=H,H=U),k(H)):d(H,U)}return $t}var el=Jy(!0),ex=Jy(!1),$d=Rs(null),Zd=null,tl=null,jm=null;function Tm(){jm=tl=Zd=null}function km(r){var o=$d.current;Nt($d),r._currentValue=o}function Em(r,o,d){for(;r!==null;){var p=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),r===d)break;r=r.return}}function nl(r,o){Zd=r,jm=tl=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&o)!==0&&(zn=!0),r.firstContext=null)}function _r(r){var o=r._currentValue;if(jm!==r)if(r={context:r,memoizedValue:o,next:null},tl===null){if(Zd===null)throw Error(n(308));tl=r,Zd.dependencies={lanes:0,firstContext:r}}else tl=tl.next=r;return o}var Uo=null;function Am(r){Uo===null?Uo=[r]:Uo.push(r)}function tx(r,o,d,p){var _=o.interleaved;return _===null?(d.next=d,Am(o)):(d.next=_.next,_.next=d),o.interleaved=d,Hi(r,p)}function Hi(r,o){r.lanes|=o;var d=r.alternate;for(d!==null&&(d.lanes|=o),d=r,r=r.return;r!==null;)r.childLanes|=o,d=r.alternate,d!==null&&(d.childLanes|=o),d=r,r=r.return;return d.tag===3?d.stateNode:null}var Ds=!1;function Lm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nx(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function qi(r,o){return{eventTime:r,lane:o,tag:0,payload:null,callback:null,next:null}}function Fs(r,o,d){var p=r.updateQueue;if(p===null)return null;if(p=p.shared,(ft&2)!==0){var _=p.pending;return _===null?o.next=o:(o.next=_.next,_.next=o),p.pending=o,Hi(r,d)}return _=p.interleaved,_===null?(o.next=o,Am(p)):(o.next=_.next,_.next=o),p.interleaved=o,Hi(r,d)}function Wd(r,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194240)!==0)){var p=o.lanes;p&=r.pendingLanes,d|=p,o.lanes=d,Er(r,d)}}function rx(r,o){var d=r.updateQueue,p=r.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var _=null,b=null;if(d=d.firstBaseUpdate,d!==null){do{var k={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};b===null?_=b=k:b=b.next=k,d=d.next}while(d!==null);b===null?_=b=o:b=b.next=o}else _=b=o;d={baseState:p.baseState,firstBaseUpdate:_,lastBaseUpdate:b,shared:p.shared,effects:p.effects},r.updateQueue=d;return}r=d.lastBaseUpdate,r===null?d.firstBaseUpdate=o:r.next=o,d.lastBaseUpdate=o}function Hd(r,o,d,p){var _=r.updateQueue;Ds=!1;var b=_.firstBaseUpdate,k=_.lastBaseUpdate,I=_.shared.pending;if(I!==null){_.shared.pending=null;var B=I,Q=B.next;B.next=null,k===null?b=Q:k.next=Q,k=B;var ie=r.alternate;ie!==null&&(ie=ie.updateQueue,I=ie.lastBaseUpdate,I!==k&&(I===null?ie.firstBaseUpdate=Q:I.next=Q,ie.lastBaseUpdate=B))}if(b!==null){var se=_.baseState;k=0,ie=Q=B=null,I=b;do{var ne=I.lane,be=I.eventTime;if((p&ne)===ne){ie!==null&&(ie=ie.next={eventTime:be,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var Te=r,ke=I;switch(ne=o,be=d,ke.tag){case 1:if(Te=ke.payload,typeof Te=="function"){se=Te.call(be,se,ne);break e}se=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=ke.payload,ne=typeof Te=="function"?Te.call(be,se,ne):Te,ne==null)break e;se=X({},se,ne);break e;case 2:Ds=!0}}I.callback!==null&&I.lane!==0&&(r.flags|=64,ne=_.effects,ne===null?_.effects=[I]:ne.push(I))}else be={eventTime:be,lane:ne,tag:I.tag,payload:I.payload,callback:I.callback,next:null},ie===null?(Q=ie=be,B=se):ie=ie.next=be,k|=ne;if(I=I.next,I===null){if(I=_.shared.pending,I===null)break;ne=I,I=ne.next,ne.next=null,_.lastBaseUpdate=ne,_.shared.pending=null}}while(!0);if(ie===null&&(B=se),_.baseState=B,_.firstBaseUpdate=Q,_.lastBaseUpdate=ie,o=_.shared.interleaved,o!==null){_=o;do k|=_.lane,_=_.next;while(_!==o)}else b===null&&(_.shared.lanes=0);Wo|=k,r.lanes=k,r.memoizedState=se}}function ix(r,o,d){if(r=o.effects,o.effects=null,r!==null)for(o=0;o<r.length;o++){var p=r[o],_=p.callback;if(_!==null){if(p.callback=null,p=d,typeof _!="function")throw Error(n(191,_));_.call(p)}}}var Vc={},ui=Rs(Vc),Uc=Rs(Vc),$c=Rs(Vc);function $o(r){if(r===Vc)throw Error(n(174));return r}function Mm(r,o){switch(bt($c,o),bt(Uc,r),bt(ui,Vc),r=o.nodeType,r){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:xa(null,"");break;default:r=r===8?o.parentNode:o,o=r.namespaceURI||null,r=r.tagName,o=xa(o,r)}Nt(ui),bt(ui,o)}function rl(){Nt(ui),Nt(Uc),Nt($c)}function sx(r){$o($c.current);var o=$o(ui.current),d=xa(o,r.type);o!==d&&(bt(Uc,r),bt(ui,d))}function Rm(r){Uc.current===r&&(Nt(ui),Nt(Uc))}var Mt=Rs(0);function qd(r){for(var o=r;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Om=[];function Im(){for(var r=0;r<Om.length;r++)Om[r]._workInProgressVersionPrimary=null;Om.length=0}var Kd=O.ReactCurrentDispatcher,Dm=O.ReactCurrentBatchConfig,Zo=0,Rt=null,Jt=null,nn=null,Gd=!1,Zc=!1,Wc=0,jj=0;function xn(){throw Error(n(321))}function Fm(r,o){if(o===null)return!1;for(var d=0;d<o.length&&d<r.length;d++)if(!Yn(r[d],o[d]))return!1;return!0}function zm(r,o,d,p,_,b){if(Zo=b,Rt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Kd.current=r===null||r.memoizedState===null?Aj:Lj,r=d(p,_),Zc){b=0;do{if(Zc=!1,Wc=0,25<=b)throw Error(n(301));b+=1,nn=Jt=null,o.updateQueue=null,Kd.current=Mj,r=d(p,_)}while(Zc)}if(Kd.current=Yd,o=Jt!==null&&Jt.next!==null,Zo=0,nn=Jt=Rt=null,Gd=!1,o)throw Error(n(300));return r}function Bm(){var r=Wc!==0;return Wc=0,r}function di(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?Rt.memoizedState=nn=r:nn=nn.next=r,nn}function wr(){if(Jt===null){var r=Rt.alternate;r=r!==null?r.memoizedState:null}else r=Jt.next;var o=nn===null?Rt.memoizedState:nn.next;if(o!==null)nn=o,Jt=r;else{if(r===null)throw Error(n(310));Jt=r,r={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},nn===null?Rt.memoizedState=nn=r:nn=nn.next=r}return nn}function Hc(r,o){return typeof o=="function"?o(r):o}function Vm(r){var o=wr(),d=o.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=r;var p=Jt,_=p.baseQueue,b=d.pending;if(b!==null){if(_!==null){var k=_.next;_.next=b.next,b.next=k}p.baseQueue=_=b,d.pending=null}if(_!==null){b=_.next,p=p.baseState;var I=k=null,B=null,Q=b;do{var ie=Q.lane;if((Zo&ie)===ie)B!==null&&(B=B.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),p=Q.hasEagerState?Q.eagerState:r(p,Q.action);else{var se={lane:ie,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};B===null?(I=B=se,k=p):B=B.next=se,Rt.lanes|=ie,Wo|=ie}Q=Q.next}while(Q!==null&&Q!==b);B===null?k=p:B.next=I,Yn(p,o.memoizedState)||(zn=!0),o.memoizedState=p,o.baseState=k,o.baseQueue=B,d.lastRenderedState=p}if(r=d.interleaved,r!==null){_=r;do b=_.lane,Rt.lanes|=b,Wo|=b,_=_.next;while(_!==r)}else _===null&&(d.lanes=0);return[o.memoizedState,d.dispatch]}function Um(r){var o=wr(),d=o.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=r;var p=d.dispatch,_=d.pending,b=o.memoizedState;if(_!==null){d.pending=null;var k=_=_.next;do b=r(b,k.action),k=k.next;while(k!==_);Yn(b,o.memoizedState)||(zn=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),d.lastRenderedState=b}return[b,p]}function ox(){}function ax(r,o){var d=Rt,p=wr(),_=o(),b=!Yn(p.memoizedState,_);if(b&&(p.memoizedState=_,zn=!0),p=p.queue,$m(ux.bind(null,d,p,r),[r]),p.getSnapshot!==o||b||nn!==null&&nn.memoizedState.tag&1){if(d.flags|=2048,qc(9,cx.bind(null,d,p,_,o),void 0,null),rn===null)throw Error(n(349));(Zo&30)!==0||lx(d,o,_)}return _}function lx(r,o,d){r.flags|=16384,r={getSnapshot:o,value:d},o=Rt.updateQueue,o===null?(o={lastEffect:null,stores:null},Rt.updateQueue=o,o.stores=[r]):(d=o.stores,d===null?o.stores=[r]:d.push(r))}function cx(r,o,d,p){o.value=d,o.getSnapshot=p,dx(o)&&fx(r)}function ux(r,o,d){return d(function(){dx(o)&&fx(r)})}function dx(r){var o=r.getSnapshot;r=r.value;try{var d=o();return!Yn(r,d)}catch{return!0}}function fx(r){var o=Hi(r,1);o!==null&&zr(o,r,1,-1)}function hx(r){var o=di();return typeof r=="function"&&(r=r()),o.memoizedState=o.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hc,lastRenderedState:r},o.queue=r,r=r.dispatch=Ej.bind(null,Rt,r),[o.memoizedState,r]}function qc(r,o,d,p){return r={tag:r,create:o,destroy:d,deps:p,next:null},o=Rt.updateQueue,o===null?(o={lastEffect:null,stores:null},Rt.updateQueue=o,o.lastEffect=r.next=r):(d=o.lastEffect,d===null?o.lastEffect=r.next=r:(p=d.next,d.next=r,r.next=p,o.lastEffect=r)),r}function mx(){return wr().memoizedState}function Qd(r,o,d,p){var _=di();Rt.flags|=r,_.memoizedState=qc(1|o,d,void 0,p===void 0?null:p)}function Xd(r,o,d,p){var _=wr();p=p===void 0?null:p;var b=void 0;if(Jt!==null){var k=Jt.memoizedState;if(b=k.destroy,p!==null&&Fm(p,k.deps)){_.memoizedState=qc(o,d,b,p);return}}Rt.flags|=r,_.memoizedState=qc(1|o,d,b,p)}function px(r,o){return Qd(8390656,8,r,o)}function $m(r,o){return Xd(2048,8,r,o)}function gx(r,o){return Xd(4,2,r,o)}function vx(r,o){return Xd(4,4,r,o)}function yx(r,o){if(typeof o=="function")return r=r(),o(r),function(){o(null)};if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function xx(r,o,d){return d=d!=null?d.concat([r]):null,Xd(4,4,yx.bind(null,o,r),d)}function Zm(){}function _x(r,o){var d=wr();o=o===void 0?null:o;var p=d.memoizedState;return p!==null&&o!==null&&Fm(o,p[1])?p[0]:(d.memoizedState=[r,o],r)}function wx(r,o){var d=wr();o=o===void 0?null:o;var p=d.memoizedState;return p!==null&&o!==null&&Fm(o,p[1])?p[0]:(r=r(),d.memoizedState=[r,o],r)}function bx(r,o,d){return(Zo&21)===0?(r.baseState&&(r.baseState=!1,zn=!0),r.memoizedState=d):(Yn(d,o)||(d=hd(),Rt.lanes|=d,Wo|=d,r.baseState=!0),o)}function Tj(r,o){var d=ct;ct=d!==0&&4>d?d:4,r(!0);var p=Dm.transition;Dm.transition={};try{r(!1),o()}finally{ct=d,Dm.transition=p}}function Sx(){return wr().memoizedState}function kj(r,o,d){var p=Us(r);if(d={lane:p,action:d,hasEagerState:!1,eagerState:null,next:null},Px(r))Nx(o,d);else if(d=tx(r,o,d,p),d!==null){var _=Ln();zr(d,r,p,_),Cx(d,o,p)}}function Ej(r,o,d){var p=Us(r),_={lane:p,action:d,hasEagerState:!1,eagerState:null,next:null};if(Px(r))Nx(o,_);else{var b=r.alternate;if(r.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var k=o.lastRenderedState,I=b(k,d);if(_.hasEagerState=!0,_.eagerState=I,Yn(I,k)){var B=o.interleaved;B===null?(_.next=_,Am(o)):(_.next=B.next,B.next=_),o.interleaved=_;return}}catch{}d=tx(r,o,_,p),d!==null&&(_=Ln(),zr(d,r,p,_),Cx(d,o,p))}}function Px(r){var o=r.alternate;return r===Rt||o!==null&&o===Rt}function Nx(r,o){Zc=Gd=!0;var d=r.pending;d===null?o.next=o:(o.next=d.next,d.next=o),r.pending=o}function Cx(r,o,d){if((d&4194240)!==0){var p=o.lanes;p&=r.pendingLanes,d|=p,o.lanes=d,Er(r,d)}}var Yd={readContext:_r,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useInsertionEffect:xn,useLayoutEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useMutableSource:xn,useSyncExternalStore:xn,useId:xn,unstable_isNewReconciler:!1},Aj={readContext:_r,useCallback:function(r,o){return di().memoizedState=[r,o===void 0?null:o],r},useContext:_r,useEffect:px,useImperativeHandle:function(r,o,d){return d=d!=null?d.concat([r]):null,Qd(4194308,4,yx.bind(null,o,r),d)},useLayoutEffect:function(r,o){return Qd(4194308,4,r,o)},useInsertionEffect:function(r,o){return Qd(4,2,r,o)},useMemo:function(r,o){var d=di();return o=o===void 0?null:o,r=r(),d.memoizedState=[r,o],r},useReducer:function(r,o,d){var p=di();return o=d!==void 0?d(o):o,p.memoizedState=p.baseState=o,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:o},p.queue=r,r=r.dispatch=kj.bind(null,Rt,r),[p.memoizedState,r]},useRef:function(r){var o=di();return r={current:r},o.memoizedState=r},useState:hx,useDebugValue:Zm,useDeferredValue:function(r){return di().memoizedState=r},useTransition:function(){var r=hx(!1),o=r[0];return r=Tj.bind(null,r[1]),di().memoizedState=r,[o,r]},useMutableSource:function(){},useSyncExternalStore:function(r,o,d){var p=Rt,_=di();if(Tt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=o(),rn===null)throw Error(n(349));(Zo&30)!==0||lx(p,o,d)}_.memoizedState=d;var b={value:d,getSnapshot:o};return _.queue=b,px(ux.bind(null,p,b,r),[r]),p.flags|=2048,qc(9,cx.bind(null,p,b,d,o),void 0,null),d},useId:function(){var r=di(),o=rn.identifierPrefix;if(Tt){var d=Wi,p=Zi;d=(p&~(1<<32-Ge(p)-1)).toString(32)+d,o=":"+o+"R"+d,d=Wc++,0<d&&(o+="H"+d.toString(32)),o+=":"}else d=jj++,o=":"+o+"r"+d.toString(32)+":";return r.memoizedState=o},unstable_isNewReconciler:!1},Lj={readContext:_r,useCallback:_x,useContext:_r,useEffect:$m,useImperativeHandle:xx,useInsertionEffect:gx,useLayoutEffect:vx,useMemo:wx,useReducer:Vm,useRef:mx,useState:function(){return Vm(Hc)},useDebugValue:Zm,useDeferredValue:function(r){var o=wr();return bx(o,Jt.memoizedState,r)},useTransition:function(){var r=Vm(Hc)[0],o=wr().memoizedState;return[r,o]},useMutableSource:ox,useSyncExternalStore:ax,useId:Sx,unstable_isNewReconciler:!1},Mj={readContext:_r,useCallback:_x,useContext:_r,useEffect:$m,useImperativeHandle:xx,useInsertionEffect:gx,useLayoutEffect:vx,useMemo:wx,useReducer:Um,useRef:mx,useState:function(){return Um(Hc)},useDebugValue:Zm,useDeferredValue:function(r){var o=wr();return Jt===null?o.memoizedState=r:bx(o,Jt.memoizedState,r)},useTransition:function(){var r=Um(Hc)[0],o=wr().memoizedState;return[r,o]},useMutableSource:ox,useSyncExternalStore:ax,useId:Sx,unstable_isNewReconciler:!1};function Ir(r,o){if(r&&r.defaultProps){o=X({},o),r=r.defaultProps;for(var d in r)o[d]===void 0&&(o[d]=r[d]);return o}return o}function Wm(r,o,d,p){o=r.memoizedState,d=d(p,o),d=d==null?o:X({},o,d),r.memoizedState=d,r.lanes===0&&(r.updateQueue.baseState=d)}var Jd={isMounted:function(r){return(r=r._reactInternals)?ti(r)===r:!1},enqueueSetState:function(r,o,d){r=r._reactInternals;var p=Ln(),_=Us(r),b=qi(p,_);b.payload=o,d!=null&&(b.callback=d),o=Fs(r,b,_),o!==null&&(zr(o,r,_,p),Wd(o,r,_))},enqueueReplaceState:function(r,o,d){r=r._reactInternals;var p=Ln(),_=Us(r),b=qi(p,_);b.tag=1,b.payload=o,d!=null&&(b.callback=d),o=Fs(r,b,_),o!==null&&(zr(o,r,_,p),Wd(o,r,_))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var d=Ln(),p=Us(r),_=qi(d,p);_.tag=2,o!=null&&(_.callback=o),o=Fs(r,_,p),o!==null&&(zr(o,r,p,d),Wd(o,r,p))}};function jx(r,o,d,p,_,b,k){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(p,b,k):o.prototype&&o.prototype.isPureReactComponent?!oi(d,p)||!oi(_,b):!0}function Tx(r,o,d){var p=!1,_=Os,b=o.contextType;return typeof b=="object"&&b!==null?b=_r(b):(_=Fn(o)?zo:yn.current,p=o.contextTypes,b=(p=p!=null)?Qa(r,_):Os),o=new o(d,b),r.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Jd,r.stateNode=o,o._reactInternals=r,p&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=_,r.__reactInternalMemoizedMaskedChildContext=b),o}function kx(r,o,d,p){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,p),o.state!==r&&Jd.enqueueReplaceState(o,o.state,null)}function Hm(r,o,d,p){var _=r.stateNode;_.props=d,_.state=r.memoizedState,_.refs={},Lm(r);var b=o.contextType;typeof b=="object"&&b!==null?_.context=_r(b):(b=Fn(o)?zo:yn.current,_.context=Qa(r,b)),_.state=r.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(Wm(r,o,b,d),_.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(o=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),o!==_.state&&Jd.enqueueReplaceState(_,_.state,null),Hd(r,d,_,p),_.state=r.memoizedState),typeof _.componentDidMount=="function"&&(r.flags|=4194308)}function il(r,o){try{var d="",p=o;do d+=we(p),p=p.return;while(p);var _=d}catch(b){_=`
Error generating stack: `+b.message+`
`+b.stack}return{value:r,source:o,stack:_,digest:null}}function qm(r,o,d){return{value:r,source:null,stack:d??null,digest:o??null}}function Km(r,o){try{console.error(o.value)}catch(d){setTimeout(function(){throw d})}}var Rj=typeof WeakMap=="function"?WeakMap:Map;function Ex(r,o,d){d=qi(-1,d),d.tag=3,d.payload={element:null};var p=o.value;return d.callback=function(){af||(af=!0,cp=p),Km(r,o)},d}function Ax(r,o,d){d=qi(-1,d),d.tag=3;var p=r.type.getDerivedStateFromError;if(typeof p=="function"){var _=o.value;d.payload=function(){return p(_)},d.callback=function(){Km(r,o)}}var b=r.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(d.callback=function(){Km(r,o),typeof p!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var k=o.stack;this.componentDidCatch(o.value,{componentStack:k!==null?k:""})}),d}function Lx(r,o,d){var p=r.pingCache;if(p===null){p=r.pingCache=new Rj;var _=new Set;p.set(o,_)}else _=p.get(o),_===void 0&&(_=new Set,p.set(o,_));_.has(d)||(_.add(d),r=Kj.bind(null,r,o,d),o.then(r,r))}function Mx(r){do{var o;if((o=r.tag===13)&&(o=r.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return r;r=r.return}while(r!==null);return null}function Rx(r,o,d,p,_){return(r.mode&1)===0?(r===o?r.flags|=65536:(r.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(o=qi(-1,1),o.tag=2,Fs(d,o,1))),d.lanes|=1),r):(r.flags|=65536,r.lanes=_,r)}var Oj=O.ReactCurrentOwner,zn=!1;function An(r,o,d,p){o.child=r===null?ex(o,null,d,p):el(o,r.child,d,p)}function Ox(r,o,d,p,_){d=d.render;var b=o.ref;return nl(o,_),p=zm(r,o,d,p,b,_),d=Bm(),r!==null&&!zn?(o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~_,Ki(r,o,_)):(Tt&&d&&bm(o),o.flags|=1,An(r,o,p,_),o.child)}function Ix(r,o,d,p,_){if(r===null){var b=d.type;return typeof b=="function"&&!gp(b)&&b.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(o.tag=15,o.type=b,Dx(r,o,b,p,_)):(r=hf(d.type,null,p,o,o.mode,_),r.ref=o.ref,r.return=o,o.child=r)}if(b=r.child,(r.lanes&_)===0){var k=b.memoizedProps;if(d=d.compare,d=d!==null?d:oi,d(k,p)&&r.ref===o.ref)return Ki(r,o,_)}return o.flags|=1,r=Zs(b,p),r.ref=o.ref,r.return=o,o.child=r}function Dx(r,o,d,p,_){if(r!==null){var b=r.memoizedProps;if(oi(b,p)&&r.ref===o.ref)if(zn=!1,o.pendingProps=p=b,(r.lanes&_)!==0)(r.flags&131072)!==0&&(zn=!0);else return o.lanes=r.lanes,Ki(r,o,_)}return Gm(r,o,d,p,_)}function Fx(r,o,d){var p=o.pendingProps,_=p.children,b=r!==null?r.memoizedState:null;if(p.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},bt(ol,nr),nr|=d;else{if((d&1073741824)===0)return r=b!==null?b.baseLanes|d:d,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:r,cachePool:null,transitions:null},o.updateQueue=null,bt(ol,nr),nr|=r,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=b!==null?b.baseLanes:d,bt(ol,nr),nr|=p}else b!==null?(p=b.baseLanes|d,o.memoizedState=null):p=d,bt(ol,nr),nr|=p;return An(r,o,_,d),o.child}function zx(r,o){var d=o.ref;(r===null&&d!==null||r!==null&&r.ref!==d)&&(o.flags|=512,o.flags|=2097152)}function Gm(r,o,d,p,_){var b=Fn(d)?zo:yn.current;return b=Qa(o,b),nl(o,_),d=zm(r,o,d,p,b,_),p=Bm(),r!==null&&!zn?(o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~_,Ki(r,o,_)):(Tt&&p&&bm(o),o.flags|=1,An(r,o,d,_),o.child)}function Bx(r,o,d,p,_){if(Fn(d)){var b=!0;Dd(o)}else b=!1;if(nl(o,_),o.stateNode===null)tf(r,o),Tx(o,d,p),Hm(o,d,p,_),p=!0;else if(r===null){var k=o.stateNode,I=o.memoizedProps;k.props=I;var B=k.context,Q=d.contextType;typeof Q=="object"&&Q!==null?Q=_r(Q):(Q=Fn(d)?zo:yn.current,Q=Qa(o,Q));var ie=d.getDerivedStateFromProps,se=typeof ie=="function"||typeof k.getSnapshotBeforeUpdate=="function";se||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(I!==p||B!==Q)&&kx(o,k,p,Q),Ds=!1;var ne=o.memoizedState;k.state=ne,Hd(o,p,k,_),B=o.memoizedState,I!==p||ne!==B||Dn.current||Ds?(typeof ie=="function"&&(Wm(o,d,ie,p),B=o.memoizedState),(I=Ds||jx(o,d,I,p,ne,B,Q))?(se||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(o.flags|=4194308)):(typeof k.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=B),k.props=p,k.state=B,k.context=Q,p=I):(typeof k.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{k=o.stateNode,nx(r,o),I=o.memoizedProps,Q=o.type===o.elementType?I:Ir(o.type,I),k.props=Q,se=o.pendingProps,ne=k.context,B=d.contextType,typeof B=="object"&&B!==null?B=_r(B):(B=Fn(d)?zo:yn.current,B=Qa(o,B));var be=d.getDerivedStateFromProps;(ie=typeof be=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(I!==se||ne!==B)&&kx(o,k,p,B),Ds=!1,ne=o.memoizedState,k.state=ne,Hd(o,p,k,_);var Te=o.memoizedState;I!==se||ne!==Te||Dn.current||Ds?(typeof be=="function"&&(Wm(o,d,be,p),Te=o.memoizedState),(Q=Ds||jx(o,d,Q,p,ne,Te,B)||!1)?(ie||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(p,Te,B),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(p,Te,B)),typeof k.componentDidUpdate=="function"&&(o.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof k.componentDidUpdate!="function"||I===r.memoizedProps&&ne===r.memoizedState||(o.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||I===r.memoizedProps&&ne===r.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=Te),k.props=p,k.state=Te,k.context=B,p=Q):(typeof k.componentDidUpdate!="function"||I===r.memoizedProps&&ne===r.memoizedState||(o.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||I===r.memoizedProps&&ne===r.memoizedState||(o.flags|=1024),p=!1)}return Qm(r,o,d,p,b,_)}function Qm(r,o,d,p,_,b){zx(r,o);var k=(o.flags&128)!==0;if(!p&&!k)return _&&Wy(o,d,!1),Ki(r,o,b);p=o.stateNode,Oj.current=o;var I=k&&typeof d.getDerivedStateFromError!="function"?null:p.render();return o.flags|=1,r!==null&&k?(o.child=el(o,r.child,null,b),o.child=el(o,null,I,b)):An(r,o,I,b),o.memoizedState=p.state,_&&Wy(o,d,!0),o.child}function Vx(r){var o=r.stateNode;o.pendingContext?$y(r,o.pendingContext,o.pendingContext!==o.context):o.context&&$y(r,o.context,!1),Mm(r,o.containerInfo)}function Ux(r,o,d,p,_){return Ja(),Cm(_),o.flags|=256,An(r,o,d,p),o.child}var Xm={dehydrated:null,treeContext:null,retryLane:0};function Ym(r){return{baseLanes:r,cachePool:null,transitions:null}}function $x(r,o,d){var p=o.pendingProps,_=Mt.current,b=!1,k=(o.flags&128)!==0,I;if((I=k)||(I=r!==null&&r.memoizedState===null?!1:(_&2)!==0),I?(b=!0,o.flags&=-129):(r===null||r.memoizedState!==null)&&(_|=1),bt(Mt,_&1),r===null)return Nm(o),r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((o.mode&1)===0?o.lanes=1:r.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(k=p.children,r=p.fallback,b?(p=o.mode,b=o.child,k={mode:"hidden",children:k},(p&1)===0&&b!==null?(b.childLanes=0,b.pendingProps=k):b=mf(k,p,0,null),r=Go(r,p,d,null),b.return=o,r.return=o,b.sibling=r,o.child=b,o.child.memoizedState=Ym(d),o.memoizedState=Xm,r):Jm(o,k));if(_=r.memoizedState,_!==null&&(I=_.dehydrated,I!==null))return Ij(r,o,k,p,I,_,d);if(b){b=p.fallback,k=o.mode,_=r.child,I=_.sibling;var B={mode:"hidden",children:p.children};return(k&1)===0&&o.child!==_?(p=o.child,p.childLanes=0,p.pendingProps=B,o.deletions=null):(p=Zs(_,B),p.subtreeFlags=_.subtreeFlags&14680064),I!==null?b=Zs(I,b):(b=Go(b,k,d,null),b.flags|=2),b.return=o,p.return=o,p.sibling=b,o.child=p,p=b,b=o.child,k=r.child.memoizedState,k=k===null?Ym(d):{baseLanes:k.baseLanes|d,cachePool:null,transitions:k.transitions},b.memoizedState=k,b.childLanes=r.childLanes&~d,o.memoizedState=Xm,p}return b=r.child,r=b.sibling,p=Zs(b,{mode:"visible",children:p.children}),(o.mode&1)===0&&(p.lanes=d),p.return=o,p.sibling=null,r!==null&&(d=o.deletions,d===null?(o.deletions=[r],o.flags|=16):d.push(r)),o.child=p,o.memoizedState=null,p}function Jm(r,o){return o=mf({mode:"visible",children:o},r.mode,0,null),o.return=r,r.child=o}function ef(r,o,d,p){return p!==null&&Cm(p),el(o,r.child,null,d),r=Jm(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function Ij(r,o,d,p,_,b,k){if(d)return o.flags&256?(o.flags&=-257,p=qm(Error(n(422))),ef(r,o,k,p)):o.memoizedState!==null?(o.child=r.child,o.flags|=128,null):(b=p.fallback,_=o.mode,p=mf({mode:"visible",children:p.children},_,0,null),b=Go(b,_,k,null),b.flags|=2,p.return=o,b.return=o,p.sibling=b,o.child=p,(o.mode&1)!==0&&el(o,r.child,null,k),o.child.memoizedState=Ym(k),o.memoizedState=Xm,b);if((o.mode&1)===0)return ef(r,o,k,null);if(_.data==="$!"){if(p=_.nextSibling&&_.nextSibling.dataset,p)var I=p.dgst;return p=I,b=Error(n(419)),p=qm(b,p,void 0),ef(r,o,k,p)}if(I=(k&r.childLanes)!==0,zn||I){if(p=rn,p!==null){switch(k&-k){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=(_&(p.suspendedLanes|k))!==0?0:_,_!==0&&_!==b.retryLane&&(b.retryLane=_,Hi(r,_),zr(p,r,_,-1))}return pp(),p=qm(Error(n(421))),ef(r,o,k,p)}return _.data==="$?"?(o.flags|=128,o.child=r.child,o=Gj.bind(null,r),_._reactRetry=o,null):(r=b.treeContext,tr=ci(_.nextSibling),er=o,Tt=!0,Or=null,r!==null&&(yr[xr++]=Zi,yr[xr++]=Wi,yr[xr++]=Bo,Zi=r.id,Wi=r.overflow,Bo=o),o=Jm(o,p.children),o.flags|=4096,o)}function Zx(r,o,d){r.lanes|=o;var p=r.alternate;p!==null&&(p.lanes|=o),Em(r.return,o,d)}function ep(r,o,d,p,_){var b=r.memoizedState;b===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:_}:(b.isBackwards=o,b.rendering=null,b.renderingStartTime=0,b.last=p,b.tail=d,b.tailMode=_)}function Wx(r,o,d){var p=o.pendingProps,_=p.revealOrder,b=p.tail;if(An(r,o,p.children,d),p=Mt.current,(p&2)!==0)p=p&1|2,o.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Zx(r,d,o);else if(r.tag===19)Zx(r,d,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}p&=1}if(bt(Mt,p),(o.mode&1)===0)o.memoizedState=null;else switch(_){case"forwards":for(d=o.child,_=null;d!==null;)r=d.alternate,r!==null&&qd(r)===null&&(_=d),d=d.sibling;d=_,d===null?(_=o.child,o.child=null):(_=d.sibling,d.sibling=null),ep(o,!1,_,d,b);break;case"backwards":for(d=null,_=o.child,o.child=null;_!==null;){if(r=_.alternate,r!==null&&qd(r)===null){o.child=_;break}r=_.sibling,_.sibling=d,d=_,_=r}ep(o,!0,d,null,b);break;case"together":ep(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function tf(r,o){(o.mode&1)===0&&r!==null&&(r.alternate=null,o.alternate=null,o.flags|=2)}function Ki(r,o,d){if(r!==null&&(o.dependencies=r.dependencies),Wo|=o.lanes,(d&o.childLanes)===0)return null;if(r!==null&&o.child!==r.child)throw Error(n(153));if(o.child!==null){for(r=o.child,d=Zs(r,r.pendingProps),o.child=d,d.return=o;r.sibling!==null;)r=r.sibling,d=d.sibling=Zs(r,r.pendingProps),d.return=o;d.sibling=null}return o.child}function Dj(r,o,d){switch(o.tag){case 3:Vx(o),Ja();break;case 5:sx(o);break;case 1:Fn(o.type)&&Dd(o);break;case 4:Mm(o,o.stateNode.containerInfo);break;case 10:var p=o.type._context,_=o.memoizedProps.value;bt($d,p._currentValue),p._currentValue=_;break;case 13:if(p=o.memoizedState,p!==null)return p.dehydrated!==null?(bt(Mt,Mt.current&1),o.flags|=128,null):(d&o.child.childLanes)!==0?$x(r,o,d):(bt(Mt,Mt.current&1),r=Ki(r,o,d),r!==null?r.sibling:null);bt(Mt,Mt.current&1);break;case 19:if(p=(d&o.childLanes)!==0,(r.flags&128)!==0){if(p)return Wx(r,o,d);o.flags|=128}if(_=o.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),bt(Mt,Mt.current),p)break;return null;case 22:case 23:return o.lanes=0,Fx(r,o,d)}return Ki(r,o,d)}var Hx,tp,qx,Kx;Hx=function(r,o){for(var d=o.child;d!==null;){if(d.tag===5||d.tag===6)r.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===o)break;for(;d.sibling===null;){if(d.return===null||d.return===o)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},tp=function(){},qx=function(r,o,d,p){var _=r.memoizedProps;if(_!==p){r=o.stateNode,$o(ui.current);var b=null;switch(d){case"input":_=hn(r,_),p=hn(r,p),b=[];break;case"select":_=X({},_,{value:void 0}),p=X({},p,{value:void 0}),b=[];break;case"textarea":_=je(r,_),p=je(r,p),b=[];break;default:typeof _.onClick!="function"&&typeof p.onClick=="function"&&(r.onclick=ee)}oc(d,p);var k;d=null;for(Q in _)if(!p.hasOwnProperty(Q)&&_.hasOwnProperty(Q)&&_[Q]!=null)if(Q==="style"){var I=_[Q];for(k in I)I.hasOwnProperty(k)&&(d||(d={}),d[k]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(a.hasOwnProperty(Q)?b||(b=[]):(b=b||[]).push(Q,null));for(Q in p){var B=p[Q];if(I=_?.[Q],p.hasOwnProperty(Q)&&B!==I&&(B!=null||I!=null))if(Q==="style")if(I){for(k in I)!I.hasOwnProperty(k)||B&&B.hasOwnProperty(k)||(d||(d={}),d[k]="");for(k in B)B.hasOwnProperty(k)&&I[k]!==B[k]&&(d||(d={}),d[k]=B[k])}else d||(b||(b=[]),b.push(Q,d)),d=B;else Q==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,I=I?I.__html:void 0,B!=null&&I!==B&&(b=b||[]).push(Q,B)):Q==="children"?typeof B!="string"&&typeof B!="number"||(b=b||[]).push(Q,""+B):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(a.hasOwnProperty(Q)?(B!=null&&Q==="onScroll"&&xt("scroll",r),b||I===B||(b=[])):(b=b||[]).push(Q,B))}d&&(b=b||[]).push("style",d);var Q=b;(o.updateQueue=Q)&&(o.flags|=4)}},Kx=function(r,o,d,p){d!==p&&(o.flags|=4)};function Kc(r,o){if(!Tt)switch(r.tailMode){case"hidden":o=r.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?r.tail=null:d.sibling=null;break;case"collapsed":d=r.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:p.sibling=null}}function _n(r){var o=r.alternate!==null&&r.alternate.child===r.child,d=0,p=0;if(o)for(var _=r.child;_!==null;)d|=_.lanes|_.childLanes,p|=_.subtreeFlags&14680064,p|=_.flags&14680064,_.return=r,_=_.sibling;else for(_=r.child;_!==null;)d|=_.lanes|_.childLanes,p|=_.subtreeFlags,p|=_.flags,_.return=r,_=_.sibling;return r.subtreeFlags|=p,r.childLanes=d,o}function Fj(r,o,d){var p=o.pendingProps;switch(Sm(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(o),null;case 1:return Fn(o.type)&&Id(),_n(o),null;case 3:return p=o.stateNode,rl(),Nt(Dn),Nt(yn),Im(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(r===null||r.child===null)&&(Vd(o)?o.flags|=4:r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Or!==null&&(fp(Or),Or=null))),tp(r,o),_n(o),null;case 5:Rm(o);var _=$o($c.current);if(d=o.type,r!==null&&o.stateNode!=null)qx(r,o,d,p,_),r.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!p){if(o.stateNode===null)throw Error(n(166));return _n(o),null}if(r=$o(ui.current),Vd(o)){p=o.stateNode,d=o.type;var b=o.memoizedProps;switch(p[vr]=o,p[Ls]=b,r=(o.mode&1)!==0,d){case"dialog":xt("cancel",p),xt("close",p);break;case"iframe":case"object":case"embed":xt("load",p);break;case"video":case"audio":for(_=0;_<ks.length;_++)xt(ks[_],p);break;case"source":xt("error",p);break;case"img":case"image":case"link":xt("error",p),xt("load",p);break;case"details":xt("toggle",p);break;case"input":Zn(p,b),xt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!b.multiple},xt("invalid",p);break;case"textarea":Et(p,b),xt("invalid",p)}oc(d,b),_=null;for(var k in b)if(b.hasOwnProperty(k)){var I=b[k];k==="children"?typeof I=="string"?p.textContent!==I&&(b.suppressHydrationWarning!==!0&&G(p.textContent,I,r),_=["children",I]):typeof I=="number"&&p.textContent!==""+I&&(b.suppressHydrationWarning!==!0&&G(p.textContent,I,r),_=["children",""+I]):a.hasOwnProperty(k)&&I!=null&&k==="onScroll"&&xt("scroll",p)}switch(d){case"input":Je(p),Ci(p,b,!0);break;case"textarea":Je(p),_o(p);break;case"select":case"option":break;default:typeof b.onClick=="function"&&(p.onclick=ee)}p=_,o.updateQueue=p,p!==null&&(o.flags|=4)}else{k=_.nodeType===9?_:_.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=ya(d)),r==="http://www.w3.org/1999/xhtml"?d==="script"?(r=k.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof p.is=="string"?r=k.createElement(d,{is:p.is}):(r=k.createElement(d),d==="select"&&(k=r,p.multiple?k.multiple=!0:p.size&&(k.size=p.size))):r=k.createElementNS(r,d),r[vr]=o,r[Ls]=p,Hx(r,o,!1,!1),o.stateNode=r;e:{switch(k=ji(d,p),d){case"dialog":xt("cancel",r),xt("close",r),_=p;break;case"iframe":case"object":case"embed":xt("load",r),_=p;break;case"video":case"audio":for(_=0;_<ks.length;_++)xt(ks[_],r);_=p;break;case"source":xt("error",r),_=p;break;case"img":case"image":case"link":xt("error",r),xt("load",r),_=p;break;case"details":xt("toggle",r),_=p;break;case"input":Zn(r,p),_=hn(r,p),xt("invalid",r);break;case"option":_=p;break;case"select":r._wrapperState={wasMultiple:!!p.multiple},_=X({},p,{value:void 0}),xt("invalid",r);break;case"textarea":Et(r,p),_=je(r,p),xt("invalid",r);break;default:_=p}oc(d,_),I=_;for(b in I)if(I.hasOwnProperty(b)){var B=I[b];b==="style"?_a(r,B):b==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&ed(r,B)):b==="children"?typeof B=="string"?(d!=="textarea"||B!=="")&&ds(r,B):typeof B=="number"&&ds(r,""+B):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(a.hasOwnProperty(b)?B!=null&&b==="onScroll"&&xt("scroll",r):B!=null&&D(r,b,B,k))}switch(d){case"input":Je(r),Ci(r,p,!1);break;case"textarea":Je(r),_o(r);break;case"option":p.value!=null&&r.setAttribute("value",""+Se(p.value));break;case"select":r.multiple=!!p.multiple,b=p.value,b!=null?dr(r,!!p.multiple,b,!1):p.defaultValue!=null&&dr(r,!!p.multiple,p.defaultValue,!0);break;default:typeof _.onClick=="function"&&(r.onclick=ee)}switch(d){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return _n(o),null;case 6:if(r&&o.stateNode!=null)Kx(r,o,r.memoizedProps,p);else{if(typeof p!="string"&&o.stateNode===null)throw Error(n(166));if(d=$o($c.current),$o(ui.current),Vd(o)){if(p=o.stateNode,d=o.memoizedProps,p[vr]=o,(b=p.nodeValue!==d)&&(r=er,r!==null))switch(r.tag){case 3:G(p.nodeValue,d,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&G(p.nodeValue,d,(r.mode&1)!==0)}b&&(o.flags|=4)}else p=(d.nodeType===9?d:d.ownerDocument).createTextNode(p),p[vr]=o,o.stateNode=p}return _n(o),null;case 13:if(Nt(Mt),p=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Tt&&tr!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Xy(),Ja(),o.flags|=98560,b=!1;else if(b=Vd(o),p!==null&&p.dehydrated!==null){if(r===null){if(!b)throw Error(n(318));if(b=o.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[vr]=o}else Ja(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;_n(o),b=!1}else Or!==null&&(fp(Or),Or=null),b=!0;if(!b)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=d,o):(p=p!==null,p!==(r!==null&&r.memoizedState!==null)&&p&&(o.child.flags|=8192,(o.mode&1)!==0&&(r===null||(Mt.current&1)!==0?en===0&&(en=3):pp())),o.updateQueue!==null&&(o.flags|=4),_n(o),null);case 4:return rl(),tp(r,o),r===null&&Es(o.stateNode.containerInfo),_n(o),null;case 10:return km(o.type._context),_n(o),null;case 17:return Fn(o.type)&&Id(),_n(o),null;case 19:if(Nt(Mt),b=o.memoizedState,b===null)return _n(o),null;if(p=(o.flags&128)!==0,k=b.rendering,k===null)if(p)Kc(b,!1);else{if(en!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(k=qd(r),k!==null){for(o.flags|=128,Kc(b,!1),p=k.updateQueue,p!==null&&(o.updateQueue=p,o.flags|=4),o.subtreeFlags=0,p=d,d=o.child;d!==null;)b=d,r=p,b.flags&=14680066,k=b.alternate,k===null?(b.childLanes=0,b.lanes=r,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=k.childLanes,b.lanes=k.lanes,b.child=k.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=k.memoizedProps,b.memoizedState=k.memoizedState,b.updateQueue=k.updateQueue,b.type=k.type,r=k.dependencies,b.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),d=d.sibling;return bt(Mt,Mt.current&1|2),o.child}r=r.sibling}b.tail!==null&&At()>al&&(o.flags|=128,p=!0,Kc(b,!1),o.lanes=4194304)}else{if(!p)if(r=qd(k),r!==null){if(o.flags|=128,p=!0,d=r.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),Kc(b,!0),b.tail===null&&b.tailMode==="hidden"&&!k.alternate&&!Tt)return _n(o),null}else 2*At()-b.renderingStartTime>al&&d!==1073741824&&(o.flags|=128,p=!0,Kc(b,!1),o.lanes=4194304);b.isBackwards?(k.sibling=o.child,o.child=k):(d=b.last,d!==null?d.sibling=k:o.child=k,b.last=k)}return b.tail!==null?(o=b.tail,b.rendering=o,b.tail=o.sibling,b.renderingStartTime=At(),o.sibling=null,d=Mt.current,bt(Mt,p?d&1|2:d&1),o):(_n(o),null);case 22:case 23:return mp(),p=o.memoizedState!==null,r!==null&&r.memoizedState!==null!==p&&(o.flags|=8192),p&&(o.mode&1)!==0?(nr&1073741824)!==0&&(_n(o),o.subtreeFlags&6&&(o.flags|=8192)):_n(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function zj(r,o){switch(Sm(o),o.tag){case 1:return Fn(o.type)&&Id(),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return rl(),Nt(Dn),Nt(yn),Im(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 5:return Rm(o),null;case 13:if(Nt(Mt),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Ja()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return Nt(Mt),null;case 4:return rl(),null;case 10:return km(o.type._context),null;case 22:case 23:return mp(),null;case 24:return null;default:return null}}var nf=!1,wn=!1,Bj=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function sl(r,o){var d=r.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(p){zt(r,o,p)}else d.current=null}function np(r,o,d){try{d()}catch(p){zt(r,o,p)}}var Gx=!1;function Vj(r,o){if(xe=Ao,r=Ac(),Lc(r)){if("selectionStart"in r)var d={start:r.selectionStart,end:r.selectionEnd};else e:{d=(d=r.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var _=p.anchorOffset,b=p.focusNode;p=p.focusOffset;try{d.nodeType,b.nodeType}catch{d=null;break e}var k=0,I=-1,B=-1,Q=0,ie=0,se=r,ne=null;t:for(;;){for(var be;se!==d||_!==0&&se.nodeType!==3||(I=k+_),se!==b||p!==0&&se.nodeType!==3||(B=k+p),se.nodeType===3&&(k+=se.nodeValue.length),(be=se.firstChild)!==null;)ne=se,se=be;for(;;){if(se===r)break t;if(ne===d&&++Q===_&&(I=k),ne===b&&++ie===p&&(B=k),(be=se.nextSibling)!==null)break;se=ne,ne=se.parentNode}se=be}d=I===-1||B===-1?null:{start:I,end:B}}else d=null}d=d||{start:0,end:0}}else d=null;for(Oe={focusedElem:r,selectionRange:d},Ao=!1,Ce=o;Ce!==null;)if(o=Ce,r=o.child,(o.subtreeFlags&1028)!==0&&r!==null)r.return=o,Ce=r;else for(;Ce!==null;){o=Ce;try{var Te=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Te!==null){var ke=Te.memoizedProps,$t=Te.memoizedState,H=o.stateNode,U=H.getSnapshotBeforeUpdate(o.elementType===o.type?ke:Ir(o.type,ke),$t);H.__reactInternalSnapshotBeforeUpdate=U}break;case 3:var K=o.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ue){zt(o,o.return,ue)}if(r=o.sibling,r!==null){r.return=o.return,Ce=r;break}Ce=o.return}return Te=Gx,Gx=!1,Te}function Gc(r,o,d){var p=o.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var _=p=p.next;do{if((_.tag&r)===r){var b=_.destroy;_.destroy=void 0,b!==void 0&&np(o,d,b)}_=_.next}while(_!==p)}}function rf(r,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var d=o=o.next;do{if((d.tag&r)===r){var p=d.create;d.destroy=p()}d=d.next}while(d!==o)}}function rp(r){var o=r.ref;if(o!==null){var d=r.stateNode;r.tag,r=d,typeof o=="function"?o(r):o.current=r}}function Qx(r){var o=r.alternate;o!==null&&(r.alternate=null,Qx(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&(delete o[vr],delete o[Ls],delete o[Ms],delete o[ym],delete o[xm])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Xx(r){return r.tag===5||r.tag===3||r.tag===4}function Yx(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Xx(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function ip(r,o,d){var p=r.tag;if(p===5||p===6)r=r.stateNode,o?d.nodeType===8?d.parentNode.insertBefore(r,o):d.insertBefore(r,o):(d.nodeType===8?(o=d.parentNode,o.insertBefore(r,d)):(o=d,o.appendChild(r)),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=ee));else if(p!==4&&(r=r.child,r!==null))for(ip(r,o,d),r=r.sibling;r!==null;)ip(r,o,d),r=r.sibling}function sp(r,o,d){var p=r.tag;if(p===5||p===6)r=r.stateNode,o?d.insertBefore(r,o):d.appendChild(r);else if(p!==4&&(r=r.child,r!==null))for(sp(r,o,d),r=r.sibling;r!==null;)sp(r,o,d),r=r.sibling}var ln=null,Dr=!1;function zs(r,o,d){for(d=d.child;d!==null;)Jx(r,o,d),d=d.sibling}function Jx(r,o,d){if(Hn&&typeof Hn.onCommitFiberUnmount=="function")try{Hn.onCommitFiberUnmount(No,d)}catch{}switch(d.tag){case 5:wn||sl(d,o);case 6:var p=ln,_=Dr;ln=null,zs(r,o,d),ln=p,Dr=_,ln!==null&&(Dr?(r=ln,d=d.stateNode,r.nodeType===8?r.parentNode.removeChild(d):r.removeChild(d)):ln.removeChild(d.stateNode));break;case 18:ln!==null&&(Dr?(r=ln,d=d.stateNode,r.nodeType===8?zc(r.parentNode,d):r.nodeType===1&&zc(r,d),Gn(r)):zc(ln,d.stateNode));break;case 4:p=ln,_=Dr,ln=d.stateNode.containerInfo,Dr=!0,zs(r,o,d),ln=p,Dr=_;break;case 0:case 11:case 14:case 15:if(!wn&&(p=d.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){_=p=p.next;do{var b=_,k=b.destroy;b=b.tag,k!==void 0&&((b&2)!==0||(b&4)!==0)&&np(d,o,k),_=_.next}while(_!==p)}zs(r,o,d);break;case 1:if(!wn&&(sl(d,o),p=d.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=d.memoizedProps,p.state=d.memoizedState,p.componentWillUnmount()}catch(I){zt(d,o,I)}zs(r,o,d);break;case 21:zs(r,o,d);break;case 22:d.mode&1?(wn=(p=wn)||d.memoizedState!==null,zs(r,o,d),wn=p):zs(r,o,d);break;default:zs(r,o,d)}}function e0(r){var o=r.updateQueue;if(o!==null){r.updateQueue=null;var d=r.stateNode;d===null&&(d=r.stateNode=new Bj),o.forEach(function(p){var _=Qj.bind(null,r,p);d.has(p)||(d.add(p),p.then(_,_))})}}function Fr(r,o){var d=o.deletions;if(d!==null)for(var p=0;p<d.length;p++){var _=d[p];try{var b=r,k=o,I=k;e:for(;I!==null;){switch(I.tag){case 5:ln=I.stateNode,Dr=!1;break e;case 3:ln=I.stateNode.containerInfo,Dr=!0;break e;case 4:ln=I.stateNode.containerInfo,Dr=!0;break e}I=I.return}if(ln===null)throw Error(n(160));Jx(b,k,_),ln=null,Dr=!1;var B=_.alternate;B!==null&&(B.return=null),_.return=null}catch(Q){zt(_,o,Q)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)t0(o,r),o=o.sibling}function t0(r,o){var d=r.alternate,p=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Fr(o,r),fi(r),p&4){try{Gc(3,r,r.return),rf(3,r)}catch(ke){zt(r,r.return,ke)}try{Gc(5,r,r.return)}catch(ke){zt(r,r.return,ke)}}break;case 1:Fr(o,r),fi(r),p&512&&d!==null&&sl(d,d.return);break;case 5:if(Fr(o,r),fi(r),p&512&&d!==null&&sl(d,d.return),r.flags&32){var _=r.stateNode;try{ds(_,"")}catch(ke){zt(r,r.return,ke)}}if(p&4&&(_=r.stateNode,_!=null)){var b=r.memoizedProps,k=d!==null?d.memoizedProps:b,I=r.type,B=r.updateQueue;if(r.updateQueue=null,B!==null)try{I==="input"&&b.type==="radio"&&b.name!=null&&Tr(_,b),ji(I,k);var Q=ji(I,b);for(k=0;k<B.length;k+=2){var ie=B[k],se=B[k+1];ie==="style"?_a(_,se):ie==="dangerouslySetInnerHTML"?ed(_,se):ie==="children"?ds(_,se):D(_,ie,se,Q)}switch(I){case"input":jn(_,b);break;case"textarea":Wn(_,b);break;case"select":var ne=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!b.multiple;var be=b.value;be!=null?dr(_,!!b.multiple,be,!1):ne!==!!b.multiple&&(b.defaultValue!=null?dr(_,!!b.multiple,b.defaultValue,!0):dr(_,!!b.multiple,b.multiple?[]:"",!1))}_[Ls]=b}catch(ke){zt(r,r.return,ke)}}break;case 6:if(Fr(o,r),fi(r),p&4){if(r.stateNode===null)throw Error(n(162));_=r.stateNode,b=r.memoizedProps;try{_.nodeValue=b}catch(ke){zt(r,r.return,ke)}}break;case 3:if(Fr(o,r),fi(r),p&4&&d!==null&&d.memoizedState.isDehydrated)try{Gn(o.containerInfo)}catch(ke){zt(r,r.return,ke)}break;case 4:Fr(o,r),fi(r);break;case 13:Fr(o,r),fi(r),_=r.child,_.flags&8192&&(b=_.memoizedState!==null,_.stateNode.isHidden=b,!b||_.alternate!==null&&_.alternate.memoizedState!==null||(lp=At())),p&4&&e0(r);break;case 22:if(ie=d!==null&&d.memoizedState!==null,r.mode&1?(wn=(Q=wn)||ie,Fr(o,r),wn=Q):Fr(o,r),fi(r),p&8192){if(Q=r.memoizedState!==null,(r.stateNode.isHidden=Q)&&!ie&&(r.mode&1)!==0)for(Ce=r,ie=r.child;ie!==null;){for(se=Ce=ie;Ce!==null;){switch(ne=Ce,be=ne.child,ne.tag){case 0:case 11:case 14:case 15:Gc(4,ne,ne.return);break;case 1:sl(ne,ne.return);var Te=ne.stateNode;if(typeof Te.componentWillUnmount=="function"){p=ne,d=ne.return;try{o=p,Te.props=o.memoizedProps,Te.state=o.memoizedState,Te.componentWillUnmount()}catch(ke){zt(p,d,ke)}}break;case 5:sl(ne,ne.return);break;case 22:if(ne.memoizedState!==null){i0(se);continue}}be!==null?(be.return=ne,Ce=be):i0(se)}ie=ie.sibling}e:for(ie=null,se=r;;){if(se.tag===5){if(ie===null){ie=se;try{_=se.stateNode,Q?(b=_.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"):(I=se.stateNode,B=se.memoizedProps.style,k=B!=null&&B.hasOwnProperty("display")?B.display:null,I.style.display=sc("display",k))}catch(ke){zt(r,r.return,ke)}}}else if(se.tag===6){if(ie===null)try{se.stateNode.nodeValue=Q?"":se.memoizedProps}catch(ke){zt(r,r.return,ke)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===r)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===r)break e;for(;se.sibling===null;){if(se.return===null||se.return===r)break e;ie===se&&(ie=null),se=se.return}ie===se&&(ie=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:Fr(o,r),fi(r),p&4&&e0(r);break;case 21:break;default:Fr(o,r),fi(r)}}function fi(r){var o=r.flags;if(o&2){try{e:{for(var d=r.return;d!==null;){if(Xx(d)){var p=d;break e}d=d.return}throw Error(n(160))}switch(p.tag){case 5:var _=p.stateNode;p.flags&32&&(ds(_,""),p.flags&=-33);var b=Yx(r);sp(r,b,_);break;case 3:case 4:var k=p.stateNode.containerInfo,I=Yx(r);ip(r,I,k);break;default:throw Error(n(161))}}catch(B){zt(r,r.return,B)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function Uj(r,o,d){Ce=r,n0(r)}function n0(r,o,d){for(var p=(r.mode&1)!==0;Ce!==null;){var _=Ce,b=_.child;if(_.tag===22&&p){var k=_.memoizedState!==null||nf;if(!k){var I=_.alternate,B=I!==null&&I.memoizedState!==null||wn;I=nf;var Q=wn;if(nf=k,(wn=B)&&!Q)for(Ce=_;Ce!==null;)k=Ce,B=k.child,k.tag===22&&k.memoizedState!==null?s0(_):B!==null?(B.return=k,Ce=B):s0(_);for(;b!==null;)Ce=b,n0(b),b=b.sibling;Ce=_,nf=I,wn=Q}r0(r)}else(_.subtreeFlags&8772)!==0&&b!==null?(b.return=_,Ce=b):r0(r)}}function r0(r){for(;Ce!==null;){var o=Ce;if((o.flags&8772)!==0){var d=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:wn||rf(5,o);break;case 1:var p=o.stateNode;if(o.flags&4&&!wn)if(d===null)p.componentDidMount();else{var _=o.elementType===o.type?d.memoizedProps:Ir(o.type,d.memoizedProps);p.componentDidUpdate(_,d.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var b=o.updateQueue;b!==null&&ix(o,b,p);break;case 3:var k=o.updateQueue;if(k!==null){if(d=null,o.child!==null)switch(o.child.tag){case 5:d=o.child.stateNode;break;case 1:d=o.child.stateNode}ix(o,k,d)}break;case 5:var I=o.stateNode;if(d===null&&o.flags&4){d=I;var B=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&d.focus();break;case"img":B.src&&(d.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Q=o.alternate;if(Q!==null){var ie=Q.memoizedState;if(ie!==null){var se=ie.dehydrated;se!==null&&Gn(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}wn||o.flags&512&&rp(o)}catch(ne){zt(o,o.return,ne)}}if(o===r){Ce=null;break}if(d=o.sibling,d!==null){d.return=o.return,Ce=d;break}Ce=o.return}}function i0(r){for(;Ce!==null;){var o=Ce;if(o===r){Ce=null;break}var d=o.sibling;if(d!==null){d.return=o.return,Ce=d;break}Ce=o.return}}function s0(r){for(;Ce!==null;){var o=Ce;try{switch(o.tag){case 0:case 11:case 15:var d=o.return;try{rf(4,o)}catch(B){zt(o,d,B)}break;case 1:var p=o.stateNode;if(typeof p.componentDidMount=="function"){var _=o.return;try{p.componentDidMount()}catch(B){zt(o,_,B)}}var b=o.return;try{rp(o)}catch(B){zt(o,b,B)}break;case 5:var k=o.return;try{rp(o)}catch(B){zt(o,k,B)}}}catch(B){zt(o,o.return,B)}if(o===r){Ce=null;break}var I=o.sibling;if(I!==null){I.return=o.return,Ce=I;break}Ce=o.return}}var $j=Math.ceil,sf=O.ReactCurrentDispatcher,op=O.ReactCurrentOwner,br=O.ReactCurrentBatchConfig,ft=0,rn=null,qt=null,cn=0,nr=0,ol=Rs(0),en=0,Qc=null,Wo=0,of=0,ap=0,Xc=null,Bn=null,lp=0,al=1/0,Gi=null,af=!1,cp=null,Bs=null,lf=!1,Vs=null,cf=0,Yc=0,up=null,uf=-1,df=0;function Ln(){return(ft&6)!==0?At():uf!==-1?uf:uf=At()}function Us(r){return(r.mode&1)===0?1:(ft&2)!==0&&cn!==0?cn&-cn:Cj.transition!==null?(df===0&&(df=hd()),df):(r=ct,r!==0||(r=window.event,r=r===void 0?16:st(r.type)),r)}function zr(r,o,d,p){if(50<Yc)throw Yc=0,up=null,Error(n(185));qn(r,d,p),((ft&2)===0||r!==rn)&&(r===rn&&((ft&2)===0&&(of|=d),en===4&&$s(r,cn)),Vn(r,p),d===1&&ft===0&&(o.mode&1)===0&&(al=At()+500,Fd&&Is()))}function Vn(r,o){var d=r.callbackNode;ja(r,o);var p=wt(r,r===rn?cn:0);if(p===0)d!==null&&hc(d),r.callbackNode=null,r.callbackPriority=0;else if(o=p&-p,r.callbackPriority!==o){if(d!=null&&hc(d),o===1)r.tag===0?Nj(a0.bind(null,r)):Hy(a0.bind(null,r)),vn(function(){(ft&6)===0&&Is()}),d=null;else{switch(vs(p)){case 1:d=mc;break;case 4:d=fd;break;case 16:d=Na;break;case 536870912:d=hs;break;default:d=Na}d=p0(d,o0.bind(null,r))}r.callbackPriority=o,r.callbackNode=d}}function o0(r,o){if(uf=-1,df=0,(ft&6)!==0)throw Error(n(327));var d=r.callbackNode;if(ll()&&r.callbackNode!==d)return null;var p=wt(r,r===rn?cn:0);if(p===0)return null;if((p&30)!==0||(p&r.expiredLanes)!==0||o)o=ff(r,p);else{o=p;var _=ft;ft|=2;var b=c0();(rn!==r||cn!==o)&&(Gi=null,al=At()+500,qo(r,o));do try{Hj();break}catch(I){l0(r,I)}while(!0);Tm(),sf.current=b,ft=_,qt!==null?o=0:(rn=null,cn=0,o=en)}if(o!==0){if(o===2&&(_=pn(r),_!==0&&(p=_,o=dp(r,_))),o===1)throw d=Qc,qo(r,0),$s(r,p),Vn(r,At()),d;if(o===6)$s(r,p);else{if(_=r.current.alternate,(p&30)===0&&!Zj(_)&&(o=ff(r,p),o===2&&(b=pn(r),b!==0&&(p=b,o=dp(r,b))),o===1))throw d=Qc,qo(r,0),$s(r,p),Vn(r,At()),d;switch(r.finishedWork=_,r.finishedLanes=p,o){case 0:case 1:throw Error(n(345));case 2:Ko(r,Bn,Gi);break;case 3:if($s(r,p),(p&130023424)===p&&(o=lp+500-At(),10<o)){if(wt(r,0)!==0)break;if(_=r.suspendedLanes,(_&p)!==p){Ln(),r.pingedLanes|=r.suspendedLanes&_;break}r.timeoutHandle=Yt(Ko.bind(null,r,Bn,Gi),o);break}Ko(r,Bn,Gi);break;case 4:if($s(r,p),(p&4194240)===p)break;for(o=r.eventTimes,_=-1;0<p;){var k=31-Ge(p);b=1<<k,k=o[k],k>_&&(_=k),p&=~b}if(p=_,p=At()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*$j(p/1960))-p,10<p){r.timeoutHandle=Yt(Ko.bind(null,r,Bn,Gi),p);break}Ko(r,Bn,Gi);break;case 5:Ko(r,Bn,Gi);break;default:throw Error(n(329))}}}return Vn(r,At()),r.callbackNode===d?o0.bind(null,r):null}function dp(r,o){var d=Xc;return r.current.memoizedState.isDehydrated&&(qo(r,o).flags|=256),r=ff(r,o),r!==2&&(o=Bn,Bn=d,o!==null&&fp(o)),r}function fp(r){Bn===null?Bn=r:Bn.push.apply(Bn,r)}function Zj(r){for(var o=r;;){if(o.flags&16384){var d=o.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var p=0;p<d.length;p++){var _=d[p],b=_.getSnapshot;_=_.value;try{if(!Yn(b(),_))return!1}catch{return!1}}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function $s(r,o){for(o&=~ap,o&=~of,r.suspendedLanes|=o,r.pingedLanes&=~o,r=r.expirationTimes;0<o;){var d=31-Ge(o),p=1<<d;r[d]=-1,o&=~p}}function a0(r){if((ft&6)!==0)throw Error(n(327));ll();var o=wt(r,0);if((o&1)===0)return Vn(r,At()),null;var d=ff(r,o);if(r.tag!==0&&d===2){var p=pn(r);p!==0&&(o=p,d=dp(r,p))}if(d===1)throw d=Qc,qo(r,0),$s(r,o),Vn(r,At()),d;if(d===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=o,Ko(r,Bn,Gi),Vn(r,At()),null}function hp(r,o){var d=ft;ft|=1;try{return r(o)}finally{ft=d,ft===0&&(al=At()+500,Fd&&Is())}}function Ho(r){Vs!==null&&Vs.tag===0&&(ft&6)===0&&ll();var o=ft;ft|=1;var d=br.transition,p=ct;try{if(br.transition=null,ct=1,r)return r()}finally{ct=p,br.transition=d,ft=o,(ft&6)===0&&Is()}}function mp(){nr=ol.current,Nt(ol)}function qo(r,o){r.finishedWork=null,r.finishedLanes=0;var d=r.timeoutHandle;if(d!==-1&&(r.timeoutHandle=-1,Ht(d)),qt!==null)for(d=qt.return;d!==null;){var p=d;switch(Sm(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Id();break;case 3:rl(),Nt(Dn),Nt(yn),Im();break;case 5:Rm(p);break;case 4:rl();break;case 13:Nt(Mt);break;case 19:Nt(Mt);break;case 10:km(p.type._context);break;case 22:case 23:mp()}d=d.return}if(rn=r,qt=r=Zs(r.current,null),cn=nr=o,en=0,Qc=null,ap=of=Wo=0,Bn=Xc=null,Uo!==null){for(o=0;o<Uo.length;o++)if(d=Uo[o],p=d.interleaved,p!==null){d.interleaved=null;var _=p.next,b=d.pending;if(b!==null){var k=b.next;b.next=_,p.next=k}d.pending=p}Uo=null}return r}function l0(r,o){do{var d=qt;try{if(Tm(),Kd.current=Yd,Gd){for(var p=Rt.memoizedState;p!==null;){var _=p.queue;_!==null&&(_.pending=null),p=p.next}Gd=!1}if(Zo=0,nn=Jt=Rt=null,Zc=!1,Wc=0,op.current=null,d===null||d.return===null){en=1,Qc=o,qt=null;break}e:{var b=r,k=d.return,I=d,B=o;if(o=cn,I.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var Q=B,ie=I,se=ie.tag;if((ie.mode&1)===0&&(se===0||se===11||se===15)){var ne=ie.alternate;ne?(ie.updateQueue=ne.updateQueue,ie.memoizedState=ne.memoizedState,ie.lanes=ne.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var be=Mx(k);if(be!==null){be.flags&=-257,Rx(be,k,I,b,o),be.mode&1&&Lx(b,Q,o),o=be,B=Q;var Te=o.updateQueue;if(Te===null){var ke=new Set;ke.add(B),o.updateQueue=ke}else Te.add(B);break e}else{if((o&1)===0){Lx(b,Q,o),pp();break e}B=Error(n(426))}}else if(Tt&&I.mode&1){var $t=Mx(k);if($t!==null){($t.flags&65536)===0&&($t.flags|=256),Rx($t,k,I,b,o),Cm(il(B,I));break e}}b=B=il(B,I),en!==4&&(en=2),Xc===null?Xc=[b]:Xc.push(b),b=k;do{switch(b.tag){case 3:b.flags|=65536,o&=-o,b.lanes|=o;var H=Ex(b,B,o);rx(b,H);break e;case 1:I=B;var U=b.type,K=b.stateNode;if((b.flags&128)===0&&(typeof U.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(Bs===null||!Bs.has(K)))){b.flags|=65536,o&=-o,b.lanes|=o;var ue=Ax(b,I,o);rx(b,ue);break e}}b=b.return}while(b!==null)}d0(d)}catch(Ae){o=Ae,qt===d&&d!==null&&(qt=d=d.return);continue}break}while(!0)}function c0(){var r=sf.current;return sf.current=Yd,r===null?Yd:r}function pp(){(en===0||en===3||en===2)&&(en=4),rn===null||(Wo&268435455)===0&&(of&268435455)===0||$s(rn,cn)}function ff(r,o){var d=ft;ft|=2;var p=c0();(rn!==r||cn!==o)&&(Gi=null,qo(r,o));do try{Wj();break}catch(_){l0(r,_)}while(!0);if(Tm(),ft=d,sf.current=p,qt!==null)throw Error(n(261));return rn=null,cn=0,en}function Wj(){for(;qt!==null;)u0(qt)}function Hj(){for(;qt!==null&&!nm();)u0(qt)}function u0(r){var o=m0(r.alternate,r,nr);r.memoizedProps=r.pendingProps,o===null?d0(r):qt=o,op.current=null}function d0(r){var o=r;do{var d=o.alternate;if(r=o.return,(o.flags&32768)===0){if(d=Fj(d,o,nr),d!==null){qt=d;return}}else{if(d=zj(d,o),d!==null){d.flags&=32767,qt=d;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{en=6,qt=null;return}}if(o=o.sibling,o!==null){qt=o;return}qt=o=r}while(o!==null);en===0&&(en=5)}function Ko(r,o,d){var p=ct,_=br.transition;try{br.transition=null,ct=1,qj(r,o,d,p)}finally{br.transition=_,ct=p}return null}function qj(r,o,d,p){do ll();while(Vs!==null);if((ft&6)!==0)throw Error(n(327));d=r.finishedWork;var _=r.finishedLanes;if(d===null)return null;if(r.finishedWork=null,r.finishedLanes=0,d===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var b=d.lanes|d.childLanes;if(Ft(r,b),r===rn&&(qt=rn=null,cn=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||lf||(lf=!0,p0(Na,function(){return ll(),null})),b=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||b){b=br.transition,br.transition=null;var k=ct;ct=1;var I=ft;ft|=4,op.current=null,Vj(r,d),t0(d,r),pr(Oe),Ao=!!xe,Oe=xe=null,r.current=d,Uj(d),Pa(),ft=I,ct=k,br.transition=b}else r.current=d;if(lf&&(lf=!1,Vs=r,cf=_),b=r.pendingLanes,b===0&&(Bs=null),Co(d.stateNode),Vn(r,At()),o!==null)for(p=r.onRecoverableError,d=0;d<o.length;d++)_=o[d],p(_.value,{componentStack:_.stack,digest:_.digest});if(af)throw af=!1,r=cp,cp=null,r;return(cf&1)!==0&&r.tag!==0&&ll(),b=r.pendingLanes,(b&1)!==0?r===up?Yc++:(Yc=0,up=r):Yc=0,Is(),null}function ll(){if(Vs!==null){var r=vs(cf),o=br.transition,d=ct;try{if(br.transition=null,ct=16>r?16:r,Vs===null)var p=!1;else{if(r=Vs,Vs=null,cf=0,(ft&6)!==0)throw Error(n(331));var _=ft;for(ft|=4,Ce=r.current;Ce!==null;){var b=Ce,k=b.child;if((Ce.flags&16)!==0){var I=b.deletions;if(I!==null){for(var B=0;B<I.length;B++){var Q=I[B];for(Ce=Q;Ce!==null;){var ie=Ce;switch(ie.tag){case 0:case 11:case 15:Gc(8,ie,b)}var se=ie.child;if(se!==null)se.return=ie,Ce=se;else for(;Ce!==null;){ie=Ce;var ne=ie.sibling,be=ie.return;if(Qx(ie),ie===Q){Ce=null;break}if(ne!==null){ne.return=be,Ce=ne;break}Ce=be}}}var Te=b.alternate;if(Te!==null){var ke=Te.child;if(ke!==null){Te.child=null;do{var $t=ke.sibling;ke.sibling=null,ke=$t}while(ke!==null)}}Ce=b}}if((b.subtreeFlags&2064)!==0&&k!==null)k.return=b,Ce=k;else e:for(;Ce!==null;){if(b=Ce,(b.flags&2048)!==0)switch(b.tag){case 0:case 11:case 15:Gc(9,b,b.return)}var H=b.sibling;if(H!==null){H.return=b.return,Ce=H;break e}Ce=b.return}}var U=r.current;for(Ce=U;Ce!==null;){k=Ce;var K=k.child;if((k.subtreeFlags&2064)!==0&&K!==null)K.return=k,Ce=K;else e:for(k=U;Ce!==null;){if(I=Ce,(I.flags&2048)!==0)try{switch(I.tag){case 0:case 11:case 15:rf(9,I)}}catch(Ae){zt(I,I.return,Ae)}if(I===k){Ce=null;break e}var ue=I.sibling;if(ue!==null){ue.return=I.return,Ce=ue;break e}Ce=I.return}}if(ft=_,Is(),Hn&&typeof Hn.onPostCommitFiberRoot=="function")try{Hn.onPostCommitFiberRoot(No,r)}catch{}p=!0}return p}finally{ct=d,br.transition=o}}return!1}function f0(r,o,d){o=il(d,o),o=Ex(r,o,1),r=Fs(r,o,1),o=Ln(),r!==null&&(qn(r,1,o),Vn(r,o))}function zt(r,o,d){if(r.tag===3)f0(r,r,d);else for(;o!==null;){if(o.tag===3){f0(o,r,d);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Bs===null||!Bs.has(p))){r=il(d,r),r=Ax(o,r,1),o=Fs(o,r,1),r=Ln(),o!==null&&(qn(o,1,r),Vn(o,r));break}}o=o.return}}function Kj(r,o,d){var p=r.pingCache;p!==null&&p.delete(o),o=Ln(),r.pingedLanes|=r.suspendedLanes&d,rn===r&&(cn&d)===d&&(en===4||en===3&&(cn&130023424)===cn&&500>At()-lp?qo(r,0):ap|=d),Vn(r,o)}function h0(r,o){o===0&&((r.mode&1)===0?o=1:(o=ps,ps<<=1,(ps&130023424)===0&&(ps=4194304)));var d=Ln();r=Hi(r,o),r!==null&&(qn(r,o,d),Vn(r,d))}function Gj(r){var o=r.memoizedState,d=0;o!==null&&(d=o.retryLane),h0(r,d)}function Qj(r,o){var d=0;switch(r.tag){case 13:var p=r.stateNode,_=r.memoizedState;_!==null&&(d=_.retryLane);break;case 19:p=r.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(o),h0(r,d)}var m0;m0=function(r,o,d){if(r!==null)if(r.memoizedProps!==o.pendingProps||Dn.current)zn=!0;else{if((r.lanes&d)===0&&(o.flags&128)===0)return zn=!1,Dj(r,o,d);zn=(r.flags&131072)!==0}else zn=!1,Tt&&(o.flags&1048576)!==0&&qy(o,Bd,o.index);switch(o.lanes=0,o.tag){case 2:var p=o.type;tf(r,o),r=o.pendingProps;var _=Qa(o,yn.current);nl(o,d),_=zm(null,o,p,r,_,d);var b=Bm();return o.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Fn(p)?(b=!0,Dd(o)):b=!1,o.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,Lm(o),_.updater=Jd,o.stateNode=_,_._reactInternals=o,Hm(o,p,r,d),o=Qm(null,o,p,!0,b,d)):(o.tag=0,Tt&&b&&bm(o),An(null,o,_,d),o=o.child),o;case 16:p=o.elementType;e:{switch(tf(r,o),r=o.pendingProps,_=p._init,p=_(p._payload),o.type=p,_=o.tag=Yj(p),r=Ir(p,r),_){case 0:o=Gm(null,o,p,r,d);break e;case 1:o=Bx(null,o,p,r,d);break e;case 11:o=Ox(null,o,p,r,d);break e;case 14:o=Ix(null,o,p,Ir(p.type,r),d);break e}throw Error(n(306,p,""))}return o;case 0:return p=o.type,_=o.pendingProps,_=o.elementType===p?_:Ir(p,_),Gm(r,o,p,_,d);case 1:return p=o.type,_=o.pendingProps,_=o.elementType===p?_:Ir(p,_),Bx(r,o,p,_,d);case 3:e:{if(Vx(o),r===null)throw Error(n(387));p=o.pendingProps,b=o.memoizedState,_=b.element,nx(r,o),Hd(o,p,null,d);var k=o.memoizedState;if(p=k.element,b.isDehydrated)if(b={element:p,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){_=il(Error(n(423)),o),o=Ux(r,o,p,d,_);break e}else if(p!==_){_=il(Error(n(424)),o),o=Ux(r,o,p,d,_);break e}else for(tr=ci(o.stateNode.containerInfo.firstChild),er=o,Tt=!0,Or=null,d=ex(o,null,p,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Ja(),p===_){o=Ki(r,o,d);break e}An(r,o,p,d)}o=o.child}return o;case 5:return sx(o),r===null&&Nm(o),p=o.type,_=o.pendingProps,b=r!==null?r.memoizedProps:null,k=_.children,Qe(p,_)?k=null:b!==null&&Qe(p,b)&&(o.flags|=32),zx(r,o),An(r,o,k,d),o.child;case 6:return r===null&&Nm(o),null;case 13:return $x(r,o,d);case 4:return Mm(o,o.stateNode.containerInfo),p=o.pendingProps,r===null?o.child=el(o,null,p,d):An(r,o,p,d),o.child;case 11:return p=o.type,_=o.pendingProps,_=o.elementType===p?_:Ir(p,_),Ox(r,o,p,_,d);case 7:return An(r,o,o.pendingProps,d),o.child;case 8:return An(r,o,o.pendingProps.children,d),o.child;case 12:return An(r,o,o.pendingProps.children,d),o.child;case 10:e:{if(p=o.type._context,_=o.pendingProps,b=o.memoizedProps,k=_.value,bt($d,p._currentValue),p._currentValue=k,b!==null)if(Yn(b.value,k)){if(b.children===_.children&&!Dn.current){o=Ki(r,o,d);break e}}else for(b=o.child,b!==null&&(b.return=o);b!==null;){var I=b.dependencies;if(I!==null){k=b.child;for(var B=I.firstContext;B!==null;){if(B.context===p){if(b.tag===1){B=qi(-1,d&-d),B.tag=2;var Q=b.updateQueue;if(Q!==null){Q=Q.shared;var ie=Q.pending;ie===null?B.next=B:(B.next=ie.next,ie.next=B),Q.pending=B}}b.lanes|=d,B=b.alternate,B!==null&&(B.lanes|=d),Em(b.return,d,o),I.lanes|=d;break}B=B.next}}else if(b.tag===10)k=b.type===o.type?null:b.child;else if(b.tag===18){if(k=b.return,k===null)throw Error(n(341));k.lanes|=d,I=k.alternate,I!==null&&(I.lanes|=d),Em(k,d,o),k=b.sibling}else k=b.child;if(k!==null)k.return=b;else for(k=b;k!==null;){if(k===o){k=null;break}if(b=k.sibling,b!==null){b.return=k.return,k=b;break}k=k.return}b=k}An(r,o,_.children,d),o=o.child}return o;case 9:return _=o.type,p=o.pendingProps.children,nl(o,d),_=_r(_),p=p(_),o.flags|=1,An(r,o,p,d),o.child;case 14:return p=o.type,_=Ir(p,o.pendingProps),_=Ir(p.type,_),Ix(r,o,p,_,d);case 15:return Dx(r,o,o.type,o.pendingProps,d);case 17:return p=o.type,_=o.pendingProps,_=o.elementType===p?_:Ir(p,_),tf(r,o),o.tag=1,Fn(p)?(r=!0,Dd(o)):r=!1,nl(o,d),Tx(o,p,_),Hm(o,p,_,d),Qm(null,o,p,!0,r,d);case 19:return Wx(r,o,d);case 22:return Fx(r,o,d)}throw Error(n(156,o.tag))};function p0(r,o){return dd(r,o)}function Xj(r,o,d,p){this.tag=r,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sr(r,o,d,p){return new Xj(r,o,d,p)}function gp(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Yj(r){if(typeof r=="function")return gp(r)?1:0;if(r!=null){if(r=r.$$typeof,r===le)return 11;if(r===ge)return 14}return 2}function Zs(r,o){var d=r.alternate;return d===null?(d=Sr(r.tag,o,r.key,r.mode),d.elementType=r.elementType,d.type=r.type,d.stateNode=r.stateNode,d.alternate=r,r.alternate=d):(d.pendingProps=o,d.type=r.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=r.flags&14680064,d.childLanes=r.childLanes,d.lanes=r.lanes,d.child=r.child,d.memoizedProps=r.memoizedProps,d.memoizedState=r.memoizedState,d.updateQueue=r.updateQueue,o=r.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=r.sibling,d.index=r.index,d.ref=r.ref,d}function hf(r,o,d,p,_,b){var k=2;if(p=r,typeof r=="function")gp(r)&&(k=1);else if(typeof r=="string")k=5;else e:switch(r){case q:return Go(d.children,_,b,o);case J:k=8,_|=8;break;case he:return r=Sr(12,d,o,_|2),r.elementType=he,r.lanes=b,r;case Re:return r=Sr(13,d,o,_),r.elementType=Re,r.lanes=b,r;case te:return r=Sr(19,d,o,_),r.elementType=te,r.lanes=b,r;case ce:return mf(d,_,b,o);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case me:k=10;break e;case _e:k=9;break e;case le:k=11;break e;case ge:k=14;break e;case de:k=16,p=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return o=Sr(k,d,o,_),o.elementType=r,o.type=p,o.lanes=b,o}function Go(r,o,d,p){return r=Sr(7,r,p,o),r.lanes=d,r}function mf(r,o,d,p){return r=Sr(22,r,p,o),r.elementType=ce,r.lanes=d,r.stateNode={isHidden:!1},r}function vp(r,o,d){return r=Sr(6,r,null,o),r.lanes=d,r}function yp(r,o,d){return o=Sr(4,r.children!==null?r.children:[],r.key,o),o.lanes=d,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}function Jj(r,o,d,p,_){this.tag=o,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gs(0),this.expirationTimes=gs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gs(0),this.identifierPrefix=p,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function xp(r,o,d,p,_,b,k,I,B){return r=new Jj(r,o,d,I,B),o===1?(o=1,b===!0&&(o|=8)):o=0,b=Sr(3,null,null,o),r.current=b,b.stateNode=r,b.memoizedState={element:p,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lm(b),r}function eT(r,o,d){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:p==null?null:""+p,children:r,containerInfo:o,implementation:d}}function g0(r){if(!r)return Os;r=r._reactInternals;e:{if(ti(r)!==r||r.tag!==1)throw Error(n(170));var o=r;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Fn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(r.tag===1){var d=r.type;if(Fn(d))return Zy(r,d,o)}return o}function v0(r,o,d,p,_,b,k,I,B){return r=xp(d,p,!0,r,_,b,k,I,B),r.context=g0(null),d=r.current,p=Ln(),_=Us(d),b=qi(p,_),b.callback=o??null,Fs(d,b,_),r.current.lanes=_,qn(r,_,p),Vn(r,p),r}function pf(r,o,d,p){var _=o.current,b=Ln(),k=Us(_);return d=g0(d),o.context===null?o.context=d:o.pendingContext=d,o=qi(b,k),o.payload={element:r},p=p===void 0?null:p,p!==null&&(o.callback=p),r=Fs(_,o,k),r!==null&&(zr(r,_,k,b),Wd(r,_,k)),k}function gf(r){return r=r.current,r.child?(r.child.tag===5,r.child.stateNode):null}function y0(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var d=r.retryLane;r.retryLane=d!==0&&d<o?d:o}}function _p(r,o){y0(r,o),(r=r.alternate)&&y0(r,o)}function tT(){return null}var x0=typeof reportError=="function"?reportError:function(r){console.error(r)};function wp(r){this._internalRoot=r}vf.prototype.render=wp.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(n(409));pf(r,o,null,null)},vf.prototype.unmount=wp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;Ho(function(){pf(null,r,null,null)}),o[gt]=null}};function vf(r){this._internalRoot=r}vf.prototype.unstable_scheduleHydration=function(r){if(r){var o=Ea();r={blockedOn:null,target:r,priority:o};for(var d=0;d<Xt.length&&o!==0&&o<Xt[d].priority;d++);Xt.splice(d,0,r),d===0&&Aa(r)}};function bp(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function yf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function _0(){}function nT(r,o,d,p,_){if(_){if(typeof p=="function"){var b=p;p=function(){var Q=gf(k);b.call(Q)}}var k=v0(o,p,r,0,null,!1,!1,"",_0);return r._reactRootContainer=k,r[gt]=k.current,Es(r.nodeType===8?r.parentNode:r),Ho(),k}for(;_=r.lastChild;)r.removeChild(_);if(typeof p=="function"){var I=p;p=function(){var Q=gf(B);I.call(Q)}}var B=xp(r,0,!1,null,null,!1,!1,"",_0);return r._reactRootContainer=B,r[gt]=B.current,Es(r.nodeType===8?r.parentNode:r),Ho(function(){pf(o,B,d,p)}),B}function xf(r,o,d,p,_){var b=d._reactRootContainer;if(b){var k=b;if(typeof _=="function"){var I=_;_=function(){var B=gf(k);I.call(B)}}pf(o,k,r,_)}else k=nT(d,o,r,_,p);return gf(k)}Ta=function(r){switch(r.tag){case 3:var o=r.stateNode;if(o.current.memoizedState.isDehydrated){var d=He(o.pendingLanes);d!==0&&(Er(o,d|1),Vn(o,At()),(ft&6)===0&&(al=At()+500,Is()))}break;case 13:Ho(function(){var p=Hi(r,1);if(p!==null){var _=Ln();zr(p,r,1,_)}}),_p(r,1)}},Ai=function(r){if(r.tag===13){var o=Hi(r,134217728);if(o!==null){var d=Ln();zr(o,r,134217728,d)}_p(r,134217728)}},ka=function(r){if(r.tag===13){var o=Us(r),d=Hi(r,o);if(d!==null){var p=Ln();zr(d,r,o,p)}_p(r,o)}},Ea=function(){return ct},jo=function(r,o){var d=ct;try{return ct=r,o()}finally{ct=d}},wa=function(r,o,d){switch(o){case"input":if(jn(r,d),o=d.name,d.type==="radio"&&o!=null){for(d=r;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<d.length;o++){var p=d[o];if(p!==r&&p.form===r.form){var _=Ka(p);if(!_)throw Error(n(90));lt(p),jn(p,_)}}}break;case"textarea":Wn(r,d);break;case"select":o=d.value,o!=null&&dr(r,!!d.multiple,o,!1)}},sd=hp,od=Ho;var rT={usingClientEntryPoint:!1,Events:[Vi,Ui,Ka,rd,id,hp]},Jc={findFiberByHostInstance:Bi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iT={bundleType:Jc.bundleType,version:Jc.version,rendererPackageName:Jc.rendererPackageName,rendererConfig:Jc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=cd(r),r===null?null:r.stateNode},findFiberByHostInstance:Jc.findFiberByHostInstance||tT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_f.isDisabled&&_f.supportsFiber)try{No=_f.inject(iT),Hn=_f}catch{}}return Un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rT,Un.createPortal=function(r,o){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bp(o))throw Error(n(200));return eT(r,o,null,d)},Un.createRoot=function(r,o){if(!bp(r))throw Error(n(299));var d=!1,p="",_=x0;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),o=xp(r,1,!1,null,null,d,!1,p,_),r[gt]=o.current,Es(r.nodeType===8?r.parentNode:r),new wp(o)},Un.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=cd(o),r=r===null?null:r.stateNode,r},Un.flushSync=function(r){return Ho(r)},Un.hydrate=function(r,o,d){if(!yf(o))throw Error(n(200));return xf(null,r,o,!0,d)},Un.hydrateRoot=function(r,o,d){if(!bp(r))throw Error(n(405));var p=d!=null&&d.hydratedSources||null,_=!1,b="",k=x0;if(d!=null&&(d.unstable_strictMode===!0&&(_=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onRecoverableError!==void 0&&(k=d.onRecoverableError)),o=v0(o,null,r,1,d??null,_,!1,b,k),r[gt]=o.current,Es(r),p)for(r=0;r<p.length;r++)d=p[r],_=d._getVersion,_=_(d._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[d,_]:o.mutableSourceEagerHydrationData.push(d,_);return new vf(o)},Un.render=function(r,o,d){if(!yf(o))throw Error(n(200));return xf(null,r,o,!1,d)},Un.unmountComponentAtNode=function(r){if(!yf(r))throw Error(n(40));return r._reactRootContainer?(Ho(function(){xf(null,null,r,!1,function(){r._reactRootContainer=null,r[gt]=null})}),!0):!1},Un.unstable_batchedUpdates=hp,Un.unstable_renderSubtreeIntoContainer=function(r,o,d,p){if(!yf(d))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return xf(r,o,d,!1,p)},Un.version="18.3.1-next-f1338f8080-20240426",Un}var T0;function db(){if(T0)return Np.exports;T0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Np.exports=fT(),Np.exports}var k0;function hT(){if(k0)return wf;k0=1;var e=db();return wf.createRoot=e.createRoot,wf.hydrateRoot=e.hydrateRoot,wf}var mT=hT();function pT(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,s,a,u,f=[],h="",g=e.split("/");for(g[0]||g.shift();a=g.shift();)n=a[0],n==="*"?(f.push(n),h+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(s=a.indexOf("?",1),u=a.indexOf(".",1),f.push(a.substring(1,~s?s:~u?u:a.length)),h+=~s&&!~u?"(?:/([^/]+?))?":"/([^/]+?)",~u&&(h+=(~s?"?":"")+"\\"+a.substring(u))):h+="/"+a;return{keys:f,pattern:new RegExp("^"+h+(t?"(?=$|/)":"/?$"),"i")}}var S=Sh();const on=rv(S),fb=oT({__proto__:null,default:on},[S]);var Tp={exports:{}},kp={};var E0;function gT(){if(E0)return kp;E0=1;var e=Sh();function t(w,N){return w===N&&(w!==0||1/w===1/N)||w!==w&&N!==N}var n=typeof Object.is=="function"?Object.is:t,s=e.useState,a=e.useEffect,u=e.useLayoutEffect,f=e.useDebugValue;function h(w,N){var T=N(),A=s({inst:{value:T,getSnapshot:N}}),C=A[0].inst,j=A[1];return u(function(){C.value=T,C.getSnapshot=N,g(C)&&j({inst:C})},[w,T,N]),a(function(){return g(C)&&j({inst:C}),w(function(){g(C)&&j({inst:C})})},[w]),f(T),T}function g(w){var N=w.getSnapshot;w=w.value;try{var T=N();return!n(w,T)}catch{return!0}}function v(w,N){return N()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?v:h;return kp.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:y,kp}var A0;function vT(){return A0||(A0=1,Tp.exports=gT()),Tp.exports}var yT=vT();const xT=fb.useInsertionEffect,_T=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wT=_T?S.useLayoutEffect:S.useEffect,bT=xT||wT,hb=e=>{const t=S.useRef([e,(...n)=>t[0](...n)]).current;return bT(()=>{t[0]=e}),t[1]},ST="popstate",iv="pushState",sv="replaceState",PT="hashchange",L0=[ST,iv,sv,PT],NT=e=>{for(const t of L0)addEventListener(t,e);return()=>{for(const t of L0)removeEventListener(t,e)}},mb=(e,t)=>yT.useSyncExternalStore(NT,e,t),CT=()=>location.search,jT=({ssrSearch:e=""}={})=>mb(CT,()=>e),M0=()=>location.pathname,TT=({ssrPath:e}={})=>mb(M0,e?()=>e:M0),kT=(e,{replace:t=!1,state:n=null}={})=>history[t?sv:iv](n,"",e),ET=(e={})=>[TT(e),kT],R0=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[R0]>"u"){for(const e of[iv,sv]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),s=new Event(e);return s.arguments=arguments,dispatchEvent(s),n}}Object.defineProperty(window,R0,{value:!0})}const AT=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",pb=(e="")=>e==="/"?"":e,LT=(e,t)=>e[0]==="~"?e.slice(1):pb(t)+e,MT=(e="",t)=>AT(O0(pb(e)),O0(t)),O0=e=>{try{return decodeURI(e)}catch{return e}},gb={hook:ET,searchHook:jT,parser:pT,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},vb=S.createContext(gb),Ul=()=>S.useContext(vb),yb={},xb=S.createContext(yb),RT=()=>S.useContext(xb),Ph=e=>{const[t,n]=e.hook(e);return[MT(e.base,t),hb((s,a)=>n(LT(s,e.base),a))]},fa=()=>Ph(Ul()),ov=(e,t,n,s)=>{const{pattern:a,keys:u}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",s),f=a.exec(n)||[],[h,...g]=f;return h!==void 0?[!0,(()=>{const v=u!==!1?Object.fromEntries(u.map((w,N)=>[w,g[N]])):f.groups;let y={...g};return v&&Object.assign(y,v),y})(),...s?[h]:[]]:[!1,null]},Hf=e=>ov(Ul().parser,e,fa()[0]),OT=({children:e,...t})=>{const n=Ul(),s=t.hook?gb:n;let a=s;const[u,f]=t.ssrPath?.split("?")??[];f&&(t.ssrSearch=f,t.ssrPath=u),t.hrefs=t.hrefs??t.hook?.hrefs;let h=S.useRef({}),g=h.current,v=g;for(let y in s){const w=y==="base"?s[y]+(t[y]||""):t[y]||s[y];g===v&&w!==v[y]&&(h.current=v={...v}),v[y]=w,w!==s[y]&&(a=v)}return S.createElement(vb.Provider,{value:a,children:e})},I0=({children:e,component:t},n)=>t?S.createElement(t,{params:n}):typeof e=="function"?e(n):e,IT=e=>{let t=S.useRef(yb),n=t.current;for(const s in e)e[s]!==n[s]&&(n=e);return Object.keys(e).length===0&&(n=e),t.current=n},Kt=({path:e,nest:t,match:n,...s})=>{const a=Ul(),[u]=Ph(a),[f,h,g]=n??ov(a.parser,e,u,t),v=IT({...RT(),...h});if(!f)return null;const y=g?S.createElement(OT,{base:g},I0(s,v)):I0(s,v);return S.createElement(xb.Provider,{value:v,children:y})},Ut=S.forwardRef((e,t)=>{const n=Ul(),[s,a]=Ph(n),{to:u="",href:f=u,onClick:h,asChild:g,children:v,className:y,replace:w,state:N,...T}=e,A=hb(j=>{j.ctrlKey||j.metaKey||j.altKey||j.shiftKey||j.button!==0||(h?.(j),j.defaultPrevented||(j.preventDefault(),a(f,e)))}),C=n.hrefs(f[0]==="~"?f.slice(1):n.base+f,n);return g&&S.isValidElement(v)?S.cloneElement(v,{onClick:A,href:C}):S.createElement("a",{...T,onClick:A,href:C,className:y?.call?y(s===f):y,children:v,ref:t})}),_b=e=>Array.isArray(e)?e.flatMap(t=>_b(t&&t.type===S.Fragment?t.props.children:t)):[e],DT=({children:e,location:t})=>{const n=Ul(),[s]=Ph(n);for(const a of _b(e)){let u=0;if(S.isValidElement(a)&&(u=ov(n.parser,a.props.path,t||s,a.props.nest))[0])return S.cloneElement(a,{match:u})}return null};var $l=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ra=typeof window>"u"||"Deno"in globalThis;function Cr(){}function FT(e,t){return typeof e=="function"?e(t):e}function ag(e){return typeof e=="number"&&e>=0&&e!==1/0}function wb(e,t){return Math.max(e+(t||0)-Date.now(),0)}function _l(e,t){return typeof e=="function"?e(t):e}function $r(e,t){return typeof e=="function"?e(t):e}function D0(e,t){const{type:n="all",exact:s,fetchStatus:a,predicate:u,queryKey:f,stale:h}=e;if(f){if(s){if(t.queryHash!==av(f,t.options))return!1}else if(!vu(t.queryKey,f))return!1}if(n!=="all"){const g=t.isActive();if(n==="active"&&!g||n==="inactive"&&g)return!1}return!(typeof h=="boolean"&&t.isStale()!==h||a&&a!==t.state.fetchStatus||u&&!u(t))}function F0(e,t){const{exact:n,status:s,predicate:a,mutationKey:u}=e;if(u){if(!t.options.mutationKey)return!1;if(n){if(ia(t.options.mutationKey)!==ia(u))return!1}else if(!vu(t.options.mutationKey,u))return!1}return!(s&&t.state.status!==s||a&&!a(t))}function av(e,t){return(t?.queryKeyHashFn||ia)(e)}function ia(e){return JSON.stringify(e,(t,n)=>lg(n)?Object.keys(n).sort().reduce((s,a)=>(s[a]=n[a],s),{}):n)}function vu(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!vu(e[n],t[n])):!1}function bb(e,t){if(e===t)return e;const n=z0(e)&&z0(t);if(n||lg(e)&&lg(t)){const s=n?e:Object.keys(e),a=s.length,u=n?t:Object.keys(t),f=u.length,h=n?[]:{};let g=0;for(let v=0;v<f;v++){const y=n?v:u[v];(!n&&s.includes(y)||n)&&e[y]===void 0&&t[y]===void 0?(h[y]=void 0,g++):(h[y]=bb(e[y],t[y]),h[y]===e[y]&&e[y]!==void 0&&g++)}return a===f&&g===a?e:h}return t}function qf(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function z0(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function lg(e){if(!B0(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!B0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function B0(e){return Object.prototype.toString.call(e)==="[object Object]"}function zT(e){return new Promise(t=>{setTimeout(t,e)})}function cg(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?bb(e,t):t}function BT(e,t,n=0){const s=[...e,t];return n&&s.length>n?s.slice(1):s}function VT(e,t,n=0){const s=[t,...e];return n&&s.length>n?s.slice(0,-1):s}var lv=Symbol();function Sb(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===lv?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var UT=class extends $l{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!ra&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},cv=new UT,$T=class extends $l{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!ra&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},Kf=new $T;function ug(){let e,t;const n=new Promise((a,u)=>{e=a,t=u});n.status="pending",n.catch(()=>{});function s(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{s({status:"fulfilled",value:a}),e(a)},n.reject=a=>{s({status:"rejected",reason:a}),t(a)},n}function ZT(e){return Math.min(1e3*2**e,3e4)}function Pb(e){return(e??"online")==="online"?Kf.isOnline():!0}var Nb=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Ep(e){return e instanceof Nb}function Cb(e){let t=!1,n=0,s=!1,a;const u=ug(),f=C=>{s||(N(new Nb(C)),e.abort?.())},h=()=>{t=!0},g=()=>{t=!1},v=()=>cv.isFocused()&&(e.networkMode==="always"||Kf.isOnline())&&e.canRun(),y=()=>Pb(e.networkMode)&&e.canRun(),w=C=>{s||(s=!0,e.onSuccess?.(C),a?.(),u.resolve(C))},N=C=>{s||(s=!0,e.onError?.(C),a?.(),u.reject(C))},T=()=>new Promise(C=>{a=j=>{(s||v())&&C(j)},e.onPause?.()}).then(()=>{a=void 0,s||e.onContinue?.()}),A=()=>{if(s)return;let C;const j=n===0?e.initialPromise:void 0;try{C=j??e.fn()}catch(M){C=Promise.reject(M)}Promise.resolve(C).then(w).catch(M=>{if(s)return;const R=e.retry??(ra?0:3),D=e.retryDelay??ZT,O=typeof D=="function"?D(n,M):D,V=R===!0||typeof R=="number"&&n<R||typeof R=="function"&&R(n,M);if(t||!V){N(M);return}n++,e.onFail?.(n,M),zT(O).then(()=>v()?void 0:T()).then(()=>{t?N(M):A()})})};return{promise:u,cancel:f,continue:()=>(a?.(),u),cancelRetry:h,continueRetry:g,canStart:y,start:()=>(y()?A():T().then(A),u)}}function WT(){let e=[],t=0,n=h=>{h()},s=h=>{h()},a=h=>setTimeout(h,0);const u=h=>{t?e.push(h):a(()=>{n(h)})},f=()=>{const h=e;e=[],h.length&&a(()=>{s(()=>{h.forEach(g=>{n(g)})})})};return{batch:h=>{let g;t++;try{g=h()}finally{t--,t||f()}return g},batchCalls:h=>(...g)=>{u(()=>{h(...g)})},schedule:u,setNotifyFunction:h=>{n=h},setBatchNotifyFunction:h=>{s=h},setScheduler:h=>{a=h}}}var tn=WT(),jb=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ag(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ra?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},HT=class extends jb{#e;#t;#r;#n;#o;#s;constructor(e){super(),this.#s=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=qT(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const n=cg(this.state.data,e,this.options);return this.#i({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#i({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(Cr).catch(Cr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>$r(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===lv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!wb(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#s?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(g=>g.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(this.#s=!0,n.signal)})},a=()=>{const h=Sb(this.options,t),g={queryKey:this.queryKey,meta:this.meta};return s(g),this.#s=!1,this.options.persister?this.options.persister(h,g,this):h(g)},u={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};s(u),this.options.behavior?.onFetch(u,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==u.fetchOptions?.meta)&&this.#i({type:"fetch",meta:u.fetchOptions?.meta});const f=h=>{Ep(h)&&h.silent||this.#i({type:"error",error:h}),Ep(h)||(this.#r.config.onError?.(h,this),this.#r.config.onSettled?.(this.state.data,h,this)),this.scheduleGc()};return this.#n=Cb({initialPromise:t?.initialPromise,fn:u.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{if(h===void 0){f(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(g){f(g);return}this.#r.config.onSuccess?.(h,this),this.#r.config.onSettled?.(h,this.state.error,this),this.scheduleGc()},onError:f,onFail:(h,g)=>{this.#i({type:"failed",failureCount:h,error:g})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0}),this.#n.start()}#i(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Tb(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return Ep(s)&&s.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),tn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function Tb(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Pb(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function qT(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var KT=class extends $l{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const s=t.queryKey,a=t.queryHash??av(s,t);let u=this.get(a);return u||(u=new HT({cache:this,queryKey:s,queryHash:a,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(u)),u}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){tn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>D0(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>D0(e,n)):t}notify(e){tn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){tn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){tn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},GT=class extends jb{#e;#t;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||kb(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){this.#r=Cb({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(s,a)=>{this.#n({type:"failed",failureCount:s,error:a})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const t=this.state.status==="pending",n=!this.#r.canStart();try{if(!t){this.#n({type:"pending",variables:e,isPaused:n}),await this.#t.config.onMutate?.(e,this);const a=await this.options.onMutate?.(e);a!==this.state.context&&this.#n({type:"pending",context:a,variables:e,isPaused:n})}const s=await this.#r.start();return await this.#t.config.onSuccess?.(s,e,this.state.context,this),await this.options.onSuccess?.(s,e,this.state.context),await this.#t.config.onSettled?.(s,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(s,null,e,this.state.context),this.#n({type:"success",data:s}),s}catch(s){try{throw await this.#t.config.onError?.(s,e,this.state.context,this),await this.options.onError?.(s,e,this.state.context),await this.#t.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,s,e,this.state.context),s}finally{this.#n({type:"error",error:s})}}finally{this.#t.runNext(this)}}#n(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),tn.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function kb(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var QT=class extends $l{constructor(e={}){super(),this.config=e,this.#e=new Map,this.#t=Date.now()}#e;#t;build(e,t,n){const s=new GT({mutationCache:this,mutationId:++this.#t,options:e.defaultMutationOptions(t),state:n});return this.add(s),s}add(e){const t=bf(e),n=this.#e.get(t)??[];n.push(e),this.#e.set(t,n),this.notify({type:"added",mutation:e})}remove(e){const t=bf(e);if(this.#e.has(t)){const n=this.#e.get(t)?.filter(s=>s!==e);n&&(n.length===0?this.#e.delete(t):this.#e.set(t,n))}this.notify({type:"removed",mutation:e})}canRun(e){const t=this.#e.get(bf(e))?.find(n=>n.state.status==="pending");return!t||t===e}runNext(e){return this.#e.get(bf(e))?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve()}clear(){tn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...this.#e.values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(n=>F0(t,n))}findAll(e={}){return this.getAll().filter(t=>F0(e,t))}notify(e){tn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return tn.batch(()=>Promise.all(e.map(t=>t.continue().catch(Cr))))}};function bf(e){return e.options.scope?.id??String(e.mutationId)}function V0(e){return{onFetch:(t,n)=>{const s=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,u=t.state.data?.pages||[],f=t.state.data?.pageParams||[];let h={pages:[],pageParams:[]},g=0;const v=async()=>{let y=!1;const w=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},N=Sb(t.options,t.fetchOptions),T=async(A,C,j)=>{if(y)return Promise.reject();if(C==null&&A.pages.length)return Promise.resolve(A);const M={queryKey:t.queryKey,pageParam:C,direction:j?"backward":"forward",meta:t.options.meta};w(M);const R=await N(M),{maxPages:D}=t.options,O=j?VT:BT;return{pages:O(A.pages,R,D),pageParams:O(A.pageParams,C,D)}};if(a&&u.length){const A=a==="backward",C=A?XT:U0,j={pages:u,pageParams:f},M=C(s,j);h=await T(j,M,A)}else{const A=e??u.length;do{const C=g===0?f[0]??s.initialPageParam:U0(s,h);if(g>0&&C==null)break;h=await T(h,C),g++}while(g<A)}return h};t.options.persister?t.fetchFn=()=>t.options.persister?.(v,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=v}}}function U0(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function XT(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var YT=class{#e;#t;#r;#n;#o;#s;#i;#a;constructor(e={}){this.#e=e.queryCache||new KT,this.#t=e.mutationCache||new QT,this.#r=e.defaultOptions||{},this.#n=new Map,this.#o=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#i=cv.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=Kf.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#i?.(),this.#i=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),s=this.#e.build(this,n);return e.revalidateIfStale&&s.isStaleByTime(_l(n.staleTime,s))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),u=this.#e.get(s.queryHash)?.state.data,f=FT(t,u);if(f!==void 0)return this.#e.build(this,s).setData(f,{...n,manual:!0})}setQueriesData(e,t,n){return tn.batch(()=>this.#e.findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;tn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e,s={type:"active",...e};return tn.batch(()=>(n.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(s,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},s=tn.batch(()=>this.#e.findAll(e).map(a=>a.cancel(n)));return Promise.all(s).then(Cr).catch(Cr)}invalidateQueries(e={},t={}){return tn.batch(()=>{if(this.#e.findAll(e).forEach(s=>{s.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:t?.cancelRefetch??!0},s=tn.batch(()=>this.#e.findAll(e).filter(a=>!a.isDisabled()).map(a=>{let u=a.fetch(void 0,n);return n.throwOnError||(u=u.catch(Cr)),a.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(s).then(Cr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(_l(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Cr).catch(Cr)}fetchInfiniteQuery(e){return e.behavior=V0(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Cr).catch(Cr)}ensureInfiniteQueryData(e){return e.behavior=V0(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Kf.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#n.set(ia(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#n.values()];let n={};return t.forEach(s=>{vu(e,s.queryKey)&&(n={...n,...s.defaultOptions})}),n}setMutationDefaults(e,t){this.#o.set(ia(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#o.values()];let n={};return t.forEach(s=>{vu(e,s.mutationKey)&&(n={...n,...s.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=av(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===lv&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},JT=class extends $l{constructor(e,t){super(),this.options=t,this.#e=e,this.#a=null,this.#i=ug(),this.options.experimental_prefetchInRender||this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#r=void 0;#n=void 0;#o;#s;#i;#a;#p;#f;#h;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),$0(this.#t,this.options)?this.#d():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return dg(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return dg(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#_(),this.#w(),this.#t.removeObserver(this)}setOptions(e,t){const n=this.options,s=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof $r(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#b(),this.#t.setOptions(this.options),n._defaulted&&!qf(this.options,n)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const a=this.hasListeners();a&&Z0(this.#t,s,this.options,n)&&this.#d(),this.updateResult(t),a&&(this.#t!==s||$r(this.options.enabled,this.#t)!==$r(n.enabled,this.#t)||_l(this.options.staleTime,this.#t)!==_l(n.staleTime,this.#t))&&this.#g();const u=this.#v();a&&(this.#t!==s||$r(this.options.enabled,this.#t)!==$r(n.enabled,this.#t)||u!==this.#l)&&this.#y(u)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),n=this.createResult(t,e);return tk(this,n)&&(this.#n=n,this.#s=this.options,this.#o=this.#t.state),n}getCurrentResult(){return this.#n}trackResult(e,t){const n={};return Object.keys(e).forEach(s=>{Object.defineProperty(n,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),t?.(s),e[s])})}),n}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),n=this.#e.getQueryCache().build(this.#e,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#d(e){this.#b();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Cr)),t}#g(){this.#_();const e=_l(this.options.staleTime,this.#t);if(ra||this.#n.isStale||!ag(e))return;const n=wb(this.#n.dataUpdatedAt,e)+1;this.#c=setTimeout(()=>{this.#n.isStale||this.updateResult()},n)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(e){this.#w(),this.#l=e,!(ra||$r(this.options.enabled,this.#t)===!1||!ag(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||cv.isFocused())&&this.#d()},this.#l))}#x(){this.#g(),this.#y(this.#v())}#_(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const n=this.#t,s=this.options,a=this.#n,u=this.#o,f=this.#s,g=e!==n?e.state:this.#r,{state:v}=e;let y={...v},w=!1,N;if(t._optimisticResults){const q=this.hasListeners(),J=!q&&$0(e,t),he=q&&Z0(e,n,t,s);(J||he)&&(y={...y,...Tb(v.data,e.options)}),t._optimisticResults==="isRestoring"&&(y.fetchStatus="idle")}let{error:T,errorUpdatedAt:A,status:C}=y;if(t.select&&y.data!==void 0)if(a&&y.data===u?.data&&t.select===this.#p)N=this.#f;else try{this.#p=t.select,N=t.select(y.data),N=cg(a?.data,N,t),this.#f=N,this.#a=null}catch(q){this.#a=q}else N=y.data;if(t.placeholderData!==void 0&&N===void 0&&C==="pending"){let q;if(a?.isPlaceholderData&&t.placeholderData===f?.placeholderData)q=a.data;else if(q=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,t.select&&q!==void 0)try{q=t.select(q),this.#a=null}catch(J){this.#a=J}q!==void 0&&(C="success",N=cg(a?.data,q,t),w=!0)}this.#a&&(T=this.#a,N=this.#f,A=Date.now(),C="error");const j=y.fetchStatus==="fetching",M=C==="pending",R=C==="error",D=M&&j,O=N!==void 0,Z={status:C,fetchStatus:y.fetchStatus,isPending:M,isSuccess:C==="success",isError:R,isInitialLoading:D,isLoading:D,data:N,dataUpdatedAt:y.dataUpdatedAt,error:T,errorUpdatedAt:A,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>g.dataUpdateCount||y.errorUpdateCount>g.errorUpdateCount,isFetching:j,isRefetching:j&&!M,isLoadingError:R&&!O,isPaused:y.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:R&&O,isStale:uv(e,t),refetch:this.refetch,promise:this.#i};if(this.options.experimental_prefetchInRender){const q=me=>{Z.status==="error"?me.reject(Z.error):Z.data!==void 0&&me.resolve(Z.data)},J=()=>{const me=this.#i=Z.promise=ug();q(me)},he=this.#i;switch(he.status){case"pending":e.queryHash===n.queryHash&&q(he);break;case"fulfilled":(Z.status==="error"||Z.data!==he.value)&&J();break;case"rejected":(Z.status!=="error"||Z.error!==he.reason)&&J();break}}return Z}updateResult(e){const t=this.#n,n=this.createResult(this.#t,this.options);if(this.#o=this.#t.state,this.#s=this.options,this.#o.data!==void 0&&(this.#h=this.#t),qf(n,t))return;this.#n=n;const s={},a=()=>{if(!t)return!0;const{notifyOnChangeProps:u}=this.options,f=typeof u=="function"?u():u;if(f==="all"||!f&&!this.#m.size)return!0;const h=new Set(f??this.#m);return this.options.throwOnError&&h.add("error"),Object.keys(this.#n).some(g=>{const v=g;return this.#n[v]!==t[v]&&h.has(v)})};e?.listeners!==!1&&a()&&(s.listeners=!0),this.#S({...s,...e})}#b(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#S(e){tn.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function ek(e,t){return $r(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function $0(e,t){return ek(e,t)||e.state.data!==void 0&&dg(e,t,t.refetchOnMount)}function dg(e,t,n){if($r(t.enabled,e)!==!1){const s=typeof n=="function"?n(e):n;return s==="always"||s!==!1&&uv(e,t)}return!1}function Z0(e,t,n,s){return(e!==t||$r(s.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&uv(e,n)}function uv(e,t){return $r(t.enabled,e)!==!1&&e.isStaleByTime(_l(t.staleTime,e))}function tk(e,t){return!qf(e.getCurrentResult(),t)}var nk=class extends $l{#e;#t=void 0;#r;#n;constructor(t,n){super(),this.#e=t,this.setOptions(n),this.bindMethods(),this.#o()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const n=this.options;this.options=this.#e.defaultMutationOptions(t),qf(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),n?.mutationKey&&this.options.mutationKey&&ia(n.mutationKey)!==ia(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#o(),this.#s(t)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#o(),this.#s()}mutate(t,n){return this.#n=n,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(t)}#o(){const t=this.#r?.state??kb();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#s(t){tn.batch(()=>{if(this.#n&&this.hasListeners()){const n=this.#t.variables,s=this.#t.context;t?.type==="success"?(this.#n.onSuccess?.(t.data,n,s),this.#n.onSettled?.(t.data,null,n,s)):t?.type==="error"&&(this.#n.onError?.(t.error,n,s),this.#n.onSettled?.(void 0,t.error,n,s))}this.listeners.forEach(n=>{n(this.#t)})})}},Eb=S.createContext(void 0),Xr=e=>{const t=S.useContext(Eb);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},rk=({client:e,children:t})=>(S.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(Eb.Provider,{value:e,children:t})),Ab=S.createContext(!1),ik=()=>S.useContext(Ab);Ab.Provider;function sk(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var ok=S.createContext(sk()),ak=()=>S.useContext(ok);function Lb(e,t){return typeof e=="function"?e(...t):!!e}function fg(){}var lk=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},ck=e=>{S.useEffect(()=>{e.clearReset()},[e])},uk=({result:e,errorResetBoundary:t,throwOnError:n,query:s})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&Lb(n,[e.error,s]),dk=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},fk=(e,t)=>e.isLoading&&e.isFetching&&!t,hk=(e,t)=>e?.suspense&&t.isPending,W0=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function mk(e,t,n){const s=Xr(),a=ik(),u=ak(),f=s.defaultQueryOptions(e);s.getDefaultOptions().queries?._experimental_beforeQuery?.(f),f._optimisticResults=a?"isRestoring":"optimistic",dk(f),lk(f,u),ck(u);const h=!s.getQueryCache().get(f.queryHash),[g]=S.useState(()=>new t(s,f)),v=g.getOptimisticResult(f);if(S.useSyncExternalStore(S.useCallback(y=>{const w=a?fg:g.subscribe(tn.batchCalls(y));return g.updateResult(),w},[g,a]),()=>g.getCurrentResult(),()=>g.getCurrentResult()),S.useEffect(()=>{g.setOptions(f,{listeners:!1})},[f,g]),hk(f,v))throw W0(f,g,u);if(uk({result:v,errorResetBoundary:u,throwOnError:f.throwOnError,query:s.getQueryCache().get(f.queryHash)}))throw v.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(f,v),f.experimental_prefetchInRender&&!ra&&fk(v,a)&&(h?W0(f,g,u):s.getQueryCache().get(f.queryHash)?.promise)?.catch(fg).finally(()=>{g.updateResult()}),f.notifyOnChangeProps?v:g.trackResult(v)}function vt(e,t){return mk(e,JT)}function Pn(e,t){const n=Xr(),[s]=S.useState(()=>new nk(n,e));S.useEffect(()=>{s.setOptions(e)},[s,e]);const a=S.useSyncExternalStore(S.useCallback(f=>s.subscribe(tn.batchCalls(f)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),u=S.useCallback((f,h)=>{s.mutate(f,h).catch(fg)},[s]);if(a.error&&Lb(s.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:u,mutateAsync:a.mutate}}async function pk(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}const gk=({on401:e})=>async({queryKey:t})=>{const n=await fetch(t.join("/"),{credentials:"include"});return await pk(n),await n.json()},vk=new YT({defaultOptions:{queries:{queryFn:gk({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),yk=1,xk=1e6;let Ap=0;function _k(){return Ap=(Ap+1)%Number.MAX_SAFE_INTEGER,Ap.toString()}const Lp=new Map,H0=e=>{if(Lp.has(e))return;const t=setTimeout(()=>{Lp.delete(e),fu({type:"REMOVE_TOAST",toastId:e})},xk);Lp.set(e,t)},wk=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,yk)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?H0(n):e.toasts.forEach(s=>{H0(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},If=[];let Df={toasts:[]};function fu(e){Df=wk(Df,e),If.forEach(t=>{t(Df)})}function bk({...e}){const t=_k(),n=a=>fu({type:"UPDATE_TOAST",toast:{...a,id:t}}),s=()=>fu({type:"DISMISS_TOAST",toastId:t});return fu({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||s()}}}),{id:t,dismiss:s,update:n}}function Rn(){const[e,t]=S.useState(Df);return S.useEffect(()=>(If.push(t),()=>{const n=If.indexOf(t);n>-1&&If.splice(n,1)}),[e]),{...e,toast:bk,dismiss:n=>fu({type:"DISMISS_TOAST",toastId:n})}}var ha=db();const Sk=rv(ha);function Xe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),n===!1||!a.defaultPrevented)return t?.(a)}}function q0(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Mb(...e){return t=>{let n=!1;const s=e.map(a=>{const u=q0(a,t);return!n&&typeof u=="function"&&(n=!0),u});if(n)return()=>{for(let a=0;a<s.length;a++){const u=s[a];typeof u=="function"?u():q0(e[a],null)}}}}function _t(...e){return S.useCallback(Mb(...e),e)}function Pk(e,t){const n=S.createContext(t),s=u=>{const{children:f,...h}=u,g=S.useMemo(()=>h,Object.values(h));return l.jsx(n.Provider,{value:g,children:f})};s.displayName=e+"Provider";function a(u){const f=S.useContext(n);if(f)return f;if(t!==void 0)return t;throw new Error(`\`${u}\` must be used within \`${e}\``)}return[s,a]}function ho(e,t=[]){let n=[];function s(u,f){const h=S.createContext(f),g=n.length;n=[...n,f];const v=w=>{const{scope:N,children:T,...A}=w,C=N?.[e]?.[g]||h,j=S.useMemo(()=>A,Object.values(A));return l.jsx(C.Provider,{value:j,children:T})};v.displayName=u+"Provider";function y(w,N){const T=N?.[e]?.[g]||h,A=S.useContext(T);if(A)return A;if(f!==void 0)return f;throw new Error(`\`${w}\` must be used within \`${u}\``)}return[v,y]}const a=()=>{const u=n.map(f=>S.createContext(f));return function(h){const g=h?.[e]||u;return S.useMemo(()=>({[`__scope${e}`]:{...h,[e]:g}}),[h,g])}};return a.scopeName=e,[s,Nk(a,...t)]}function Nk(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(u){const f=s.reduce((h,{useScope:g,scopeName:v})=>{const w=g(u)[`__scope${v}`];return{...h,...w}},{});return S.useMemo(()=>({[`__scope${t.scopeName}`]:f}),[f])}};return n.scopeName=t.scopeName,n}function El(e){const t=jk(e),n=S.forwardRef((s,a)=>{const{children:u,...f}=s,h=S.Children.toArray(u),g=h.find(Tk);if(g){const v=g.props.children,y=h.map(w=>w===g?S.Children.count(v)>1?S.Children.only(null):S.isValidElement(v)?v.props.children:null:w);return l.jsx(t,{...f,ref:a,children:S.isValidElement(v)?S.cloneElement(v,void 0,y):null})}return l.jsx(t,{...f,ref:a,children:u})});return n.displayName=`${e}.Slot`,n}var Ck=El("Slot");function jk(e){const t=S.forwardRef((n,s)=>{const{children:a,...u}=n;if(S.isValidElement(a)){const f=Ek(a),h=kk(u,a.props);return a.type!==S.Fragment&&(h.ref=s?Mb(s,f):f),S.cloneElement(a,h)}return S.Children.count(a)>1?S.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Rb=Symbol("radix.slottable");function Ob(e){const t=({children:n})=>l.jsx(l.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=Rb,t}function Tk(e){return S.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Rb}function kk(e,t){const n={...t};for(const s in t){const a=e[s],u=t[s];/^on[A-Z]/.test(s)?a&&u?n[s]=(...h)=>{u(...h),a(...h)}:a&&(n[s]=a):s==="style"?n[s]={...a,...u}:s==="className"&&(n[s]=[a,u].filter(Boolean).join(" "))}return{...e,...n}}function Ek(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Ib(e){const t=e+"CollectionProvider",[n,s]=ho(t),[a,u]=n(t,{collectionRef:{current:null},itemMap:new Map}),f=C=>{const{scope:j,children:M}=C,R=on.useRef(null),D=on.useRef(new Map).current;return l.jsx(a,{scope:j,itemMap:D,collectionRef:R,children:M})};f.displayName=t;const h=e+"CollectionSlot",g=El(h),v=on.forwardRef((C,j)=>{const{scope:M,children:R}=C,D=u(h,M),O=_t(j,D.collectionRef);return l.jsx(g,{ref:O,children:R})});v.displayName=h;const y=e+"CollectionItemSlot",w="data-radix-collection-item",N=El(y),T=on.forwardRef((C,j)=>{const{scope:M,children:R,...D}=C,O=on.useRef(null),V=_t(j,O),Z=u(y,M);return on.useEffect(()=>(Z.itemMap.set(O,{ref:O,...D}),()=>{Z.itemMap.delete(O)})),l.jsx(N,{[w]:"",ref:V,children:R})});T.displayName=y;function A(C){const j=u(e+"CollectionConsumer",C);return on.useCallback(()=>{const R=j.collectionRef.current;if(!R)return[];const D=Array.from(R.querySelectorAll(`[${w}]`));return Array.from(j.itemMap.values()).sort((Z,q)=>D.indexOf(Z.ref.current)-D.indexOf(q.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:f,Slot:v,ItemSlot:T},A,s]}var Ak=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],dt=Ak.reduce((e,t)=>{const n=El(`Primitive.${t}`),s=S.forwardRef((a,u)=>{const{asChild:f,...h}=a,g=f?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(g,{...h,ref:u})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function Db(e,t){e&&ha.flushSync(()=>e.dispatchEvent(t))}function cr(e){const t=S.useRef(e);return S.useEffect(()=>{t.current=e}),S.useMemo(()=>(...n)=>t.current?.(...n),[])}function Lk(e,t=globalThis?.document){const n=cr(e);S.useEffect(()=>{const s=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var Mk="DismissableLayer",hg="dismissableLayer.update",Rk="dismissableLayer.pointerDownOutside",Ok="dismissableLayer.focusOutside",K0,Fb=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Bu=S.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:u,onInteractOutside:f,onDismiss:h,...g}=e,v=S.useContext(Fb),[y,w]=S.useState(null),N=y?.ownerDocument??globalThis?.document,[,T]=S.useState({}),A=_t(t,q=>w(q)),C=Array.from(v.layers),[j]=[...v.layersWithOutsidePointerEventsDisabled].slice(-1),M=C.indexOf(j),R=y?C.indexOf(y):-1,D=v.layersWithOutsidePointerEventsDisabled.size>0,O=R>=M,V=Dk(q=>{const J=q.target,he=[...v.branches].some(me=>me.contains(J));!O||he||(a?.(q),f?.(q),q.defaultPrevented||h?.())},N),Z=Fk(q=>{const J=q.target;[...v.branches].some(me=>me.contains(J))||(u?.(q),f?.(q),q.defaultPrevented||h?.())},N);return Lk(q=>{R===v.layers.size-1&&(s?.(q),!q.defaultPrevented&&h&&(q.preventDefault(),h()))},N),S.useEffect(()=>{if(y)return n&&(v.layersWithOutsidePointerEventsDisabled.size===0&&(K0=N.body.style.pointerEvents,N.body.style.pointerEvents="none"),v.layersWithOutsidePointerEventsDisabled.add(y)),v.layers.add(y),G0(),()=>{n&&v.layersWithOutsidePointerEventsDisabled.size===1&&(N.body.style.pointerEvents=K0)}},[y,N,n,v]),S.useEffect(()=>()=>{y&&(v.layers.delete(y),v.layersWithOutsidePointerEventsDisabled.delete(y),G0())},[y,v]),S.useEffect(()=>{const q=()=>T({});return document.addEventListener(hg,q),()=>document.removeEventListener(hg,q)},[]),l.jsx(dt.div,{...g,ref:A,style:{pointerEvents:D?O?"auto":"none":void 0,...e.style},onFocusCapture:Xe(e.onFocusCapture,Z.onFocusCapture),onBlurCapture:Xe(e.onBlurCapture,Z.onBlurCapture),onPointerDownCapture:Xe(e.onPointerDownCapture,V.onPointerDownCapture)})});Bu.displayName=Mk;var Ik="DismissableLayerBranch",zb=S.forwardRef((e,t)=>{const n=S.useContext(Fb),s=S.useRef(null),a=_t(t,s);return S.useEffect(()=>{const u=s.current;if(u)return n.branches.add(u),()=>{n.branches.delete(u)}},[n.branches]),l.jsx(dt.div,{...e,ref:a})});zb.displayName=Ik;function Dk(e,t=globalThis?.document){const n=cr(e),s=S.useRef(!1),a=S.useRef(()=>{});return S.useEffect(()=>{const u=h=>{if(h.target&&!s.current){let g=function(){Bb(Rk,n,v,{discrete:!0})};const v={originalEvent:h};h.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=g,t.addEventListener("click",a.current,{once:!0})):g()}else t.removeEventListener("click",a.current);s.current=!1},f=window.setTimeout(()=>{t.addEventListener("pointerdown",u)},0);return()=>{window.clearTimeout(f),t.removeEventListener("pointerdown",u),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function Fk(e,t=globalThis?.document){const n=cr(e),s=S.useRef(!1);return S.useEffect(()=>{const a=u=>{u.target&&!s.current&&Bb(Ok,n,{originalEvent:u},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function G0(){const e=new CustomEvent(hg);document.dispatchEvent(e)}function Bb(e,t,n,{discrete:s}){const a=n.originalEvent.target,u=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?Db(a,u):a.dispatchEvent(u)}var zk=Bu,Bk=zb,Nn=globalThis?.document?S.useLayoutEffect:()=>{},Vk="Portal",Nh=S.forwardRef((e,t)=>{const{container:n,...s}=e,[a,u]=S.useState(!1);Nn(()=>u(!0),[]);const f=n||a&&globalThis?.document?.body;return f?Sk.createPortal(l.jsx(dt.div,{...s,ref:t}),f):null});Nh.displayName=Vk;function Uk(e,t){return S.useReducer((n,s)=>t[n][s]??n,e)}var Zl=e=>{const{present:t,children:n}=e,s=$k(t),a=typeof n=="function"?n({present:s.isPresent}):S.Children.only(n),u=_t(s.ref,Zk(a));return typeof n=="function"||s.isPresent?S.cloneElement(a,{ref:u}):null};Zl.displayName="Presence";function $k(e){const[t,n]=S.useState(),s=S.useRef({}),a=S.useRef(e),u=S.useRef("none"),f=e?"mounted":"unmounted",[h,g]=Uk(f,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const v=Sf(s.current);u.current=h==="mounted"?v:"none"},[h]),Nn(()=>{const v=s.current,y=a.current;if(y!==e){const N=u.current,T=Sf(v);e?g("MOUNT"):T==="none"||v?.display==="none"?g("UNMOUNT"):g(y&&N!==T?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,g]),Nn(()=>{if(t){let v;const y=t.ownerDocument.defaultView??window,w=T=>{const C=Sf(s.current).includes(T.animationName);if(T.target===t&&C&&(g("ANIMATION_END"),!a.current)){const j=t.style.animationFillMode;t.style.animationFillMode="forwards",v=y.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=j)})}},N=T=>{T.target===t&&(u.current=Sf(s.current))};return t.addEventListener("animationstart",N),t.addEventListener("animationcancel",w),t.addEventListener("animationend",w),()=>{y.clearTimeout(v),t.removeEventListener("animationstart",N),t.removeEventListener("animationcancel",w),t.removeEventListener("animationend",w)}}else g("ANIMATION_END")},[t,g]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:S.useCallback(v=>{v&&(s.current=getComputedStyle(v)),n(v)},[])}}function Sf(e){return e?.animationName||"none"}function Zk(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Gf({prop:e,defaultProp:t,onChange:n=()=>{}}){const[s,a]=Wk({defaultProp:t,onChange:n}),u=e!==void 0,f=u?e:s,h=cr(n),g=S.useCallback(v=>{if(u){const w=typeof v=="function"?v(e):v;w!==e&&h(w)}else a(v)},[u,e,a,h]);return[f,g]}function Wk({defaultProp:e,onChange:t}){const n=S.useState(e),[s]=n,a=S.useRef(s),u=cr(t);return S.useEffect(()=>{a.current!==s&&(u(s),a.current=s)},[s,a,u]),n}var Hk="VisuallyHidden",Vu=S.forwardRef((e,t)=>l.jsx(dt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Vu.displayName=Hk;var qk=Vu,dv="ToastProvider",[fv,Kk,Gk]=Ib("Toast"),[Vb]=ho("Toast",[Gk]),[Qk,Ch]=Vb(dv),Ub=e=>{const{__scopeToast:t,label:n="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:u=50,children:f}=e,[h,g]=S.useState(null),[v,y]=S.useState(0),w=S.useRef(!1),N=S.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${dv}\`. Expected non-empty \`string\`.`),l.jsx(fv.Provider,{scope:t,children:l.jsx(Qk,{scope:t,label:n,duration:s,swipeDirection:a,swipeThreshold:u,toastCount:v,viewport:h,onViewportChange:g,onToastAdd:S.useCallback(()=>y(T=>T+1),[]),onToastRemove:S.useCallback(()=>y(T=>T-1),[]),isFocusedToastEscapeKeyDownRef:w,isClosePausedRef:N,children:f})})};Ub.displayName=dv;var $b="ToastViewport",Xk=["F8"],mg="toast.viewportPause",pg="toast.viewportResume",Zb=S.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:s=Xk,label:a="Notifications ({hotkey})",...u}=e,f=Ch($b,n),h=Kk(n),g=S.useRef(null),v=S.useRef(null),y=S.useRef(null),w=S.useRef(null),N=_t(t,w,f.onViewportChange),T=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=f.toastCount>0;S.useEffect(()=>{const j=M=>{s.length!==0&&s.every(D=>M[D]||M.code===D)&&w.current?.focus()};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[s]),S.useEffect(()=>{const j=g.current,M=w.current;if(A&&j&&M){const R=()=>{if(!f.isClosePausedRef.current){const Z=new CustomEvent(mg);M.dispatchEvent(Z),f.isClosePausedRef.current=!0}},D=()=>{if(f.isClosePausedRef.current){const Z=new CustomEvent(pg);M.dispatchEvent(Z),f.isClosePausedRef.current=!1}},O=Z=>{!j.contains(Z.relatedTarget)&&D()},V=()=>{j.contains(document.activeElement)||D()};return j.addEventListener("focusin",R),j.addEventListener("focusout",O),j.addEventListener("pointermove",R),j.addEventListener("pointerleave",V),window.addEventListener("blur",R),window.addEventListener("focus",D),()=>{j.removeEventListener("focusin",R),j.removeEventListener("focusout",O),j.removeEventListener("pointermove",R),j.removeEventListener("pointerleave",V),window.removeEventListener("blur",R),window.removeEventListener("focus",D)}}},[A,f.isClosePausedRef]);const C=S.useCallback(({tabbingDirection:j})=>{const R=h().map(D=>{const O=D.ref.current,V=[O,...uE(O)];return j==="forwards"?V:V.reverse()});return(j==="forwards"?R.reverse():R).flat()},[h]);return S.useEffect(()=>{const j=w.current;if(j){const M=R=>{const D=R.altKey||R.ctrlKey||R.metaKey;if(R.key==="Tab"&&!D){const V=document.activeElement,Z=R.shiftKey;if(R.target===j&&Z){v.current?.focus();return}const he=C({tabbingDirection:Z?"backwards":"forwards"}),me=he.findIndex(_e=>_e===V);Mp(he.slice(me+1))?R.preventDefault():Z?v.current?.focus():y.current?.focus()}};return j.addEventListener("keydown",M),()=>j.removeEventListener("keydown",M)}},[h,C]),l.jsxs(Bk,{ref:g,role:"region","aria-label":a.replace("{hotkey}",T),tabIndex:-1,style:{pointerEvents:A?void 0:"none"},children:[A&&l.jsx(gg,{ref:v,onFocusFromOutsideViewport:()=>{const j=C({tabbingDirection:"forwards"});Mp(j)}}),l.jsx(fv.Slot,{scope:n,children:l.jsx(dt.ol,{tabIndex:-1,...u,ref:N})}),A&&l.jsx(gg,{ref:y,onFocusFromOutsideViewport:()=>{const j=C({tabbingDirection:"backwards"});Mp(j)}})]})});Zb.displayName=$b;var Wb="ToastFocusProxy",gg=S.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...a}=e,u=Ch(Wb,n);return l.jsx(Vu,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:f=>{const h=f.relatedTarget;!u.viewport?.contains(h)&&s()}})});gg.displayName=Wb;var jh="Toast",Yk="toast.swipeStart",Jk="toast.swipeMove",eE="toast.swipeCancel",tE="toast.swipeEnd",Hb=S.forwardRef((e,t)=>{const{forceMount:n,open:s,defaultOpen:a,onOpenChange:u,...f}=e,[h=!0,g]=Gf({prop:s,defaultProp:a,onChange:u});return l.jsx(Zl,{present:n||h,children:l.jsx(iE,{open:h,...f,ref:t,onClose:()=>g(!1),onPause:cr(e.onPause),onResume:cr(e.onResume),onSwipeStart:Xe(e.onSwipeStart,v=>{v.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Xe(e.onSwipeMove,v=>{const{x:y,y:w}=v.detail.delta;v.currentTarget.setAttribute("data-swipe","move"),v.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${y}px`),v.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${w}px`)}),onSwipeCancel:Xe(e.onSwipeCancel,v=>{v.currentTarget.setAttribute("data-swipe","cancel"),v.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),v.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),v.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),v.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Xe(e.onSwipeEnd,v=>{const{x:y,y:w}=v.detail.delta;v.currentTarget.setAttribute("data-swipe","end"),v.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),v.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),v.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${y}px`),v.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${w}px`),g(!1)})})})});Hb.displayName=jh;var[nE,rE]=Vb(jh,{onClose(){}}),iE=S.forwardRef((e,t)=>{const{__scopeToast:n,type:s="foreground",duration:a,open:u,onClose:f,onEscapeKeyDown:h,onPause:g,onResume:v,onSwipeStart:y,onSwipeMove:w,onSwipeCancel:N,onSwipeEnd:T,...A}=e,C=Ch(jh,n),[j,M]=S.useState(null),R=_t(t,te=>M(te)),D=S.useRef(null),O=S.useRef(null),V=a||C.duration,Z=S.useRef(0),q=S.useRef(V),J=S.useRef(0),{onToastAdd:he,onToastRemove:me}=C,_e=cr(()=>{j?.contains(document.activeElement)&&C.viewport?.focus(),f()}),le=S.useCallback(te=>{!te||te===1/0||(window.clearTimeout(J.current),Z.current=new Date().getTime(),J.current=window.setTimeout(_e,te))},[_e]);S.useEffect(()=>{const te=C.viewport;if(te){const ge=()=>{le(q.current),v?.()},de=()=>{const ce=new Date().getTime()-Z.current;q.current=q.current-ce,window.clearTimeout(J.current),g?.()};return te.addEventListener(mg,de),te.addEventListener(pg,ge),()=>{te.removeEventListener(mg,de),te.removeEventListener(pg,ge)}}},[C.viewport,V,g,v,le]),S.useEffect(()=>{u&&!C.isClosePausedRef.current&&le(V)},[u,V,C.isClosePausedRef,le]),S.useEffect(()=>(he(),()=>me()),[he,me]);const Re=S.useMemo(()=>j?Jb(j):null,[j]);return C.viewport?l.jsxs(l.Fragment,{children:[Re&&l.jsx(sE,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:Re}),l.jsx(nE,{scope:n,onClose:_e,children:ha.createPortal(l.jsx(fv.ItemSlot,{scope:n,children:l.jsx(zk,{asChild:!0,onEscapeKeyDown:Xe(h,()=>{C.isFocusedToastEscapeKeyDownRef.current||_e(),C.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(dt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":u?"open":"closed","data-swipe-direction":C.swipeDirection,...A,ref:R,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Xe(e.onKeyDown,te=>{te.key==="Escape"&&(h?.(te.nativeEvent),te.nativeEvent.defaultPrevented||(C.isFocusedToastEscapeKeyDownRef.current=!0,_e()))}),onPointerDown:Xe(e.onPointerDown,te=>{te.button===0&&(D.current={x:te.clientX,y:te.clientY})}),onPointerMove:Xe(e.onPointerMove,te=>{if(!D.current)return;const ge=te.clientX-D.current.x,de=te.clientY-D.current.y,ce=!!O.current,$=["left","right"].includes(C.swipeDirection),oe=["left","up"].includes(C.swipeDirection)?Math.min:Math.max,X=$?oe(0,ge):0,z=$?0:oe(0,de),Y=te.pointerType==="touch"?10:2,Ne={x:X,y:z},ye={originalEvent:te,delta:Ne};ce?(O.current=Ne,Pf(Jk,w,ye,{discrete:!1})):Q0(Ne,C.swipeDirection,Y)?(O.current=Ne,Pf(Yk,y,ye,{discrete:!1}),te.target.setPointerCapture(te.pointerId)):(Math.abs(ge)>Y||Math.abs(de)>Y)&&(D.current=null)}),onPointerUp:Xe(e.onPointerUp,te=>{const ge=O.current,de=te.target;if(de.hasPointerCapture(te.pointerId)&&de.releasePointerCapture(te.pointerId),O.current=null,D.current=null,ge){const ce=te.currentTarget,$={originalEvent:te,delta:ge};Q0(ge,C.swipeDirection,C.swipeThreshold)?Pf(tE,T,$,{discrete:!0}):Pf(eE,N,$,{discrete:!0}),ce.addEventListener("click",oe=>oe.preventDefault(),{once:!0})}})})})}),C.viewport)})]}):null}),sE=e=>{const{__scopeToast:t,children:n,...s}=e,a=Ch(jh,t),[u,f]=S.useState(!1),[h,g]=S.useState(!1);return lE(()=>f(!0)),S.useEffect(()=>{const v=window.setTimeout(()=>g(!0),1e3);return()=>window.clearTimeout(v)},[]),h?null:l.jsx(Nh,{asChild:!0,children:l.jsx(Vu,{...s,children:u&&l.jsxs(l.Fragment,{children:[a.label," ",n]})})})},oE="ToastTitle",qb=S.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return l.jsx(dt.div,{...s,ref:t})});qb.displayName=oE;var aE="ToastDescription",Kb=S.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return l.jsx(dt.div,{...s,ref:t})});Kb.displayName=aE;var Gb="ToastAction",Qb=S.forwardRef((e,t)=>{const{altText:n,...s}=e;return n.trim()?l.jsx(Yb,{altText:n,asChild:!0,children:l.jsx(hv,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Gb}\`. Expected non-empty \`string\`.`),null)});Qb.displayName=Gb;var Xb="ToastClose",hv=S.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e,a=rE(Xb,n);return l.jsx(Yb,{asChild:!0,children:l.jsx(dt.button,{type:"button",...s,ref:t,onClick:Xe(e.onClick,a.onClose)})})});hv.displayName=Xb;var Yb=S.forwardRef((e,t)=>{const{__scopeToast:n,altText:s,...a}=e;return l.jsx(dt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...a,ref:t})});function Jb(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),cE(s)){const a=s.ariaHidden||s.hidden||s.style.display==="none",u=s.dataset.radixToastAnnounceExclude==="";if(!a)if(u){const f=s.dataset.radixToastAnnounceAlt;f&&t.push(f)}else t.push(...Jb(s))}}),t}function Pf(e,t,n,{discrete:s}){const a=n.originalEvent.currentTarget,u=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?Db(a,u):a.dispatchEvent(u)}var Q0=(e,t,n=0)=>{const s=Math.abs(e.x),a=Math.abs(e.y),u=s>a;return t==="left"||t==="right"?u&&s>n:!u&&a>n};function lE(e=()=>{}){const t=cr(e);Nn(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[t])}function cE(e){return e.nodeType===e.ELEMENT_NODE}function uE(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Mp(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var dE=Ub,e1=Zb,t1=Hb,n1=qb,r1=Kb,i1=Qb,s1=hv;function o1(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=o1(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function a1(){for(var e,t,n=0,s="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=o1(e))&&(s&&(s+=" "),s+=t);return s}const X0=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Y0=a1,mv=(e,t)=>n=>{var s;if(t?.variants==null)return Y0(e,n?.class,n?.className);const{variants:a,defaultVariants:u}=t,f=Object.keys(a).map(v=>{const y=n?.[v],w=u?.[v];if(y===null)return null;const N=X0(y)||X0(w);return a[v][N]}),h=n&&Object.entries(n).reduce((v,y)=>{let[w,N]=y;return N===void 0||(v[w]=N),v},{}),g=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((v,y)=>{let{class:w,className:N,...T}=y;return Object.entries(T).every(A=>{let[C,j]=A;return Array.isArray(j)?j.includes({...u,...h}[C]):{...u,...h}[C]===j})?[...v,w,N]:v},[]);return Y0(e,f,g,n?.class,n?.className)};const fE=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l1=(...e)=>e.filter((t,n,s)=>!!t&&s.indexOf(t)===n).join(" ");var hE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const mE=S.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:u,iconNode:f,...h},g)=>S.createElement("svg",{ref:g,...hE,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:l1("lucide",a),...h},[...f.map(([v,y])=>S.createElement(v,y)),...Array.isArray(u)?u:[u]]));const Me=(e,t)=>{const n=S.forwardRef(({className:s,...a},u)=>S.createElement(mE,{ref:u,iconNode:t,className:l1(`lucide-${fE(e)}`,s),...a}));return n.displayName=`${e}`,n};const Qf=Me("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const Th=Me("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const vg=Me("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const pE=Me("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const c1=Me("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const gE=Me("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const u1=Me("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const vE=Me("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const yE=Me("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const xE=Me("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const d1=Me("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const _E=Me("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const wE=Me("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const pv=Me("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const Qs=Me("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const bE=Me("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const f1=Me("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const iu=Me("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);const SE=Me("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const h1=Me("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const PE=Me("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);const NE=Me("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const yg=Me("GalleryHorizontal",[["path",{d:"M2 3v18",key:"pzttux"}],["rect",{width:"12",height:"18",x:"6",y:"3",rx:"2",key:"btr8bg"}],["path",{d:"M22 3v18",key:"6jf3v"}]]);const m1=Me("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const kh=Me("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);const Al=Me("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);const p1=Me("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);const CE=Me("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const jE=Me("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);const TE=Me("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);const St=Me("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const kE=Me("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const EE=Me("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const _i=Me("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const AE=Me("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const Eh=Me("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);const Xf=Me("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);const LE=Me("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);const gv=Me("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const vv=Me("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const Ll=Me("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const ME=Me("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const J0=Me("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);const g1=Me("SearchX",[["path",{d:"m13.5 8.5-5 5",key:"1cs55j"}],["path",{d:"m8.5 8.5 5 5",key:"a8mexj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const v1=Me("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const RE=Me("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);const y1=Me("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const OE=Me("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);const ts=Me("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);const Wl=Me("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);const Xs=Me("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);const Uu=Me("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const yv=Me("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const xg=Me("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const IE=Me("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const x1=Me("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const xv=Me("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const ma=Me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),_v="-",DE=e=>{const t=zE(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:f=>{const h=f.split(_v);return h[0]===""&&h.length!==1&&h.shift(),_1(h,t)||FE(f)},getConflictingClassGroupIds:(f,h)=>{const g=n[f]||[];return h&&s[f]?[...g,...s[f]]:g}}},_1=(e,t)=>{if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),a=s?_1(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const u=e.join(_v);return t.validators.find(({validator:f})=>f(u))?.classGroupId},e_=/^\[(.+)\]$/,FE=e=>{if(e_.test(e)){const t=e_.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},zE=e=>{const{theme:t,prefix:n}=e,s={nextPart:new Map,validators:[]};return VE(Object.entries(e.classGroups),n).forEach(([u,f])=>{_g(f,s,u,t)}),s},_g=(e,t,n,s)=>{e.forEach(a=>{if(typeof a=="string"){const u=a===""?t:t_(t,a);u.classGroupId=n;return}if(typeof a=="function"){if(BE(a)){_g(a(s),t,n,s);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([u,f])=>{_g(f,t_(t,u),n,s)})})},t_=(e,t)=>{let n=e;return t.split(_v).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},BE=e=>e.isThemeGetter,VE=(e,t)=>t?e.map(([n,s])=>{const a=s.map(u=>typeof u=="string"?t+u:typeof u=="object"?Object.fromEntries(Object.entries(u).map(([f,h])=>[t+f,h])):u);return[n,a]}):e,UE=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const a=(u,f)=>{n.set(u,f),t++,t>e&&(t=0,s=n,n=new Map)};return{get(u){let f=n.get(u);if(f!==void 0)return f;if((f=s.get(u))!==void 0)return a(u,f),f},set(u,f){n.has(u)?n.set(u,f):a(u,f)}}},w1="!",$E=e=>{const{separator:t,experimentalParseClassName:n}=e,s=t.length===1,a=t[0],u=t.length,f=h=>{const g=[];let v=0,y=0,w;for(let j=0;j<h.length;j++){let M=h[j];if(v===0){if(M===a&&(s||h.slice(j,j+u)===t)){g.push(h.slice(y,j)),y=j+u;continue}if(M==="/"){w=j;continue}}M==="["?v++:M==="]"&&v--}const N=g.length===0?h:h.substring(y),T=N.startsWith(w1),A=T?N.substring(1):N,C=w&&w>y?w-y:void 0;return{modifiers:g,hasImportantModifier:T,baseClassName:A,maybePostfixModifierPosition:C}};return n?h=>n({className:h,parseClassName:f}):f},ZE=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(s=>{s[0]==="["?(t.push(...n.sort(),s),n=[]):n.push(s)}),t.push(...n.sort()),t},WE=e=>({cache:UE(e.cacheSize),parseClassName:$E(e),...DE(e)}),HE=/\s+/,qE=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a}=t,u=[],f=e.trim().split(HE);let h="";for(let g=f.length-1;g>=0;g-=1){const v=f[g],{modifiers:y,hasImportantModifier:w,baseClassName:N,maybePostfixModifierPosition:T}=n(v);let A=!!T,C=s(A?N.substring(0,T):N);if(!C){if(!A){h=v+(h.length>0?" "+h:h);continue}if(C=s(N),!C){h=v+(h.length>0?" "+h:h);continue}A=!1}const j=ZE(y).join(":"),M=w?j+w1:j,R=M+C;if(u.includes(R))continue;u.push(R);const D=a(C,A);for(let O=0;O<D.length;++O){const V=D[O];u.push(M+V)}h=v+(h.length>0?" "+h:h)}return h};function KE(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=b1(t))&&(s&&(s+=" "),s+=n);return s}const b1=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=b1(e[s]))&&(n&&(n+=" "),n+=t);return n};function GE(e,...t){let n,s,a,u=f;function f(g){const v=t.reduce((y,w)=>w(y),e());return n=WE(v),s=n.cache.get,a=n.cache.set,u=h,h(g)}function h(g){const v=s(g);if(v)return v;const y=qE(g,n);return a(g,y),y}return function(){return u(KE.apply(null,arguments))}}const Ct=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},S1=/^\[(?:([a-z-]+):)?(.+)\]$/i,QE=/^\d+\/\d+$/,XE=new Set(["px","full","screen"]),YE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,JE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,e2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,t2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,n2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qi=e=>wl(e)||XE.has(e)||QE.test(e),Hs=e=>Hl(e,"length",u2),wl=e=>!!e&&!Number.isNaN(Number(e)),Rp=e=>Hl(e,"number",wl),tu=e=>!!e&&Number.isInteger(Number(e)),r2=e=>e.endsWith("%")&&wl(e.slice(0,-1)),et=e=>S1.test(e),qs=e=>YE.test(e),i2=new Set(["length","size","percentage"]),s2=e=>Hl(e,i2,P1),o2=e=>Hl(e,"position",P1),a2=new Set(["image","url"]),l2=e=>Hl(e,a2,f2),c2=e=>Hl(e,"",d2),nu=()=>!0,Hl=(e,t,n)=>{const s=S1.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):n(s[2]):!1},u2=e=>JE.test(e)&&!e2.test(e),P1=()=>!1,d2=e=>t2.test(e),f2=e=>n2.test(e),h2=()=>{const e=Ct("colors"),t=Ct("spacing"),n=Ct("blur"),s=Ct("brightness"),a=Ct("borderColor"),u=Ct("borderRadius"),f=Ct("borderSpacing"),h=Ct("borderWidth"),g=Ct("contrast"),v=Ct("grayscale"),y=Ct("hueRotate"),w=Ct("invert"),N=Ct("gap"),T=Ct("gradientColorStops"),A=Ct("gradientColorStopPositions"),C=Ct("inset"),j=Ct("margin"),M=Ct("opacity"),R=Ct("padding"),D=Ct("saturate"),O=Ct("scale"),V=Ct("sepia"),Z=Ct("skew"),q=Ct("space"),J=Ct("translate"),he=()=>["auto","contain","none"],me=()=>["auto","hidden","clip","visible","scroll"],_e=()=>["auto",et,t],le=()=>[et,t],Re=()=>["",Qi,Hs],te=()=>["auto",wl,et],ge=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],de=()=>["solid","dashed","dotted","double","none"],ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>["start","end","center","between","around","evenly","stretch"],oe=()=>["","0",et],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[wl,et];return{cacheSize:500,separator:":",theme:{colors:[nu],spacing:[Qi,Hs],blur:["none","",qs,et],brightness:z(),borderColor:[e],borderRadius:["none","","full",qs,et],borderSpacing:le(),borderWidth:Re(),contrast:z(),grayscale:oe(),hueRotate:z(),invert:oe(),gap:le(),gradientColorStops:[e],gradientColorStopPositions:[r2,Hs],inset:_e(),margin:_e(),opacity:z(),padding:le(),saturate:z(),scale:z(),sepia:oe(),skew:z(),space:le(),translate:le()},classGroups:{aspect:[{aspect:["auto","square","video",et]}],container:["container"],columns:[{columns:[qs]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ge(),et]}],overflow:[{overflow:me()}],"overflow-x":[{"overflow-x":me()}],"overflow-y":[{"overflow-y":me()}],overscroll:[{overscroll:he()}],"overscroll-x":[{"overscroll-x":he()}],"overscroll-y":[{"overscroll-y":he()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[C]}],"inset-x":[{"inset-x":[C]}],"inset-y":[{"inset-y":[C]}],start:[{start:[C]}],end:[{end:[C]}],top:[{top:[C]}],right:[{right:[C]}],bottom:[{bottom:[C]}],left:[{left:[C]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",tu,et]}],basis:[{basis:_e()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",et]}],grow:[{grow:oe()}],shrink:[{shrink:oe()}],order:[{order:["first","last","none",tu,et]}],"grid-cols":[{"grid-cols":[nu]}],"col-start-end":[{col:["auto",{span:["full",tu,et]},et]}],"col-start":[{"col-start":te()}],"col-end":[{"col-end":te()}],"grid-rows":[{"grid-rows":[nu]}],"row-start-end":[{row:["auto",{span:[tu,et]},et]}],"row-start":[{"row-start":te()}],"row-end":[{"row-end":te()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",et]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",et]}],gap:[{gap:[N]}],"gap-x":[{"gap-x":[N]}],"gap-y":[{"gap-y":[N]}],"justify-content":[{justify:["normal",...$()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...$(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...$(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[R]}],px:[{px:[R]}],py:[{py:[R]}],ps:[{ps:[R]}],pe:[{pe:[R]}],pt:[{pt:[R]}],pr:[{pr:[R]}],pb:[{pb:[R]}],pl:[{pl:[R]}],m:[{m:[j]}],mx:[{mx:[j]}],my:[{my:[j]}],ms:[{ms:[j]}],me:[{me:[j]}],mt:[{mt:[j]}],mr:[{mr:[j]}],mb:[{mb:[j]}],ml:[{ml:[j]}],"space-x":[{"space-x":[q]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[q]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",et,t]}],"min-w":[{"min-w":[et,t,"min","max","fit"]}],"max-w":[{"max-w":[et,t,"none","full","min","max","fit","prose",{screen:[qs]},qs]}],h:[{h:[et,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[et,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[et,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[et,t,"auto","min","max","fit"]}],"font-size":[{text:["base",qs,Hs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Rp]}],"font-family":[{font:[nu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",et]}],"line-clamp":[{"line-clamp":["none",wl,Rp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Qi,et]}],"list-image":[{"list-image":["none",et]}],"list-style-type":[{list:["none","disc","decimal",et]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[M]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[M]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...de(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Qi,Hs]}],"underline-offset":[{"underline-offset":["auto",Qi,et]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:le()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",et]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",et]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[M]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ge(),o2]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",s2]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},l2]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[A]}],"gradient-via-pos":[{via:[A]}],"gradient-to-pos":[{to:[A]}],"gradient-from":[{from:[T]}],"gradient-via":[{via:[T]}],"gradient-to":[{to:[T]}],rounded:[{rounded:[u]}],"rounded-s":[{"rounded-s":[u]}],"rounded-e":[{"rounded-e":[u]}],"rounded-t":[{"rounded-t":[u]}],"rounded-r":[{"rounded-r":[u]}],"rounded-b":[{"rounded-b":[u]}],"rounded-l":[{"rounded-l":[u]}],"rounded-ss":[{"rounded-ss":[u]}],"rounded-se":[{"rounded-se":[u]}],"rounded-ee":[{"rounded-ee":[u]}],"rounded-es":[{"rounded-es":[u]}],"rounded-tl":[{"rounded-tl":[u]}],"rounded-tr":[{"rounded-tr":[u]}],"rounded-br":[{"rounded-br":[u]}],"rounded-bl":[{"rounded-bl":[u]}],"border-w":[{border:[h]}],"border-w-x":[{"border-x":[h]}],"border-w-y":[{"border-y":[h]}],"border-w-s":[{"border-s":[h]}],"border-w-e":[{"border-e":[h]}],"border-w-t":[{"border-t":[h]}],"border-w-r":[{"border-r":[h]}],"border-w-b":[{"border-b":[h]}],"border-w-l":[{"border-l":[h]}],"border-opacity":[{"border-opacity":[M]}],"border-style":[{border:[...de(),"hidden"]}],"divide-x":[{"divide-x":[h]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[h]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[M]}],"divide-style":[{divide:de()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...de()]}],"outline-offset":[{"outline-offset":[Qi,et]}],"outline-w":[{outline:[Qi,Hs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[M]}],"ring-offset-w":[{"ring-offset":[Qi,Hs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",qs,c2]}],"shadow-color":[{shadow:[nu]}],opacity:[{opacity:[M]}],"mix-blend":[{"mix-blend":[...ce(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ce()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[g]}],"drop-shadow":[{"drop-shadow":["","none",qs,et]}],grayscale:[{grayscale:[v]}],"hue-rotate":[{"hue-rotate":[y]}],invert:[{invert:[w]}],saturate:[{saturate:[D]}],sepia:[{sepia:[V]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[g]}],"backdrop-grayscale":[{"backdrop-grayscale":[v]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[y]}],"backdrop-invert":[{"backdrop-invert":[w]}],"backdrop-opacity":[{"backdrop-opacity":[M]}],"backdrop-saturate":[{"backdrop-saturate":[D]}],"backdrop-sepia":[{"backdrop-sepia":[V]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[f]}],"border-spacing-x":[{"border-spacing-x":[f]}],"border-spacing-y":[{"border-spacing-y":[f]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",et]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",et]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",et]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[O]}],"scale-x":[{"scale-x":[O]}],"scale-y":[{"scale-y":[O]}],rotate:[{rotate:[tu,et]}],"translate-x":[{"translate-x":[J]}],"translate-y":[{"translate-y":[J]}],"skew-x":[{"skew-x":[Z]}],"skew-y":[{"skew-y":[Z]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",et]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",et]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":le()}],"scroll-mx":[{"scroll-mx":le()}],"scroll-my":[{"scroll-my":le()}],"scroll-ms":[{"scroll-ms":le()}],"scroll-me":[{"scroll-me":le()}],"scroll-mt":[{"scroll-mt":le()}],"scroll-mr":[{"scroll-mr":le()}],"scroll-mb":[{"scroll-mb":le()}],"scroll-ml":[{"scroll-ml":le()}],"scroll-p":[{"scroll-p":le()}],"scroll-px":[{"scroll-px":le()}],"scroll-py":[{"scroll-py":le()}],"scroll-ps":[{"scroll-ps":le()}],"scroll-pe":[{"scroll-pe":le()}],"scroll-pt":[{"scroll-pt":le()}],"scroll-pr":[{"scroll-pr":le()}],"scroll-pb":[{"scroll-pb":le()}],"scroll-pl":[{"scroll-pl":le()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",et]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Qi,Hs,Rp]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},m2=GE(h2);function rt(...e){return m2(a1(e))}const p2=dE,N1=S.forwardRef(({className:e,...t},n)=>l.jsx(e1,{ref:n,className:rt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));N1.displayName=e1.displayName;const g2=mv("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),C1=S.forwardRef(({className:e,variant:t,...n},s)=>l.jsx(t1,{ref:s,className:rt(g2({variant:t}),e),...n}));C1.displayName=t1.displayName;const v2=S.forwardRef(({className:e,...t},n)=>l.jsx(i1,{ref:n,className:rt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));v2.displayName=i1.displayName;const j1=S.forwardRef(({className:e,...t},n)=>l.jsx(s1,{ref:n,className:rt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:l.jsx(ma,{className:"h-4 w-4"})}));j1.displayName=s1.displayName;const T1=S.forwardRef(({className:e,...t},n)=>l.jsx(n1,{ref:n,className:rt("text-sm font-semibold",e),...t}));T1.displayName=n1.displayName;const k1=S.forwardRef(({className:e,...t},n)=>l.jsx(r1,{ref:n,className:rt("text-sm opacity-90",e),...t}));k1.displayName=r1.displayName;function y2(){const{toasts:e}=Rn();return l.jsxs(p2,{children:[e.map(function({id:t,title:n,description:s,action:a,...u}){return l.jsxs(C1,{...u,children:[l.jsxs("div",{className:"grid gap-1",children:[n&&l.jsx(T1,{children:n}),s&&l.jsx(k1,{children:s})]}),a,l.jsx(j1,{})]},t)}),l.jsx(N1,{})]})}var x2=fb[" useId ".trim().toString()]||(()=>{}),_2=0;function bl(e){const[t,n]=S.useState(x2());return Nn(()=>{n(s=>s??String(_2++))},[e]),t?`radix-${t}`:""}const w2=["top","right","bottom","left"],Ys=Math.min,rr=Math.max,Yf=Math.round,Nf=Math.floor,gi=e=>({x:e,y:e}),b2={left:"right",right:"left",bottom:"top",top:"bottom"},S2={start:"end",end:"start"};function wg(e,t,n){return rr(e,Ys(t,n))}function ns(e,t){return typeof e=="function"?e(t):e}function rs(e){return e.split("-")[0]}function ql(e){return e.split("-")[1]}function wv(e){return e==="x"?"y":"x"}function bv(e){return e==="y"?"height":"width"}function Js(e){return["top","bottom"].includes(rs(e))?"y":"x"}function Sv(e){return wv(Js(e))}function P2(e,t,n){n===void 0&&(n=!1);const s=ql(e),a=Sv(e),u=bv(a);let f=a==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[u]>t.floating[u]&&(f=Jf(f)),[f,Jf(f)]}function N2(e){const t=Jf(e);return[bg(e),t,bg(t)]}function bg(e){return e.replace(/start|end/g,t=>S2[t])}function C2(e,t,n){const s=["left","right"],a=["right","left"],u=["top","bottom"],f=["bottom","top"];switch(e){case"top":case"bottom":return n?t?a:s:t?s:a;case"left":case"right":return t?u:f;default:return[]}}function j2(e,t,n,s){const a=ql(e);let u=C2(rs(e),n==="start",s);return a&&(u=u.map(f=>f+"-"+a),t&&(u=u.concat(u.map(bg)))),u}function Jf(e){return e.replace(/left|right|bottom|top/g,t=>b2[t])}function T2(e){return{top:0,right:0,bottom:0,left:0,...e}}function E1(e){return typeof e!="number"?T2(e):{top:e,right:e,bottom:e,left:e}}function eh(e){const{x:t,y:n,width:s,height:a}=e;return{width:s,height:a,top:n,left:t,right:t+s,bottom:n+a,x:t,y:n}}function n_(e,t,n){let{reference:s,floating:a}=e;const u=Js(t),f=Sv(t),h=bv(f),g=rs(t),v=u==="y",y=s.x+s.width/2-a.width/2,w=s.y+s.height/2-a.height/2,N=s[h]/2-a[h]/2;let T;switch(g){case"top":T={x:y,y:s.y-a.height};break;case"bottom":T={x:y,y:s.y+s.height};break;case"right":T={x:s.x+s.width,y:w};break;case"left":T={x:s.x-a.width,y:w};break;default:T={x:s.x,y:s.y}}switch(ql(t)){case"start":T[f]-=N*(n&&v?-1:1);break;case"end":T[f]+=N*(n&&v?-1:1);break}return T}const k2=async(e,t,n)=>{const{placement:s="bottom",strategy:a="absolute",middleware:u=[],platform:f}=n,h=u.filter(Boolean),g=await(f.isRTL==null?void 0:f.isRTL(t));let v=await f.getElementRects({reference:e,floating:t,strategy:a}),{x:y,y:w}=n_(v,s,g),N=s,T={},A=0;for(let C=0;C<h.length;C++){const{name:j,fn:M}=h[C],{x:R,y:D,data:O,reset:V}=await M({x:y,y:w,initialPlacement:s,placement:N,strategy:a,middlewareData:T,rects:v,platform:f,elements:{reference:e,floating:t}});y=R??y,w=D??w,T={...T,[j]:{...T[j],...O}},V&&A<=50&&(A++,typeof V=="object"&&(V.placement&&(N=V.placement),V.rects&&(v=V.rects===!0?await f.getElementRects({reference:e,floating:t,strategy:a}):V.rects),{x:y,y:w}=n_(v,N,g)),C=-1)}return{x:y,y:w,placement:N,strategy:a,middlewareData:T}};async function yu(e,t){var n;t===void 0&&(t={});const{x:s,y:a,platform:u,rects:f,elements:h,strategy:g}=e,{boundary:v="clippingAncestors",rootBoundary:y="viewport",elementContext:w="floating",altBoundary:N=!1,padding:T=0}=ns(t,e),A=E1(T),j=h[N?w==="floating"?"reference":"floating":w],M=eh(await u.getClippingRect({element:(n=await(u.isElement==null?void 0:u.isElement(j)))==null||n?j:j.contextElement||await(u.getDocumentElement==null?void 0:u.getDocumentElement(h.floating)),boundary:v,rootBoundary:y,strategy:g})),R=w==="floating"?{x:s,y:a,width:f.floating.width,height:f.floating.height}:f.reference,D=await(u.getOffsetParent==null?void 0:u.getOffsetParent(h.floating)),O=await(u.isElement==null?void 0:u.isElement(D))?await(u.getScale==null?void 0:u.getScale(D))||{x:1,y:1}:{x:1,y:1},V=eh(u.convertOffsetParentRelativeRectToViewportRelativeRect?await u.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:R,offsetParent:D,strategy:g}):R);return{top:(M.top-V.top+A.top)/O.y,bottom:(V.bottom-M.bottom+A.bottom)/O.y,left:(M.left-V.left+A.left)/O.x,right:(V.right-M.right+A.right)/O.x}}const E2=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:a,rects:u,platform:f,elements:h,middlewareData:g}=t,{element:v,padding:y=0}=ns(e,t)||{};if(v==null)return{};const w=E1(y),N={x:n,y:s},T=Sv(a),A=bv(T),C=await f.getDimensions(v),j=T==="y",M=j?"top":"left",R=j?"bottom":"right",D=j?"clientHeight":"clientWidth",O=u.reference[A]+u.reference[T]-N[T]-u.floating[A],V=N[T]-u.reference[T],Z=await(f.getOffsetParent==null?void 0:f.getOffsetParent(v));let q=Z?Z[D]:0;(!q||!await(f.isElement==null?void 0:f.isElement(Z)))&&(q=h.floating[D]||u.floating[A]);const J=O/2-V/2,he=q/2-C[A]/2-1,me=Ys(w[M],he),_e=Ys(w[R],he),le=me,Re=q-C[A]-_e,te=q/2-C[A]/2+J,ge=wg(le,te,Re),de=!g.arrow&&ql(a)!=null&&te!==ge&&u.reference[A]/2-(te<le?me:_e)-C[A]/2<0,ce=de?te<le?te-le:te-Re:0;return{[T]:N[T]+ce,data:{[T]:ge,centerOffset:te-ge-ce,...de&&{alignmentOffset:ce}},reset:de}}}),A2=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:a,middlewareData:u,rects:f,initialPlacement:h,platform:g,elements:v}=t,{mainAxis:y=!0,crossAxis:w=!0,fallbackPlacements:N,fallbackStrategy:T="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:C=!0,...j}=ns(e,t);if((n=u.arrow)!=null&&n.alignmentOffset)return{};const M=rs(a),R=Js(h),D=rs(h)===h,O=await(g.isRTL==null?void 0:g.isRTL(v.floating)),V=N||(D||!C?[Jf(h)]:N2(h)),Z=A!=="none";!N&&Z&&V.push(...j2(h,C,A,O));const q=[h,...V],J=await yu(t,j),he=[];let me=((s=u.flip)==null?void 0:s.overflows)||[];if(y&&he.push(J[M]),w){const te=P2(a,f,O);he.push(J[te[0]],J[te[1]])}if(me=[...me,{placement:a,overflows:he}],!he.every(te=>te<=0)){var _e,le;const te=(((_e=u.flip)==null?void 0:_e.index)||0)+1,ge=q[te];if(ge)return{data:{index:te,overflows:me},reset:{placement:ge}};let de=(le=me.filter(ce=>ce.overflows[0]<=0).sort((ce,$)=>ce.overflows[1]-$.overflows[1])[0])==null?void 0:le.placement;if(!de)switch(T){case"bestFit":{var Re;const ce=(Re=me.filter($=>{if(Z){const oe=Js($.placement);return oe===R||oe==="y"}return!0}).map($=>[$.placement,$.overflows.filter(oe=>oe>0).reduce((oe,X)=>oe+X,0)]).sort(($,oe)=>$[1]-oe[1])[0])==null?void 0:Re[0];ce&&(de=ce);break}case"initialPlacement":de=h;break}if(a!==de)return{reset:{placement:de}}}return{}}}};function r_(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function i_(e){return w2.some(t=>e[t]>=0)}const L2=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...a}=ns(e,t);switch(s){case"referenceHidden":{const u=await yu(t,{...a,elementContext:"reference"}),f=r_(u,n.reference);return{data:{referenceHiddenOffsets:f,referenceHidden:i_(f)}}}case"escaped":{const u=await yu(t,{...a,altBoundary:!0}),f=r_(u,n.floating);return{data:{escapedOffsets:f,escaped:i_(f)}}}default:return{}}}}};async function M2(e,t){const{placement:n,platform:s,elements:a}=e,u=await(s.isRTL==null?void 0:s.isRTL(a.floating)),f=rs(n),h=ql(n),g=Js(n)==="y",v=["left","top"].includes(f)?-1:1,y=u&&g?-1:1,w=ns(t,e);let{mainAxis:N,crossAxis:T,alignmentAxis:A}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:w.mainAxis||0,crossAxis:w.crossAxis||0,alignmentAxis:w.alignmentAxis};return h&&typeof A=="number"&&(T=h==="end"?A*-1:A),g?{x:T*y,y:N*v}:{x:N*v,y:T*y}}const R2=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:a,y:u,placement:f,middlewareData:h}=t,g=await M2(t,e);return f===((n=h.offset)==null?void 0:n.placement)&&(s=h.arrow)!=null&&s.alignmentOffset?{}:{x:a+g.x,y:u+g.y,data:{...g,placement:f}}}}},O2=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:a}=t,{mainAxis:u=!0,crossAxis:f=!1,limiter:h={fn:j=>{let{x:M,y:R}=j;return{x:M,y:R}}},...g}=ns(e,t),v={x:n,y:s},y=await yu(t,g),w=Js(rs(a)),N=wv(w);let T=v[N],A=v[w];if(u){const j=N==="y"?"top":"left",M=N==="y"?"bottom":"right",R=T+y[j],D=T-y[M];T=wg(R,T,D)}if(f){const j=w==="y"?"top":"left",M=w==="y"?"bottom":"right",R=A+y[j],D=A-y[M];A=wg(R,A,D)}const C=h.fn({...t,[N]:T,[w]:A});return{...C,data:{x:C.x-n,y:C.y-s,enabled:{[N]:u,[w]:f}}}}}},I2=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:a,rects:u,middlewareData:f}=t,{offset:h=0,mainAxis:g=!0,crossAxis:v=!0}=ns(e,t),y={x:n,y:s},w=Js(a),N=wv(w);let T=y[N],A=y[w];const C=ns(h,t),j=typeof C=="number"?{mainAxis:C,crossAxis:0}:{mainAxis:0,crossAxis:0,...C};if(g){const D=N==="y"?"height":"width",O=u.reference[N]-u.floating[D]+j.mainAxis,V=u.reference[N]+u.reference[D]-j.mainAxis;T<O?T=O:T>V&&(T=V)}if(v){var M,R;const D=N==="y"?"width":"height",O=["top","left"].includes(rs(a)),V=u.reference[w]-u.floating[D]+(O&&((M=f.offset)==null?void 0:M[w])||0)+(O?0:j.crossAxis),Z=u.reference[w]+u.reference[D]+(O?0:((R=f.offset)==null?void 0:R[w])||0)-(O?j.crossAxis:0);A<V?A=V:A>Z&&(A=Z)}return{[N]:T,[w]:A}}}},D2=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:a,rects:u,platform:f,elements:h}=t,{apply:g=()=>{},...v}=ns(e,t),y=await yu(t,v),w=rs(a),N=ql(a),T=Js(a)==="y",{width:A,height:C}=u.floating;let j,M;w==="top"||w==="bottom"?(j=w,M=N===(await(f.isRTL==null?void 0:f.isRTL(h.floating))?"start":"end")?"left":"right"):(M=w,j=N==="end"?"top":"bottom");const R=C-y.top-y.bottom,D=A-y.left-y.right,O=Ys(C-y[j],R),V=Ys(A-y[M],D),Z=!t.middlewareData.shift;let q=O,J=V;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(J=D),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(q=R),Z&&!N){const me=rr(y.left,0),_e=rr(y.right,0),le=rr(y.top,0),Re=rr(y.bottom,0);T?J=A-2*(me!==0||_e!==0?me+_e:rr(y.left,y.right)):q=C-2*(le!==0||Re!==0?le+Re:rr(y.top,y.bottom))}await g({...t,availableWidth:J,availableHeight:q});const he=await f.getDimensions(h.floating);return A!==he.width||C!==he.height?{reset:{rects:!0}}:{}}}};function Ah(){return typeof window<"u"}function Kl(e){return A1(e)?(e.nodeName||"").toLowerCase():"#document"}function or(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Pi(e){var t;return(t=(A1(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function A1(e){return Ah()?e instanceof Node||e instanceof or(e).Node:!1}function qr(e){return Ah()?e instanceof Element||e instanceof or(e).Element:!1}function wi(e){return Ah()?e instanceof HTMLElement||e instanceof or(e).HTMLElement:!1}function s_(e){return!Ah()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof or(e).ShadowRoot}function $u(e){const{overflow:t,overflowX:n,overflowY:s,display:a}=Kr(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!["inline","contents"].includes(a)}function F2(e){return["table","td","th"].includes(Kl(e))}function Lh(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Pv(e){const t=Nv(),n=qr(e)?Kr(e):e;return["transform","translate","scale","rotate","perspective"].some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(s=>(n.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(n.contain||"").includes(s))}function z2(e){let t=eo(e);for(;wi(t)&&!Ml(t);){if(Pv(t))return t;if(Lh(t))return null;t=eo(t)}return null}function Nv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ml(e){return["html","body","#document"].includes(Kl(e))}function Kr(e){return or(e).getComputedStyle(e)}function Mh(e){return qr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function eo(e){if(Kl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||s_(e)&&e.host||Pi(e);return s_(t)?t.host:t}function L1(e){const t=eo(e);return Ml(t)?e.ownerDocument?e.ownerDocument.body:e.body:wi(t)&&$u(t)?t:L1(t)}function xu(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=L1(e),u=a===((s=e.ownerDocument)==null?void 0:s.body),f=or(a);if(u){const h=Sg(f);return t.concat(f,f.visualViewport||[],$u(a)?a:[],h&&n?xu(h):[])}return t.concat(a,xu(a,[],n))}function Sg(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function M1(e){const t=Kr(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=wi(e),u=a?e.offsetWidth:n,f=a?e.offsetHeight:s,h=Yf(n)!==u||Yf(s)!==f;return h&&(n=u,s=f),{width:n,height:s,$:h}}function Cv(e){return qr(e)?e:e.contextElement}function Sl(e){const t=Cv(e);if(!wi(t))return gi(1);const n=t.getBoundingClientRect(),{width:s,height:a,$:u}=M1(t);let f=(u?Yf(n.width):n.width)/s,h=(u?Yf(n.height):n.height)/a;return(!f||!Number.isFinite(f))&&(f=1),(!h||!Number.isFinite(h))&&(h=1),{x:f,y:h}}const B2=gi(0);function R1(e){const t=or(e);return!Nv()||!t.visualViewport?B2:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function V2(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==or(e)?!1:t}function sa(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),u=Cv(e);let f=gi(1);t&&(s?qr(s)&&(f=Sl(s)):f=Sl(e));const h=V2(u,n,s)?R1(u):gi(0);let g=(a.left+h.x)/f.x,v=(a.top+h.y)/f.y,y=a.width/f.x,w=a.height/f.y;if(u){const N=or(u),T=s&&qr(s)?or(s):s;let A=N,C=Sg(A);for(;C&&s&&T!==A;){const j=Sl(C),M=C.getBoundingClientRect(),R=Kr(C),D=M.left+(C.clientLeft+parseFloat(R.paddingLeft))*j.x,O=M.top+(C.clientTop+parseFloat(R.paddingTop))*j.y;g*=j.x,v*=j.y,y*=j.x,w*=j.y,g+=D,v+=O,A=or(C),C=Sg(A)}}return eh({width:y,height:w,x:g,y:v})}function jv(e,t){const n=Mh(e).scrollLeft;return t?t.left+n:sa(Pi(e)).left+n}function O1(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=s.left+t.scrollLeft-(n?0:jv(e,s)),u=s.top+t.scrollTop;return{x:a,y:u}}function U2(e){let{elements:t,rect:n,offsetParent:s,strategy:a}=e;const u=a==="fixed",f=Pi(s),h=t?Lh(t.floating):!1;if(s===f||h&&u)return n;let g={scrollLeft:0,scrollTop:0},v=gi(1);const y=gi(0),w=wi(s);if((w||!w&&!u)&&((Kl(s)!=="body"||$u(f))&&(g=Mh(s)),wi(s))){const T=sa(s);v=Sl(s),y.x=T.x+s.clientLeft,y.y=T.y+s.clientTop}const N=f&&!w&&!u?O1(f,g,!0):gi(0);return{width:n.width*v.x,height:n.height*v.y,x:n.x*v.x-g.scrollLeft*v.x+y.x+N.x,y:n.y*v.y-g.scrollTop*v.y+y.y+N.y}}function $2(e){return Array.from(e.getClientRects())}function Z2(e){const t=Pi(e),n=Mh(e),s=e.ownerDocument.body,a=rr(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),u=rr(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let f=-n.scrollLeft+jv(e);const h=-n.scrollTop;return Kr(s).direction==="rtl"&&(f+=rr(t.clientWidth,s.clientWidth)-a),{width:a,height:u,x:f,y:h}}function W2(e,t){const n=or(e),s=Pi(e),a=n.visualViewport;let u=s.clientWidth,f=s.clientHeight,h=0,g=0;if(a){u=a.width,f=a.height;const v=Nv();(!v||v&&t==="fixed")&&(h=a.offsetLeft,g=a.offsetTop)}return{width:u,height:f,x:h,y:g}}function H2(e,t){const n=sa(e,!0,t==="fixed"),s=n.top+e.clientTop,a=n.left+e.clientLeft,u=wi(e)?Sl(e):gi(1),f=e.clientWidth*u.x,h=e.clientHeight*u.y,g=a*u.x,v=s*u.y;return{width:f,height:h,x:g,y:v}}function o_(e,t,n){let s;if(t==="viewport")s=W2(e,n);else if(t==="document")s=Z2(Pi(e));else if(qr(t))s=H2(t,n);else{const a=R1(e);s={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return eh(s)}function I1(e,t){const n=eo(e);return n===t||!qr(n)||Ml(n)?!1:Kr(n).position==="fixed"||I1(n,t)}function q2(e,t){const n=t.get(e);if(n)return n;let s=xu(e,[],!1).filter(h=>qr(h)&&Kl(h)!=="body"),a=null;const u=Kr(e).position==="fixed";let f=u?eo(e):e;for(;qr(f)&&!Ml(f);){const h=Kr(f),g=Pv(f);!g&&h.position==="fixed"&&(a=null),(u?!g&&!a:!g&&h.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||$u(f)&&!g&&I1(e,f))?s=s.filter(y=>y!==f):a=h,f=eo(f)}return t.set(e,s),s}function K2(e){let{element:t,boundary:n,rootBoundary:s,strategy:a}=e;const f=[...n==="clippingAncestors"?Lh(t)?[]:q2(t,this._c):[].concat(n),s],h=f[0],g=f.reduce((v,y)=>{const w=o_(t,y,a);return v.top=rr(w.top,v.top),v.right=Ys(w.right,v.right),v.bottom=Ys(w.bottom,v.bottom),v.left=rr(w.left,v.left),v},o_(t,h,a));return{width:g.right-g.left,height:g.bottom-g.top,x:g.left,y:g.top}}function G2(e){const{width:t,height:n}=M1(e);return{width:t,height:n}}function Q2(e,t,n){const s=wi(t),a=Pi(t),u=n==="fixed",f=sa(e,!0,u,t);let h={scrollLeft:0,scrollTop:0};const g=gi(0);if(s||!s&&!u)if((Kl(t)!=="body"||$u(a))&&(h=Mh(t)),s){const N=sa(t,!0,u,t);g.x=N.x+t.clientLeft,g.y=N.y+t.clientTop}else a&&(g.x=jv(a));const v=a&&!s&&!u?O1(a,h):gi(0),y=f.left+h.scrollLeft-g.x-v.x,w=f.top+h.scrollTop-g.y-v.y;return{x:y,y:w,width:f.width,height:f.height}}function Op(e){return Kr(e).position==="static"}function a_(e,t){if(!wi(e)||Kr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Pi(e)===n&&(n=n.ownerDocument.body),n}function D1(e,t){const n=or(e);if(Lh(e))return n;if(!wi(e)){let a=eo(e);for(;a&&!Ml(a);){if(qr(a)&&!Op(a))return a;a=eo(a)}return n}let s=a_(e,t);for(;s&&F2(s)&&Op(s);)s=a_(s,t);return s&&Ml(s)&&Op(s)&&!Pv(s)?n:s||z2(e)||n}const X2=async function(e){const t=this.getOffsetParent||D1,n=this.getDimensions,s=await n(e.floating);return{reference:Q2(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function Y2(e){return Kr(e).direction==="rtl"}const J2={convertOffsetParentRelativeRectToViewportRelativeRect:U2,getDocumentElement:Pi,getClippingRect:K2,getOffsetParent:D1,getElementRects:X2,getClientRects:$2,getDimensions:G2,getScale:Sl,isElement:qr,isRTL:Y2};function F1(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function eA(e,t){let n=null,s;const a=Pi(e);function u(){var h;clearTimeout(s),(h=n)==null||h.disconnect(),n=null}function f(h,g){h===void 0&&(h=!1),g===void 0&&(g=1),u();const v=e.getBoundingClientRect(),{left:y,top:w,width:N,height:T}=v;if(h||t(),!N||!T)return;const A=Nf(w),C=Nf(a.clientWidth-(y+N)),j=Nf(a.clientHeight-(w+T)),M=Nf(y),D={rootMargin:-A+"px "+-C+"px "+-j+"px "+-M+"px",threshold:rr(0,Ys(1,g))||1};let O=!0;function V(Z){const q=Z[0].intersectionRatio;if(q!==g){if(!O)return f();q?f(!1,q):s=setTimeout(()=>{f(!1,1e-7)},1e3)}q===1&&!F1(v,e.getBoundingClientRect())&&f(),O=!1}try{n=new IntersectionObserver(V,{...D,root:a.ownerDocument})}catch{n=new IntersectionObserver(V,D)}n.observe(e)}return f(!0),u}function tA(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:u=!0,elementResize:f=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:g=!1}=s,v=Cv(e),y=a||u?[...v?xu(v):[],...xu(t)]:[];y.forEach(M=>{a&&M.addEventListener("scroll",n,{passive:!0}),u&&M.addEventListener("resize",n)});const w=v&&h?eA(v,n):null;let N=-1,T=null;f&&(T=new ResizeObserver(M=>{let[R]=M;R&&R.target===v&&T&&(T.unobserve(t),cancelAnimationFrame(N),N=requestAnimationFrame(()=>{var D;(D=T)==null||D.observe(t)})),n()}),v&&!g&&T.observe(v),T.observe(t));let A,C=g?sa(e):null;g&&j();function j(){const M=sa(e);C&&!F1(C,M)&&n(),C=M,A=requestAnimationFrame(j)}return n(),()=>{var M;y.forEach(R=>{a&&R.removeEventListener("scroll",n),u&&R.removeEventListener("resize",n)}),w?.(),(M=T)==null||M.disconnect(),T=null,g&&cancelAnimationFrame(A)}}const nA=R2,rA=O2,iA=A2,sA=D2,oA=L2,l_=E2,aA=I2,lA=(e,t,n)=>{const s=new Map,a={platform:J2,...n},u={...a.platform,_c:s};return k2(e,t,{...a,platform:u})};var Ff=typeof document<"u"?S.useLayoutEffect:S.useEffect;function th(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!th(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=n;s--!==0;){const u=a[s];if(!(u==="_owner"&&e.$$typeof)&&!th(e[u],t[u]))return!1}return!0}return e!==e&&t!==t}function z1(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function c_(e,t){const n=z1(e);return Math.round(t*n)/n}function Ip(e){const t=S.useRef(e);return Ff(()=>{t.current=e}),t}function cA(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:a,elements:{reference:u,floating:f}={},transform:h=!0,whileElementsMounted:g,open:v}=e,[y,w]=S.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[N,T]=S.useState(s);th(N,s)||T(s);const[A,C]=S.useState(null),[j,M]=S.useState(null),R=S.useCallback($=>{$!==Z.current&&(Z.current=$,C($))},[]),D=S.useCallback($=>{$!==q.current&&(q.current=$,M($))},[]),O=u||A,V=f||j,Z=S.useRef(null),q=S.useRef(null),J=S.useRef(y),he=g!=null,me=Ip(g),_e=Ip(a),le=Ip(v),Re=S.useCallback(()=>{if(!Z.current||!q.current)return;const $={placement:t,strategy:n,middleware:N};_e.current&&($.platform=_e.current),lA(Z.current,q.current,$).then(oe=>{const X={...oe,isPositioned:le.current!==!1};te.current&&!th(J.current,X)&&(J.current=X,ha.flushSync(()=>{w(X)}))})},[N,t,n,_e,le]);Ff(()=>{v===!1&&J.current.isPositioned&&(J.current.isPositioned=!1,w($=>({...$,isPositioned:!1})))},[v]);const te=S.useRef(!1);Ff(()=>(te.current=!0,()=>{te.current=!1}),[]),Ff(()=>{if(O&&(Z.current=O),V&&(q.current=V),O&&V){if(me.current)return me.current(O,V,Re);Re()}},[O,V,Re,me,he]);const ge=S.useMemo(()=>({reference:Z,floating:q,setReference:R,setFloating:D}),[R,D]),de=S.useMemo(()=>({reference:O,floating:V}),[O,V]),ce=S.useMemo(()=>{const $={position:n,left:0,top:0};if(!de.floating)return $;const oe=c_(de.floating,y.x),X=c_(de.floating,y.y);return h?{...$,transform:"translate("+oe+"px, "+X+"px)",...z1(de.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:oe,top:X}},[n,h,de.floating,y.x,y.y]);return S.useMemo(()=>({...y,update:Re,refs:ge,elements:de,floatingStyles:ce}),[y,Re,ge,de,ce])}const uA=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:a}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?l_({element:s.current,padding:a}).fn(n):{}:s?l_({element:s,padding:a}).fn(n):{}}}},dA=(e,t)=>({...nA(e),options:[e,t]}),fA=(e,t)=>({...rA(e),options:[e,t]}),hA=(e,t)=>({...aA(e),options:[e,t]}),mA=(e,t)=>({...iA(e),options:[e,t]}),pA=(e,t)=>({...sA(e),options:[e,t]}),gA=(e,t)=>({...oA(e),options:[e,t]}),vA=(e,t)=>({...uA(e),options:[e,t]});var yA="Arrow",B1=S.forwardRef((e,t)=>{const{children:n,width:s=10,height:a=5,...u}=e;return l.jsx(dt.svg,{...u,ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});B1.displayName=yA;var xA=B1;function _A(e){const[t,n]=S.useState(void 0);return Nn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const u=a[0];let f,h;if("borderBoxSize"in u){const g=u.borderBoxSize,v=Array.isArray(g)?g[0]:g;f=v.inlineSize,h=v.blockSize}else f=e.offsetWidth,h=e.offsetHeight;n({width:f,height:h})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var Tv="Popper",[V1,Rh]=ho(Tv),[wA,U1]=V1(Tv),$1=e=>{const{__scopePopper:t,children:n}=e,[s,a]=S.useState(null);return l.jsx(wA,{scope:t,anchor:s,onAnchorChange:a,children:n})};$1.displayName=Tv;var Z1="PopperAnchor",W1=S.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...a}=e,u=U1(Z1,n),f=S.useRef(null),h=_t(t,f);return S.useEffect(()=>{u.onAnchorChange(s?.current||f.current)}),s?null:l.jsx(dt.div,{...a,ref:h})});W1.displayName=Z1;var kv="PopperContent",[bA,SA]=V1(kv),H1=S.forwardRef((e,t)=>{const{__scopePopper:n,side:s="bottom",sideOffset:a=0,align:u="center",alignOffset:f=0,arrowPadding:h=0,avoidCollisions:g=!0,collisionBoundary:v=[],collisionPadding:y=0,sticky:w="partial",hideWhenDetached:N=!1,updatePositionStrategy:T="optimized",onPlaced:A,...C}=e,j=U1(kv,n),[M,R]=S.useState(null),D=_t(t,fe=>R(fe)),[O,V]=S.useState(null),Z=_A(O),q=Z?.width??0,J=Z?.height??0,he=s+(u!=="center"?"-"+u:""),me=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},_e=Array.isArray(v)?v:[v],le=_e.length>0,Re={padding:me,boundary:_e.filter(NA),altBoundary:le},{refs:te,floatingStyles:ge,placement:de,isPositioned:ce,middlewareData:$}=cA({strategy:"fixed",placement:he,whileElementsMounted:(...fe)=>tA(...fe,{animationFrame:T==="always"}),elements:{reference:j.anchor},middleware:[dA({mainAxis:a+J,alignmentAxis:f}),g&&fA({mainAxis:!0,crossAxis:!1,limiter:w==="partial"?hA():void 0,...Re}),g&&mA({...Re}),pA({...Re,apply:({elements:fe,rects:Se,availableWidth:qe,availableHeight:Fe})=>{const{width:Je,height:lt}=Se.reference,kt=fe.floating.style;kt.setProperty("--radix-popper-available-width",`${qe}px`),kt.setProperty("--radix-popper-available-height",`${Fe}px`),kt.setProperty("--radix-popper-anchor-width",`${Je}px`),kt.setProperty("--radix-popper-anchor-height",`${lt}px`)}}),O&&vA({element:O,padding:h}),CA({arrowWidth:q,arrowHeight:J}),N&&gA({strategy:"referenceHidden",...Re})]}),[oe,X]=G1(de),z=cr(A);Nn(()=>{ce&&z?.()},[ce,z]);const Y=$.arrow?.x,Ne=$.arrow?.y,ye=$.arrow?.centerOffset!==0,[we,pe]=S.useState();return Nn(()=>{M&&pe(window.getComputedStyle(M).zIndex)},[M]),l.jsx("div",{ref:te.setFloating,"data-radix-popper-content-wrapper":"",style:{...ge,transform:ce?ge.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:we,"--radix-popper-transform-origin":[$.transformOrigin?.x,$.transformOrigin?.y].join(" "),...$.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(bA,{scope:n,placedSide:oe,onArrowChange:V,arrowX:Y,arrowY:Ne,shouldHideArrow:ye,children:l.jsx(dt.div,{"data-side":oe,"data-align":X,...C,ref:D,style:{...C.style,animation:ce?void 0:"none"}})})})});H1.displayName=kv;var q1="PopperArrow",PA={top:"bottom",right:"left",bottom:"top",left:"right"},K1=S.forwardRef(function(t,n){const{__scopePopper:s,...a}=t,u=SA(q1,s),f=PA[u.placedSide];return l.jsx("span",{ref:u.onArrowChange,style:{position:"absolute",left:u.arrowX,top:u.arrowY,[f]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[u.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[u.placedSide],visibility:u.shouldHideArrow?"hidden":void 0},children:l.jsx(xA,{...a,ref:n,style:{...a.style,display:"block"}})})});K1.displayName=q1;function NA(e){return e!==null}var CA=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:s,middlewareData:a}=t,f=a.arrow?.centerOffset!==0,h=f?0:e.arrowWidth,g=f?0:e.arrowHeight,[v,y]=G1(n),w={start:"0%",center:"50%",end:"100%"}[y],N=(a.arrow?.x??0)+h/2,T=(a.arrow?.y??0)+g/2;let A="",C="";return v==="bottom"?(A=f?w:`${N}px`,C=`${-g}px`):v==="top"?(A=f?w:`${N}px`,C=`${s.floating.height+g}px`):v==="right"?(A=`${-g}px`,C=f?w:`${T}px`):v==="left"&&(A=`${s.floating.width+g}px`,C=f?w:`${T}px`),{data:{x:A,y:C}}}});function G1(e){const[t,n="center"]=e.split("-");return[t,n]}var jA=$1,Q1=W1,X1=H1,Y1=K1,[Oh]=ho("Tooltip",[Rh]),Ev=Rh(),J1="TooltipProvider",TA=700,u_="tooltip.open",[kA,eS]=Oh(J1),tS=e=>{const{__scopeTooltip:t,delayDuration:n=TA,skipDelayDuration:s=300,disableHoverableContent:a=!1,children:u}=e,f=S.useRef(!0),h=S.useRef(!1),g=S.useRef(0);return S.useEffect(()=>{const v=g.current;return()=>window.clearTimeout(v)},[]),l.jsx(kA,{scope:t,isOpenDelayedRef:f,delayDuration:n,onOpen:S.useCallback(()=>{window.clearTimeout(g.current),f.current=!1},[]),onClose:S.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>f.current=!0,s)},[s]),isPointerInTransitRef:h,onPointerInTransitChange:S.useCallback(v=>{h.current=v},[]),disableHoverableContent:a,children:u})};tS.displayName=J1;var nS="Tooltip",[YV,Ih]=Oh(nS),Pg="TooltipTrigger",EA=S.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,a=Ih(Pg,n),u=eS(Pg,n),f=Ev(n),h=S.useRef(null),g=_t(t,h,a.onTriggerChange),v=S.useRef(!1),y=S.useRef(!1),w=S.useCallback(()=>v.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener("pointerup",w),[w]),l.jsx(Q1,{asChild:!0,...f,children:l.jsx(dt.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...s,ref:g,onPointerMove:Xe(e.onPointerMove,N=>{N.pointerType!=="touch"&&!y.current&&!u.isPointerInTransitRef.current&&(a.onTriggerEnter(),y.current=!0)}),onPointerLeave:Xe(e.onPointerLeave,()=>{a.onTriggerLeave(),y.current=!1}),onPointerDown:Xe(e.onPointerDown,()=>{a.open&&a.onClose(),v.current=!0,document.addEventListener("pointerup",w,{once:!0})}),onFocus:Xe(e.onFocus,()=>{v.current||a.onOpen()}),onBlur:Xe(e.onBlur,a.onClose),onClick:Xe(e.onClick,a.onClose)})})});EA.displayName=Pg;var AA="TooltipPortal",[JV,LA]=Oh(AA,{forceMount:void 0}),Rl="TooltipContent",rS=S.forwardRef((e,t)=>{const n=LA(Rl,e.__scopeTooltip),{forceMount:s=n.forceMount,side:a="top",...u}=e,f=Ih(Rl,e.__scopeTooltip);return l.jsx(Zl,{present:s||f.open,children:f.disableHoverableContent?l.jsx(iS,{side:a,...u,ref:t}):l.jsx(MA,{side:a,...u,ref:t})})}),MA=S.forwardRef((e,t)=>{const n=Ih(Rl,e.__scopeTooltip),s=eS(Rl,e.__scopeTooltip),a=S.useRef(null),u=_t(t,a),[f,h]=S.useState(null),{trigger:g,onClose:v}=n,y=a.current,{onPointerInTransitChange:w}=s,N=S.useCallback(()=>{h(null),w(!1)},[w]),T=S.useCallback((A,C)=>{const j=A.currentTarget,M={x:A.clientX,y:A.clientY},R=FA(M,j.getBoundingClientRect()),D=zA(M,R),O=BA(C.getBoundingClientRect()),V=UA([...D,...O]);h(V),w(!0)},[w]);return S.useEffect(()=>()=>N(),[N]),S.useEffect(()=>{if(g&&y){const A=j=>T(j,y),C=j=>T(j,g);return g.addEventListener("pointerleave",A),y.addEventListener("pointerleave",C),()=>{g.removeEventListener("pointerleave",A),y.removeEventListener("pointerleave",C)}}},[g,y,T,N]),S.useEffect(()=>{if(f){const A=C=>{const j=C.target,M={x:C.clientX,y:C.clientY},R=g?.contains(j)||y?.contains(j),D=!VA(M,f);R?N():D&&(N(),v())};return document.addEventListener("pointermove",A),()=>document.removeEventListener("pointermove",A)}},[g,y,f,v,N]),l.jsx(iS,{...e,ref:u})}),[RA,OA]=Oh(nS,{isInside:!1}),IA=Ob("TooltipContent"),iS=S.forwardRef((e,t)=>{const{__scopeTooltip:n,children:s,"aria-label":a,onEscapeKeyDown:u,onPointerDownOutside:f,...h}=e,g=Ih(Rl,n),v=Ev(n),{onClose:y}=g;return S.useEffect(()=>(document.addEventListener(u_,y),()=>document.removeEventListener(u_,y)),[y]),S.useEffect(()=>{if(g.trigger){const w=N=>{N.target?.contains(g.trigger)&&y()};return window.addEventListener("scroll",w,{capture:!0}),()=>window.removeEventListener("scroll",w,{capture:!0})}},[g.trigger,y]),l.jsx(Bu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:w=>w.preventDefault(),onDismiss:y,children:l.jsxs(X1,{"data-state":g.stateAttribute,...v,...h,ref:t,style:{...h.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(IA,{children:s}),l.jsx(RA,{scope:n,isInside:!0,children:l.jsx(qk,{id:g.contentId,role:"tooltip",children:a||s})})]})})});rS.displayName=Rl;var sS="TooltipArrow",DA=S.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,a=Ev(n);return OA(sS,n).isInside?null:l.jsx(Y1,{...a,...s,ref:t})});DA.displayName=sS;function FA(e,t){const n=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),u=Math.abs(t.left-e.x);switch(Math.min(n,s,a,u)){case u:return"left";case a:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function zA(e,t,n=5){const s=[];switch(t){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function BA(e){const{top:t,right:n,bottom:s,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:s},{x:a,y:s}]}function VA(e,t){const{x:n,y:s}=e;let a=!1;for(let u=0,f=t.length-1;u<t.length;f=u++){const h=t[u].x,g=t[u].y,v=t[f].x,y=t[f].y;g>s!=y>s&&n<(v-h)*(s-g)/(y-g)+h&&(a=!a)}return a}function UA(e){const t=e.slice();return t.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),$A(t)}function $A(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const a=e[s];for(;t.length>=2;){const u=t[t.length-1],f=t[t.length-2];if((u.x-f.x)*(a.y-f.y)>=(u.y-f.y)*(a.x-f.x))t.pop();else break}t.push(a)}t.pop();const n=[];for(let s=e.length-1;s>=0;s--){const a=e[s];for(;n.length>=2;){const u=n[n.length-1],f=n[n.length-2];if((u.x-f.x)*(a.y-f.y)>=(u.y-f.y)*(a.x-f.x))n.pop();else break}n.push(a)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var ZA=tS,oS=rS;const WA=ZA,HA=S.forwardRef(({className:e,sideOffset:t=4,...n},s)=>l.jsx(oS,{ref:s,sideOffset:t,className:rt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n}));HA.displayName=oS.displayName;const qA={ar:{"app.name":"","app.tagline":"   ","nav.home":"","nav.categories":"","nav.map":"","nav.offers":"","nav.search":"","nav.favorites":"","home.hero.title":"     ","home.hero.subtitle":"       ","home.categories":"","home.featured":" ","home.offers":" ","home.viewAll":" ","search.placeholder":"    ...","search.button":"","search.results":" ","search.noResults":"  ","search.minRating":"  ","business.about":"","business.services":"","business.location":"  ","business.reviews":" ","business.notFound":"  ","business.backHome":" ","business.noAddress":"  ","business.noDescription":"      .","business.website":"","business.call":"","business.whatsapp":"","business.directions":"","business.currentOffers":" ","review.addReview":" ","review.yourName":"","review.yourComment":" ()","review.submit":" ","review.sending":" ...","review.noReviews":"   .    !","review.success":"   ","review.error":"    ","offers.title":" ","offers.noOffers":"   ","offers.expiringSoon":" ","map.title":"","map.noBusinesses":"    ","categories.title":" ","city.selectCity":" ","city.allCities":" ","language.switch":"English","favorites.title":"","favorites.empty":"   ","favorites.emptyDescription":"         ","favorites.browseCategories":" ","favorites.count":" ","compare.title":" ","compare.select":"  ","compare.empty":"  ","compare.add":" ","compare.remove":"  ","compare.clear":" ","admin.activityLog":" ","admin.export":" ","admin.revenue":"","admin.monthlyReport":" ","admin.notifications":"","admin.expiringSubscriptions":"  "},en:{"app.name":"Delini","app.tagline":"Your Complete Local Services Guide","nav.home":"Home","nav.categories":"Categories","nav.map":"Map","nav.offers":"Offers","nav.search":"Search","nav.favorites":"Favorites","home.hero.title":"Find the Best Services Near You","home.hero.subtitle":"Your complete guide to restaurants, shops, and local services in your city","home.categories":"Categories","home.featured":"Featured","home.offers":"Exclusive Offers","home.viewAll":"View All","search.placeholder":"Search for restaurant, cafe, service...","search.button":"Search","search.results":"Search Results","search.noResults":"No results found","search.minRating":"Minimum Rating","business.about":"About","business.services":"Services","business.location":"Location on Map","business.reviews":"Reviews & Ratings","business.notFound":"Business not found","business.backHome":"Back to Home","business.noAddress":"Address not available","business.noDescription":"No description available for this business.","business.website":"Website","business.call":"Call","business.whatsapp":"WhatsApp","business.directions":"Directions","business.currentOffers":"Current Offers","review.addReview":"Add Your Review","review.yourName":"Your Name","review.yourComment":"Your Comment (optional)","review.submit":"Submit Review","review.sending":"Sending...","review.noReviews":"No reviews yet. Be the first to review!","review.success":"Your review has been added successfully","review.error":"An error occurred while adding your review","offers.title":"Offers & Discounts","offers.noOffers":"No offers available","offers.expiringSoon":"Expiring Soon","map.title":"Map","map.noBusinesses":"No businesses on the map","categories.title":"All Categories","city.selectCity":"Select City","city.allCities":"All Cities","language.switch":"","favorites.title":"Favorites","favorites.empty":"No favorites yet","favorites.emptyDescription":"Tap the heart icon on any business to add it to your favorites","favorites.browseCategories":"Browse Categories","favorites.count":"favorite businesses","compare.title":"Compare Businesses","compare.select":"Select a business to compare","compare.empty":"Select two businesses to compare","compare.add":"Add to Compare","compare.remove":"Remove from Compare","compare.clear":"Clear Comparison","admin.activityLog":"Activity Log","admin.export":"Export Data","admin.revenue":"Revenue","admin.monthlyReport":"Monthly Report","admin.notifications":"Notifications","admin.expiringSubscriptions":"Expiring Subscriptions"}},aS=S.createContext(void 0);function KA({children:e}){const[t,n]=S.useState(()=>typeof window<"u"&&localStorage.getItem("language")||"ar");S.useEffect(()=>{localStorage.setItem("language",t);const f=t==="ar"?"rtl":"ltr";document.documentElement.dir=f,document.documentElement.lang=t,document.body.dir=f,document.body.style.direction=f},[t]);const s=f=>{n(f)},a=f=>qA[t][f]||f,u=t==="ar";return l.jsx(aS.Provider,{value:{language:t,setLanguage:s,t:a,isRTL:u},children:e})}function mo(){const e=S.useContext(aS);if(!e)throw new Error("useI18n must be used within an I18nProvider");return e}const Av=mv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Ze=S.forwardRef(({className:e,variant:t,size:n,asChild:s=!1,...a},u)=>{const f=s?Ck:"button";return l.jsx(f,{className:rt(Av({variant:t,size:n,className:e})),ref:u,...a})});Ze.displayName="Button";const lS=S.createContext({isPreview:!1,prefixLink:e=>e});function GA({children:e}){return l.jsx(lS.Provider,{value:{isPreview:!0,prefixLink:t=>t==="/"?"/preview":`/preview${t}`},children:e})}function ls(){return S.useContext(lS)}function QA(){const{prefixLink:e}=ls(),[,t]=fa();return S.useCallback(s=>{t(e(s))},[e,t])}function po({children:e}){const[,t]=fa(),{data:n,isLoading:s}=vt({queryKey:["/api/admin/me"],retry:!1});return s?l.jsx(l.Fragment,{children:e}):n?l.jsx(GA,{children:l.jsxs("div",{className:"relative min-h-screen",children:[l.jsxs("div",{className:"fixed top-4 left-4 z-[9999] flex items-center gap-2 bg-primary/95 backdrop-blur-sm text-primary-foreground px-4 py-2 rounded-lg shadow-lg",children:[l.jsx(y1,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm font-medium",children:" "}),l.jsxs(Ze,{size:"sm",variant:"secondary",onClick:()=>t("/admin"),className:"mr-2 gap-1","data-testid":"button-return-admin",children:[l.jsx(Th,{className:"w-4 h-4"}),"  "]})]}),e]})}):(t("/"),null)}const ot=S.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:rt("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",e),...t}));ot.displayName="Card";const Gt=S.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:rt("flex flex-col space-y-1.5 p-6",e),...t}));Gt.displayName="CardHeader";const Qt=S.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:rt("text-2xl font-semibold leading-none tracking-tight",e),...t}));Qt.displayName="CardTitle";const XA=S.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:rt("text-sm text-muted-foreground",e),...t}));XA.displayName="CardDescription";const at=S.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:rt("p-6 pt-0",e),...t}));at.displayName="CardContent";const YA=S.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:rt("flex items-center p-6 pt-0",e),...t}));YA.displayName="CardFooter";function JA(){return l.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:l.jsx(ot,{className:"w-full max-w-md mx-4",children:l.jsxs(at,{className:"pt-6",children:[l.jsxs("div",{className:"flex mb-4 gap-2",children:[l.jsx(d1,{className:"h-8 w-8 text-red-500"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),l.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}var ut;(function(e){e.assertEqual=a=>a;function t(a){}e.assertIs=t;function n(a){throw new Error}e.assertNever=n,e.arrayToEnum=a=>{const u={};for(const f of a)u[f]=f;return u},e.getValidEnumValues=a=>{const u=e.objectKeys(a).filter(h=>typeof a[a[h]]!="number"),f={};for(const h of u)f[h]=a[h];return e.objectValues(f)},e.objectValues=a=>e.objectKeys(a).map(function(u){return a[u]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const u=[];for(const f in a)Object.prototype.hasOwnProperty.call(a,f)&&u.push(f);return u},e.find=(a,u)=>{for(const f of a)if(u(f))return f},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function s(a,u=" | "){return a.map(f=>typeof f=="string"?`'${f}'`:f).join(u)}e.joinValues=s,e.jsonStringifyReplacer=(a,u)=>typeof u=="bigint"?u.toString():u})(ut||(ut={}));var Ng;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(Ng||(Ng={}));const Pe=ut.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Yi=e=>{switch(typeof e){case"undefined":return Pe.undefined;case"string":return Pe.string;case"number":return isNaN(e)?Pe.nan:Pe.number;case"boolean":return Pe.boolean;case"function":return Pe.function;case"bigint":return Pe.bigint;case"symbol":return Pe.symbol;case"object":return Array.isArray(e)?Pe.array:e===null?Pe.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Pe.promise:typeof Map<"u"&&e instanceof Map?Pe.map:typeof Set<"u"&&e instanceof Set?Pe.set:typeof Date<"u"&&e instanceof Date?Pe.date:Pe.object;default:return Pe.unknown}},ae=ut.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),eL=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class ar extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(u){return u.message},s={_errors:[]},a=u=>{for(const f of u.issues)if(f.code==="invalid_union")f.unionErrors.map(a);else if(f.code==="invalid_return_type")a(f.returnTypeError);else if(f.code==="invalid_arguments")a(f.argumentsError);else if(f.path.length===0)s._errors.push(n(f));else{let h=s,g=0;for(;g<f.path.length;){const v=f.path[g];g===f.path.length-1?(h[v]=h[v]||{_errors:[]},h[v]._errors.push(n(f))):h[v]=h[v]||{_errors:[]},h=h[v],g++}}};return a(this),s}static assert(t){if(!(t instanceof ar))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ut.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},s=[];for(const a of this.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(t(a))):s.push(t(a));return{formErrors:s,fieldErrors:n}}get formErrors(){return this.flatten()}}ar.create=e=>new ar(e);const Ol=(e,t)=>{let n;switch(e.code){case ae.invalid_type:e.received===Pe.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case ae.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,ut.jsonStringifyReplacer)}`;break;case ae.unrecognized_keys:n=`Unrecognized key(s) in object: ${ut.joinValues(e.keys,", ")}`;break;case ae.invalid_union:n="Invalid input";break;case ae.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ut.joinValues(e.options)}`;break;case ae.invalid_enum_value:n=`Invalid enum value. Expected ${ut.joinValues(e.options)}, received '${e.received}'`;break;case ae.invalid_arguments:n="Invalid function arguments";break;case ae.invalid_return_type:n="Invalid function return type";break;case ae.invalid_date:n="Invalid date";break;case ae.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:ut.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case ae.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case ae.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case ae.custom:n="Invalid input";break;case ae.invalid_intersection_types:n="Intersection results could not be merged";break;case ae.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case ae.not_finite:n="Number must be finite";break;default:n=t.defaultError,ut.assertNever(e)}return{message:n}};let cS=Ol;function tL(e){cS=e}function nh(){return cS}const rh=e=>{const{data:t,path:n,errorMaps:s,issueData:a}=e,u=[...n,...a.path||[]],f={...a,path:u};if(a.message!==void 0)return{...a,path:u,message:a.message};let h="";const g=s.filter(v=>!!v).slice().reverse();for(const v of g)h=v(f,{data:t,defaultError:h}).message;return{...a,path:u,message:h}},nL=[];function ve(e,t){const n=nh(),s=rh({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Ol?void 0:Ol].filter(a=>!!a)});e.common.issues.push(s)}class Cn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const s=[];for(const a of n){if(a.status==="aborted")return $e;a.status==="dirty"&&t.dirty(),s.push(a.value)}return{status:t.value,value:s}}static async mergeObjectAsync(t,n){const s=[];for(const a of n){const u=await a.key,f=await a.value;s.push({key:u,value:f})}return Cn.mergeObjectSync(t,s)}static mergeObjectSync(t,n){const s={};for(const a of n){const{key:u,value:f}=a;if(u.status==="aborted"||f.status==="aborted")return $e;u.status==="dirty"&&t.dirty(),f.status==="dirty"&&t.dirty(),u.value!=="__proto__"&&(typeof f.value<"u"||a.alwaysSet)&&(s[u.value]=f.value)}return{status:t.value,value:s}}}const $e=Object.freeze({status:"aborted"}),hl=e=>({status:"dirty",value:e}),Mn=e=>({status:"valid",value:e}),Cg=e=>e.status==="aborted",jg=e=>e.status==="dirty",oa=e=>e.status==="valid",_u=e=>typeof Promise<"u"&&e instanceof Promise;function ih(e,t,n,s){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function uS(e,t,n,s,a){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var Le;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(Le||(Le={}));var su,ou;class bi{constructor(t,n,s,a){this._cachedPath=[],this.parent=t,this.data=n,this._path=s,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const d_=(e,t)=>{if(oa(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new ar(e.common.issues);return this._error=n,this._error}}};function Ye(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:s,description:a}=e;if(t&&(n||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(f,h)=>{var g,v;const{message:y}=e;return f.code==="invalid_enum_value"?{message:y??h.defaultError}:typeof h.data>"u"?{message:(g=y??s)!==null&&g!==void 0?g:h.defaultError}:f.code!=="invalid_type"?{message:h.defaultError}:{message:(v=y??n)!==null&&v!==void 0?v:h.defaultError}},description:a}}class nt{get description(){return this._def.description}_getType(t){return Yi(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Yi(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Cn,ctx:{common:t.parent.common,data:t.data,parsedType:Yi(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(_u(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const s=this.safeParse(t,n);if(s.success)return s.data;throw s.error}safeParse(t,n){var s;const a={common:{issues:[],async:(s=n?.async)!==null&&s!==void 0?s:!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Yi(t)},u=this._parseSync({data:t,path:a.path,parent:a});return d_(a,u)}"~validate"(t){var n,s;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Yi(t)};if(!this["~standard"].async)try{const u=this._parseSync({data:t,path:[],parent:a});return oa(u)?{value:u.value}:{issues:a.common.issues}}catch(u){!((s=(n=u?.message)===null||n===void 0?void 0:n.toLowerCase())===null||s===void 0)&&s.includes("encountered")&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:a}).then(u=>oa(u)?{value:u.value}:{issues:a.common.issues})}async parseAsync(t,n){const s=await this.safeParseAsync(t,n);if(s.success)return s.data;throw s.error}async safeParseAsync(t,n){const s={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Yi(t)},a=this._parse({data:t,path:s.path,parent:s}),u=await(_u(a)?a:Promise.resolve(a));return d_(s,u)}refine(t,n){const s=a=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(a):n;return this._refinement((a,u)=>{const f=t(a),h=()=>u.addIssue({code:ae.custom,...s(a)});return typeof Promise<"u"&&f instanceof Promise?f.then(g=>g?!0:(h(),!1)):f?!0:(h(),!1)})}refinement(t,n){return this._refinement((s,a)=>t(s)?!0:(a.addIssue(typeof n=="function"?n(s,a):n),!1))}_refinement(t){return new Gr({schema:this,typeName:Ve.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return vi.create(this,this._def)}nullable(){return io.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Wr.create(this)}promise(){return Dl.create(this,this._def)}or(t){return Pu.create([this,t],this._def)}and(t){return Nu.create(this,t,this._def)}transform(t){return new Gr({...Ye(this._def),schema:this,typeName:Ve.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Eu({...Ye(this._def),innerType:this,defaultValue:n,typeName:Ve.ZodDefault})}brand(){return new Lv({typeName:Ve.ZodBranded,type:this,...Ye(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Au({...Ye(this._def),innerType:this,catchValue:n,typeName:Ve.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Zu.create(this,t)}readonly(){return Lu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const rL=/^c[^\s-]{8,}$/i,iL=/^[0-9a-z]+$/,sL=/^[0-9A-HJKMNP-TV-Z]{26}$/i,oL=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,aL=/^[a-z0-9_-]{21}$/i,lL=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,cL=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,uL=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,dL="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Dp;const fL=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,hL=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,mL=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,pL=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,gL=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,vL=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,dS="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",yL=new RegExp(`^${dS}$`);function fS(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function xL(e){return new RegExp(`^${fS(e)}$`)}function hS(e){let t=`${dS}T${fS(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function _L(e,t){return!!((t==="v4"||!t)&&fL.test(e)||(t==="v6"||!t)&&mL.test(e))}function wL(e,t){if(!lL.test(e))return!1;try{const[n]=e.split("."),s=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),a=JSON.parse(atob(s));return!(typeof a!="object"||a===null||!a.typ||!a.alg||t&&a.alg!==t)}catch{return!1}}function bL(e,t){return!!((t==="v4"||!t)&&hL.test(e)||(t==="v6"||!t)&&pL.test(e))}class Zr extends nt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Pe.string){const u=this._getOrReturnCtx(t);return ve(u,{code:ae.invalid_type,expected:Pe.string,received:u.parsedType}),$e}const s=new Cn;let a;for(const u of this._def.checks)if(u.kind==="min")t.data.length<u.value&&(a=this._getOrReturnCtx(t,a),ve(a,{code:ae.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),s.dirty());else if(u.kind==="max")t.data.length>u.value&&(a=this._getOrReturnCtx(t,a),ve(a,{code:ae.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),s.dirty());else if(u.kind==="length"){const f=t.data.length>u.value,h=t.data.length<u.value;(f||h)&&(a=this._getOrReturnCtx(t,a),f?ve(a,{code:ae.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}):h&&ve(a,{code:ae.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}),s.dirty())}else if(u.kind==="email")uL.test(t.data)||(a=this._getOrReturnCtx(t,a),ve(a,{validation:"email",code:ae.invalid_string,message:u.message}),s.dirty());else if(u.kind==="emoji")Dp||(Dp=new RegExp(dL,"u")),Dp.test(t.data)||(a=this._getOrReturnCtx(t,a),ve(a,{validation:"emoji",code:ae.invalid_string,message:u.message}),s.dirty());else if(u.kind==="uuid")oL.test(t.data)||(a=this._getOrReturnCtx(t,a),ve(a,{validation:"uuid",code:ae.invalid_string,message:u.message}),s.dirty());else if(u.kind==="nanoid")aL.test(t.data)||(a=this._getOrReturnCtx(t,a),ve(a,{validation:"nanoid",code:ae.invalid_string,message:u.message}),s.dirty());else if(u.kind==="cuid")rL.test(t.data)||(a=this._getOrReturnCtx(t,a),ve(a,{validation:"cuid",code:ae.invalid_string,message:u.message}),s.dirty());else if(u.kind==="cuid2")iL.test(t.data)||(a=this._getOrReturnCtx(t,a),ve(a,{validation:"cuid2",code:ae.invalid_string,message:u.message}),s.dirty());else if(u.kind==="ulid")sL.test(t.data)||(a=this._getOrReturnCtx(t,a),ve(a,{validation:"ulid",code:ae.invalid_string,message:u.message}),s.dirty());else if(u.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),ve(a,{validation:"url",code:ae.invalid_string,message:u.message}),s.dirty()}else u.kind==="regex"?(u.regex.lastIndex=0,u.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),ve(a,{validation:"regex",code:ae.invalid_string,message:u.message}),s.dirty())):u.kind==="trim"?t.data=t.data.trim():u.kind==="includes"?t.data.includes(u.value,u.position)||(a=this._getOrReturnCtx(t,a),ve(a,{code:ae.invalid_string,validation:{includes:u.value,position:u.position},message:u.message}),s.dirty()):u.kind==="toLowerCase"?t.data=t.data.toLowerCase():u.kind==="toUpperCase"?t.data=t.data.toUpperCase():u.kind==="startsWith"?t.data.startsWith(u.value)||(a=this._getOrReturnCtx(t,a),ve(a,{code:ae.invalid_string,validation:{startsWith:u.value},message:u.message}),s.dirty()):u.kind==="endsWith"?t.data.endsWith(u.value)||(a=this._getOrReturnCtx(t,a),ve(a,{code:ae.invalid_string,validation:{endsWith:u.value},message:u.message}),s.dirty()):u.kind==="datetime"?hS(u).test(t.data)||(a=this._getOrReturnCtx(t,a),ve(a,{code:ae.invalid_string,validation:"datetime",message:u.message}),s.dirty()):u.kind==="date"?yL.test(t.data)||(a=this._getOrReturnCtx(t,a),ve(a,{code:ae.invalid_string,validation:"date",message:u.message}),s.dirty()):u.kind==="time"?xL(u).test(t.data)||(a=this._getOrReturnCtx(t,a),ve(a,{code:ae.invalid_string,validation:"time",message:u.message}),s.dirty()):u.kind==="duration"?cL.test(t.data)||(a=this._getOrReturnCtx(t,a),ve(a,{validation:"duration",code:ae.invalid_string,message:u.message}),s.dirty()):u.kind==="ip"?_L(t.data,u.version)||(a=this._getOrReturnCtx(t,a),ve(a,{validation:"ip",code:ae.invalid_string,message:u.message}),s.dirty()):u.kind==="jwt"?wL(t.data,u.alg)||(a=this._getOrReturnCtx(t,a),ve(a,{validation:"jwt",code:ae.invalid_string,message:u.message}),s.dirty()):u.kind==="cidr"?bL(t.data,u.version)||(a=this._getOrReturnCtx(t,a),ve(a,{validation:"cidr",code:ae.invalid_string,message:u.message}),s.dirty()):u.kind==="base64"?gL.test(t.data)||(a=this._getOrReturnCtx(t,a),ve(a,{validation:"base64",code:ae.invalid_string,message:u.message}),s.dirty()):u.kind==="base64url"?vL.test(t.data)||(a=this._getOrReturnCtx(t,a),ve(a,{validation:"base64url",code:ae.invalid_string,message:u.message}),s.dirty()):ut.assertNever(u);return{status:s.value,value:t.data}}_regex(t,n,s){return this.refinement(a=>t.test(a),{validation:n,code:ae.invalid_string,...Le.errToObj(s)})}_addCheck(t){return new Zr({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Le.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Le.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Le.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Le.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Le.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Le.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Le.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Le.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Le.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Le.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Le.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Le.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Le.errToObj(t)})}datetime(t){var n,s;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:(n=t?.offset)!==null&&n!==void 0?n:!1,local:(s=t?.local)!==null&&s!==void 0?s:!1,...Le.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...Le.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...Le.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...Le.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n?.position,...Le.errToObj(n?.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...Le.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...Le.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...Le.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...Le.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...Le.errToObj(n)})}nonempty(t){return this.min(1,Le.errToObj(t))}trim(){return new Zr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Zr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Zr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Zr.create=e=>{var t;return new Zr({checks:[],typeName:Ve.ZodString,coerce:(t=e?.coerce)!==null&&t!==void 0?t:!1,...Ye(e)})};function SL(e,t){const n=(e.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,a=n>s?n:s,u=parseInt(e.toFixed(a).replace(".","")),f=parseInt(t.toFixed(a).replace(".",""));return u%f/Math.pow(10,a)}class to extends nt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Pe.number){const u=this._getOrReturnCtx(t);return ve(u,{code:ae.invalid_type,expected:Pe.number,received:u.parsedType}),$e}let s;const a=new Cn;for(const u of this._def.checks)u.kind==="int"?ut.isInteger(t.data)||(s=this._getOrReturnCtx(t,s),ve(s,{code:ae.invalid_type,expected:"integer",received:"float",message:u.message}),a.dirty()):u.kind==="min"?(u.inclusive?t.data<u.value:t.data<=u.value)&&(s=this._getOrReturnCtx(t,s),ve(s,{code:ae.too_small,minimum:u.value,type:"number",inclusive:u.inclusive,exact:!1,message:u.message}),a.dirty()):u.kind==="max"?(u.inclusive?t.data>u.value:t.data>=u.value)&&(s=this._getOrReturnCtx(t,s),ve(s,{code:ae.too_big,maximum:u.value,type:"number",inclusive:u.inclusive,exact:!1,message:u.message}),a.dirty()):u.kind==="multipleOf"?SL(t.data,u.value)!==0&&(s=this._getOrReturnCtx(t,s),ve(s,{code:ae.not_multiple_of,multipleOf:u.value,message:u.message}),a.dirty()):u.kind==="finite"?Number.isFinite(t.data)||(s=this._getOrReturnCtx(t,s),ve(s,{code:ae.not_finite,message:u.message}),a.dirty()):ut.assertNever(u);return{status:a.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Le.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Le.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Le.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Le.toString(n))}setLimit(t,n,s,a){return new to({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:s,message:Le.toString(a)}]})}_addCheck(t){return new to({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Le.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Le.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Le.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Le.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Le.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Le.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Le.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Le.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Le.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ut.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(n===null||s.value>n)&&(n=s.value):s.kind==="max"&&(t===null||s.value<t)&&(t=s.value)}return Number.isFinite(n)&&Number.isFinite(t)}}to.create=e=>new to({checks:[],typeName:Ve.ZodNumber,coerce:e?.coerce||!1,...Ye(e)});class no extends nt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Pe.bigint)return this._getInvalidInput(t);let s;const a=new Cn;for(const u of this._def.checks)u.kind==="min"?(u.inclusive?t.data<u.value:t.data<=u.value)&&(s=this._getOrReturnCtx(t,s),ve(s,{code:ae.too_small,type:"bigint",minimum:u.value,inclusive:u.inclusive,message:u.message}),a.dirty()):u.kind==="max"?(u.inclusive?t.data>u.value:t.data>=u.value)&&(s=this._getOrReturnCtx(t,s),ve(s,{code:ae.too_big,type:"bigint",maximum:u.value,inclusive:u.inclusive,message:u.message}),a.dirty()):u.kind==="multipleOf"?t.data%u.value!==BigInt(0)&&(s=this._getOrReturnCtx(t,s),ve(s,{code:ae.not_multiple_of,multipleOf:u.value,message:u.message}),a.dirty()):ut.assertNever(u);return{status:a.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return ve(n,{code:ae.invalid_type,expected:Pe.bigint,received:n.parsedType}),$e}gte(t,n){return this.setLimit("min",t,!0,Le.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Le.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Le.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Le.toString(n))}setLimit(t,n,s,a){return new no({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:s,message:Le.toString(a)}]})}_addCheck(t){return new no({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Le.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Le.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Le.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Le.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Le.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}no.create=e=>{var t;return new no({checks:[],typeName:Ve.ZodBigInt,coerce:(t=e?.coerce)!==null&&t!==void 0?t:!1,...Ye(e)})};class wu extends nt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Pe.boolean){const s=this._getOrReturnCtx(t);return ve(s,{code:ae.invalid_type,expected:Pe.boolean,received:s.parsedType}),$e}return Mn(t.data)}}wu.create=e=>new wu({typeName:Ve.ZodBoolean,coerce:e?.coerce||!1,...Ye(e)});class aa extends nt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Pe.date){const u=this._getOrReturnCtx(t);return ve(u,{code:ae.invalid_type,expected:Pe.date,received:u.parsedType}),$e}if(isNaN(t.data.getTime())){const u=this._getOrReturnCtx(t);return ve(u,{code:ae.invalid_date}),$e}const s=new Cn;let a;for(const u of this._def.checks)u.kind==="min"?t.data.getTime()<u.value&&(a=this._getOrReturnCtx(t,a),ve(a,{code:ae.too_small,message:u.message,inclusive:!0,exact:!1,minimum:u.value,type:"date"}),s.dirty()):u.kind==="max"?t.data.getTime()>u.value&&(a=this._getOrReturnCtx(t,a),ve(a,{code:ae.too_big,message:u.message,inclusive:!0,exact:!1,maximum:u.value,type:"date"}),s.dirty()):ut.assertNever(u);return{status:s.value,value:new Date(t.data.getTime())}}_addCheck(t){return new aa({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Le.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Le.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}aa.create=e=>new aa({checks:[],coerce:e?.coerce||!1,typeName:Ve.ZodDate,...Ye(e)});class sh extends nt{_parse(t){if(this._getType(t)!==Pe.symbol){const s=this._getOrReturnCtx(t);return ve(s,{code:ae.invalid_type,expected:Pe.symbol,received:s.parsedType}),$e}return Mn(t.data)}}sh.create=e=>new sh({typeName:Ve.ZodSymbol,...Ye(e)});class bu extends nt{_parse(t){if(this._getType(t)!==Pe.undefined){const s=this._getOrReturnCtx(t);return ve(s,{code:ae.invalid_type,expected:Pe.undefined,received:s.parsedType}),$e}return Mn(t.data)}}bu.create=e=>new bu({typeName:Ve.ZodUndefined,...Ye(e)});class Su extends nt{_parse(t){if(this._getType(t)!==Pe.null){const s=this._getOrReturnCtx(t);return ve(s,{code:ae.invalid_type,expected:Pe.null,received:s.parsedType}),$e}return Mn(t.data)}}Su.create=e=>new Su({typeName:Ve.ZodNull,...Ye(e)});class Il extends nt{constructor(){super(...arguments),this._any=!0}_parse(t){return Mn(t.data)}}Il.create=e=>new Il({typeName:Ve.ZodAny,...Ye(e)});class ta extends nt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Mn(t.data)}}ta.create=e=>new ta({typeName:Ve.ZodUnknown,...Ye(e)});class is extends nt{_parse(t){const n=this._getOrReturnCtx(t);return ve(n,{code:ae.invalid_type,expected:Pe.never,received:n.parsedType}),$e}}is.create=e=>new is({typeName:Ve.ZodNever,...Ye(e)});class oh extends nt{_parse(t){if(this._getType(t)!==Pe.undefined){const s=this._getOrReturnCtx(t);return ve(s,{code:ae.invalid_type,expected:Pe.void,received:s.parsedType}),$e}return Mn(t.data)}}oh.create=e=>new oh({typeName:Ve.ZodVoid,...Ye(e)});class Wr extends nt{_parse(t){const{ctx:n,status:s}=this._processInputParams(t),a=this._def;if(n.parsedType!==Pe.array)return ve(n,{code:ae.invalid_type,expected:Pe.array,received:n.parsedType}),$e;if(a.exactLength!==null){const f=n.data.length>a.exactLength.value,h=n.data.length<a.exactLength.value;(f||h)&&(ve(n,{code:f?ae.too_big:ae.too_small,minimum:h?a.exactLength.value:void 0,maximum:f?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),s.dirty())}if(a.minLength!==null&&n.data.length<a.minLength.value&&(ve(n,{code:ae.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),s.dirty()),a.maxLength!==null&&n.data.length>a.maxLength.value&&(ve(n,{code:ae.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),s.dirty()),n.common.async)return Promise.all([...n.data].map((f,h)=>a.type._parseAsync(new bi(n,f,n.path,h)))).then(f=>Cn.mergeArray(s,f));const u=[...n.data].map((f,h)=>a.type._parseSync(new bi(n,f,n.path,h)));return Cn.mergeArray(s,u)}get element(){return this._def.type}min(t,n){return new Wr({...this._def,minLength:{value:t,message:Le.toString(n)}})}max(t,n){return new Wr({...this._def,maxLength:{value:t,message:Le.toString(n)}})}length(t,n){return new Wr({...this._def,exactLength:{value:t,message:Le.toString(n)}})}nonempty(t){return this.min(1,t)}}Wr.create=(e,t)=>new Wr({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ve.ZodArray,...Ye(t)});function fl(e){if(e instanceof It){const t={};for(const n in e.shape){const s=e.shape[n];t[n]=vi.create(fl(s))}return new It({...e._def,shape:()=>t})}else return e instanceof Wr?new Wr({...e._def,type:fl(e.element)}):e instanceof vi?vi.create(fl(e.unwrap())):e instanceof io?io.create(fl(e.unwrap())):e instanceof Si?Si.create(e.items.map(t=>fl(t))):e}class It extends nt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=ut.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==Pe.object){const v=this._getOrReturnCtx(t);return ve(v,{code:ae.invalid_type,expected:Pe.object,received:v.parsedType}),$e}const{status:s,ctx:a}=this._processInputParams(t),{shape:u,keys:f}=this._getCached(),h=[];if(!(this._def.catchall instanceof is&&this._def.unknownKeys==="strip"))for(const v in a.data)f.includes(v)||h.push(v);const g=[];for(const v of f){const y=u[v],w=a.data[v];g.push({key:{status:"valid",value:v},value:y._parse(new bi(a,w,a.path,v)),alwaysSet:v in a.data})}if(this._def.catchall instanceof is){const v=this._def.unknownKeys;if(v==="passthrough")for(const y of h)g.push({key:{status:"valid",value:y},value:{status:"valid",value:a.data[y]}});else if(v==="strict")h.length>0&&(ve(a,{code:ae.unrecognized_keys,keys:h}),s.dirty());else if(v!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const v=this._def.catchall;for(const y of h){const w=a.data[y];g.push({key:{status:"valid",value:y},value:v._parse(new bi(a,w,a.path,y)),alwaysSet:y in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const v=[];for(const y of g){const w=await y.key,N=await y.value;v.push({key:w,value:N,alwaysSet:y.alwaysSet})}return v}).then(v=>Cn.mergeObjectSync(s,v)):Cn.mergeObjectSync(s,g)}get shape(){return this._def.shape()}strict(t){return Le.errToObj,new It({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,s)=>{var a,u,f,h;const g=(f=(u=(a=this._def).errorMap)===null||u===void 0?void 0:u.call(a,n,s).message)!==null&&f!==void 0?f:s.defaultError;return n.code==="unrecognized_keys"?{message:(h=Le.errToObj(t).message)!==null&&h!==void 0?h:g}:{message:g}}}:{}})}strip(){return new It({...this._def,unknownKeys:"strip"})}passthrough(){return new It({...this._def,unknownKeys:"passthrough"})}extend(t){return new It({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new It({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ve.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new It({...this._def,catchall:t})}pick(t){const n={};return ut.objectKeys(t).forEach(s=>{t[s]&&this.shape[s]&&(n[s]=this.shape[s])}),new It({...this._def,shape:()=>n})}omit(t){const n={};return ut.objectKeys(this.shape).forEach(s=>{t[s]||(n[s]=this.shape[s])}),new It({...this._def,shape:()=>n})}deepPartial(){return fl(this)}partial(t){const n={};return ut.objectKeys(this.shape).forEach(s=>{const a=this.shape[s];t&&!t[s]?n[s]=a:n[s]=a.optional()}),new It({...this._def,shape:()=>n})}required(t){const n={};return ut.objectKeys(this.shape).forEach(s=>{if(t&&!t[s])n[s]=this.shape[s];else{let u=this.shape[s];for(;u instanceof vi;)u=u._def.innerType;n[s]=u}}),new It({...this._def,shape:()=>n})}keyof(){return mS(ut.objectKeys(this.shape))}}It.create=(e,t)=>new It({shape:()=>e,unknownKeys:"strip",catchall:is.create(),typeName:Ve.ZodObject,...Ye(t)});It.strictCreate=(e,t)=>new It({shape:()=>e,unknownKeys:"strict",catchall:is.create(),typeName:Ve.ZodObject,...Ye(t)});It.lazycreate=(e,t)=>new It({shape:e,unknownKeys:"strip",catchall:is.create(),typeName:Ve.ZodObject,...Ye(t)});class Pu extends nt{_parse(t){const{ctx:n}=this._processInputParams(t),s=this._def.options;function a(u){for(const h of u)if(h.result.status==="valid")return h.result;for(const h of u)if(h.result.status==="dirty")return n.common.issues.push(...h.ctx.common.issues),h.result;const f=u.map(h=>new ar(h.ctx.common.issues));return ve(n,{code:ae.invalid_union,unionErrors:f}),$e}if(n.common.async)return Promise.all(s.map(async u=>{const f={...n,common:{...n.common,issues:[]},parent:null};return{result:await u._parseAsync({data:n.data,path:n.path,parent:f}),ctx:f}})).then(a);{let u;const f=[];for(const g of s){const v={...n,common:{...n.common,issues:[]},parent:null},y=g._parseSync({data:n.data,path:n.path,parent:v});if(y.status==="valid")return y;y.status==="dirty"&&!u&&(u={result:y,ctx:v}),v.common.issues.length&&f.push(v.common.issues)}if(u)return n.common.issues.push(...u.ctx.common.issues),u.result;const h=f.map(g=>new ar(g));return ve(n,{code:ae.invalid_union,unionErrors:h}),$e}}get options(){return this._def.options}}Pu.create=(e,t)=>new Pu({options:e,typeName:Ve.ZodUnion,...Ye(t)});const Xi=e=>e instanceof ju?Xi(e.schema):e instanceof Gr?Xi(e.innerType()):e instanceof Tu?[e.value]:e instanceof ro?e.options:e instanceof ku?ut.objectValues(e.enum):e instanceof Eu?Xi(e._def.innerType):e instanceof bu?[void 0]:e instanceof Su?[null]:e instanceof vi?[void 0,...Xi(e.unwrap())]:e instanceof io?[null,...Xi(e.unwrap())]:e instanceof Lv||e instanceof Lu?Xi(e.unwrap()):e instanceof Au?Xi(e._def.innerType):[];class Dh extends nt{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Pe.object)return ve(n,{code:ae.invalid_type,expected:Pe.object,received:n.parsedType}),$e;const s=this.discriminator,a=n.data[s],u=this.optionsMap.get(a);return u?n.common.async?u._parseAsync({data:n.data,path:n.path,parent:n}):u._parseSync({data:n.data,path:n.path,parent:n}):(ve(n,{code:ae.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),$e)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,s){const a=new Map;for(const u of n){const f=Xi(u.shape[t]);if(!f.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const h of f){if(a.has(h))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(h)}`);a.set(h,u)}}return new Dh({typeName:Ve.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:a,...Ye(s)})}}function Tg(e,t){const n=Yi(e),s=Yi(t);if(e===t)return{valid:!0,data:e};if(n===Pe.object&&s===Pe.object){const a=ut.objectKeys(t),u=ut.objectKeys(e).filter(h=>a.indexOf(h)!==-1),f={...e,...t};for(const h of u){const g=Tg(e[h],t[h]);if(!g.valid)return{valid:!1};f[h]=g.data}return{valid:!0,data:f}}else if(n===Pe.array&&s===Pe.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let u=0;u<e.length;u++){const f=e[u],h=t[u],g=Tg(f,h);if(!g.valid)return{valid:!1};a.push(g.data)}return{valid:!0,data:a}}else return n===Pe.date&&s===Pe.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Nu extends nt{_parse(t){const{status:n,ctx:s}=this._processInputParams(t),a=(u,f)=>{if(Cg(u)||Cg(f))return $e;const h=Tg(u.value,f.value);return h.valid?((jg(u)||jg(f))&&n.dirty(),{status:n.value,value:h.data}):(ve(s,{code:ae.invalid_intersection_types}),$e)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([u,f])=>a(u,f)):a(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}Nu.create=(e,t,n)=>new Nu({left:e,right:t,typeName:Ve.ZodIntersection,...Ye(n)});class Si extends nt{_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==Pe.array)return ve(s,{code:ae.invalid_type,expected:Pe.array,received:s.parsedType}),$e;if(s.data.length<this._def.items.length)return ve(s,{code:ae.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),$e;!this._def.rest&&s.data.length>this._def.items.length&&(ve(s,{code:ae.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const u=[...s.data].map((f,h)=>{const g=this._def.items[h]||this._def.rest;return g?g._parse(new bi(s,f,s.path,h)):null}).filter(f=>!!f);return s.common.async?Promise.all(u).then(f=>Cn.mergeArray(n,f)):Cn.mergeArray(n,u)}get items(){return this._def.items}rest(t){return new Si({...this._def,rest:t})}}Si.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Si({items:e,typeName:Ve.ZodTuple,rest:null,...Ye(t)})};class Cu extends nt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==Pe.object)return ve(s,{code:ae.invalid_type,expected:Pe.object,received:s.parsedType}),$e;const a=[],u=this._def.keyType,f=this._def.valueType;for(const h in s.data)a.push({key:u._parse(new bi(s,h,s.path,h)),value:f._parse(new bi(s,s.data[h],s.path,h)),alwaysSet:h in s.data});return s.common.async?Cn.mergeObjectAsync(n,a):Cn.mergeObjectSync(n,a)}get element(){return this._def.valueType}static create(t,n,s){return n instanceof nt?new Cu({keyType:t,valueType:n,typeName:Ve.ZodRecord,...Ye(s)}):new Cu({keyType:Zr.create(),valueType:t,typeName:Ve.ZodRecord,...Ye(n)})}}class ah extends nt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==Pe.map)return ve(s,{code:ae.invalid_type,expected:Pe.map,received:s.parsedType}),$e;const a=this._def.keyType,u=this._def.valueType,f=[...s.data.entries()].map(([h,g],v)=>({key:a._parse(new bi(s,h,s.path,[v,"key"])),value:u._parse(new bi(s,g,s.path,[v,"value"]))}));if(s.common.async){const h=new Map;return Promise.resolve().then(async()=>{for(const g of f){const v=await g.key,y=await g.value;if(v.status==="aborted"||y.status==="aborted")return $e;(v.status==="dirty"||y.status==="dirty")&&n.dirty(),h.set(v.value,y.value)}return{status:n.value,value:h}})}else{const h=new Map;for(const g of f){const v=g.key,y=g.value;if(v.status==="aborted"||y.status==="aborted")return $e;(v.status==="dirty"||y.status==="dirty")&&n.dirty(),h.set(v.value,y.value)}return{status:n.value,value:h}}}}ah.create=(e,t,n)=>new ah({valueType:t,keyType:e,typeName:Ve.ZodMap,...Ye(n)});class la extends nt{_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==Pe.set)return ve(s,{code:ae.invalid_type,expected:Pe.set,received:s.parsedType}),$e;const a=this._def;a.minSize!==null&&s.data.size<a.minSize.value&&(ve(s,{code:ae.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),n.dirty()),a.maxSize!==null&&s.data.size>a.maxSize.value&&(ve(s,{code:ae.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),n.dirty());const u=this._def.valueType;function f(g){const v=new Set;for(const y of g){if(y.status==="aborted")return $e;y.status==="dirty"&&n.dirty(),v.add(y.value)}return{status:n.value,value:v}}const h=[...s.data.values()].map((g,v)=>u._parse(new bi(s,g,s.path,v)));return s.common.async?Promise.all(h).then(g=>f(g)):f(h)}min(t,n){return new la({...this._def,minSize:{value:t,message:Le.toString(n)}})}max(t,n){return new la({...this._def,maxSize:{value:t,message:Le.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}la.create=(e,t)=>new la({valueType:e,minSize:null,maxSize:null,typeName:Ve.ZodSet,...Ye(t)});class Pl extends nt{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Pe.function)return ve(n,{code:ae.invalid_type,expected:Pe.function,received:n.parsedType}),$e;function s(h,g){return rh({data:h,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,nh(),Ol].filter(v=>!!v),issueData:{code:ae.invalid_arguments,argumentsError:g}})}function a(h,g){return rh({data:h,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,nh(),Ol].filter(v=>!!v),issueData:{code:ae.invalid_return_type,returnTypeError:g}})}const u={errorMap:n.common.contextualErrorMap},f=n.data;if(this._def.returns instanceof Dl){const h=this;return Mn(async function(...g){const v=new ar([]),y=await h._def.args.parseAsync(g,u).catch(T=>{throw v.addIssue(s(g,T)),v}),w=await Reflect.apply(f,this,y);return await h._def.returns._def.type.parseAsync(w,u).catch(T=>{throw v.addIssue(a(w,T)),v})})}else{const h=this;return Mn(function(...g){const v=h._def.args.safeParse(g,u);if(!v.success)throw new ar([s(g,v.error)]);const y=Reflect.apply(f,this,v.data),w=h._def.returns.safeParse(y,u);if(!w.success)throw new ar([a(y,w.error)]);return w.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Pl({...this._def,args:Si.create(t).rest(ta.create())})}returns(t){return new Pl({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,s){return new Pl({args:t||Si.create([]).rest(ta.create()),returns:n||ta.create(),typeName:Ve.ZodFunction,...Ye(s)})}}class ju extends nt{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}ju.create=(e,t)=>new ju({getter:e,typeName:Ve.ZodLazy,...Ye(t)});class Tu extends nt{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return ve(n,{received:n.data,code:ae.invalid_literal,expected:this._def.value}),$e}return{status:"valid",value:t.data}}get value(){return this._def.value}}Tu.create=(e,t)=>new Tu({value:e,typeName:Ve.ZodLiteral,...Ye(t)});function mS(e,t){return new ro({values:e,typeName:Ve.ZodEnum,...Ye(t)})}class ro extends nt{constructor(){super(...arguments),su.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),s=this._def.values;return ve(n,{expected:ut.joinValues(s),received:n.parsedType,code:ae.invalid_type}),$e}if(ih(this,su)||uS(this,su,new Set(this._def.values)),!ih(this,su).has(t.data)){const n=this._getOrReturnCtx(t),s=this._def.values;return ve(n,{received:n.data,code:ae.invalid_enum_value,options:s}),$e}return Mn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return ro.create(t,{...this._def,...n})}exclude(t,n=this._def){return ro.create(this.options.filter(s=>!t.includes(s)),{...this._def,...n})}}su=new WeakMap;ro.create=mS;class ku extends nt{constructor(){super(...arguments),ou.set(this,void 0)}_parse(t){const n=ut.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(t);if(s.parsedType!==Pe.string&&s.parsedType!==Pe.number){const a=ut.objectValues(n);return ve(s,{expected:ut.joinValues(a),received:s.parsedType,code:ae.invalid_type}),$e}if(ih(this,ou)||uS(this,ou,new Set(ut.getValidEnumValues(this._def.values))),!ih(this,ou).has(t.data)){const a=ut.objectValues(n);return ve(s,{received:s.data,code:ae.invalid_enum_value,options:a}),$e}return Mn(t.data)}get enum(){return this._def.values}}ou=new WeakMap;ku.create=(e,t)=>new ku({values:e,typeName:Ve.ZodNativeEnum,...Ye(t)});class Dl extends nt{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Pe.promise&&n.common.async===!1)return ve(n,{code:ae.invalid_type,expected:Pe.promise,received:n.parsedType}),$e;const s=n.parsedType===Pe.promise?n.data:Promise.resolve(n.data);return Mn(s.then(a=>this._def.type.parseAsync(a,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Dl.create=(e,t)=>new Dl({type:e,typeName:Ve.ZodPromise,...Ye(t)});class Gr extends nt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ve.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:s}=this._processInputParams(t),a=this._def.effect||null,u={addIssue:f=>{ve(s,f),f.fatal?n.abort():n.dirty()},get path(){return s.path}};if(u.addIssue=u.addIssue.bind(u),a.type==="preprocess"){const f=a.transform(s.data,u);if(s.common.async)return Promise.resolve(f).then(async h=>{if(n.value==="aborted")return $e;const g=await this._def.schema._parseAsync({data:h,path:s.path,parent:s});return g.status==="aborted"?$e:g.status==="dirty"||n.value==="dirty"?hl(g.value):g});{if(n.value==="aborted")return $e;const h=this._def.schema._parseSync({data:f,path:s.path,parent:s});return h.status==="aborted"?$e:h.status==="dirty"||n.value==="dirty"?hl(h.value):h}}if(a.type==="refinement"){const f=h=>{const g=a.refinement(h,u);if(s.common.async)return Promise.resolve(g);if(g instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return h};if(s.common.async===!1){const h=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return h.status==="aborted"?$e:(h.status==="dirty"&&n.dirty(),f(h.value),{status:n.value,value:h.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(h=>h.status==="aborted"?$e:(h.status==="dirty"&&n.dirty(),f(h.value).then(()=>({status:n.value,value:h.value}))))}if(a.type==="transform")if(s.common.async===!1){const f=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!oa(f))return f;const h=a.transform(f.value,u);if(h instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:h}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(f=>oa(f)?Promise.resolve(a.transform(f.value,u)).then(h=>({status:n.value,value:h})):f);ut.assertNever(a)}}Gr.create=(e,t,n)=>new Gr({schema:e,typeName:Ve.ZodEffects,effect:t,...Ye(n)});Gr.createWithPreprocess=(e,t,n)=>new Gr({schema:t,effect:{type:"preprocess",transform:e},typeName:Ve.ZodEffects,...Ye(n)});class vi extends nt{_parse(t){return this._getType(t)===Pe.undefined?Mn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}vi.create=(e,t)=>new vi({innerType:e,typeName:Ve.ZodOptional,...Ye(t)});class io extends nt{_parse(t){return this._getType(t)===Pe.null?Mn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}io.create=(e,t)=>new io({innerType:e,typeName:Ve.ZodNullable,...Ye(t)});class Eu extends nt{_parse(t){const{ctx:n}=this._processInputParams(t);let s=n.data;return n.parsedType===Pe.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Eu.create=(e,t)=>new Eu({innerType:e,typeName:Ve.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Ye(t)});class Au extends nt{_parse(t){const{ctx:n}=this._processInputParams(t),s={...n,common:{...n.common,issues:[]}},a=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return _u(a)?a.then(u=>({status:"valid",value:u.status==="valid"?u.value:this._def.catchValue({get error(){return new ar(s.common.issues)},input:s.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new ar(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}Au.create=(e,t)=>new Au({innerType:e,typeName:Ve.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Ye(t)});class lh extends nt{_parse(t){if(this._getType(t)!==Pe.nan){const s=this._getOrReturnCtx(t);return ve(s,{code:ae.invalid_type,expected:Pe.nan,received:s.parsedType}),$e}return{status:"valid",value:t.data}}}lh.create=e=>new lh({typeName:Ve.ZodNaN,...Ye(e)});const PL=Symbol("zod_brand");class Lv extends nt{_parse(t){const{ctx:n}=this._processInputParams(t),s=n.data;return this._def.type._parse({data:s,path:n.path,parent:n})}unwrap(){return this._def.type}}class Zu extends nt{_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.common.async)return(async()=>{const u=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return u.status==="aborted"?$e:u.status==="dirty"?(n.dirty(),hl(u.value)):this._def.out._parseAsync({data:u.value,path:s.path,parent:s})})();{const a=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?$e:a.status==="dirty"?(n.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:s.path,parent:s})}}static create(t,n){return new Zu({in:t,out:n,typeName:Ve.ZodPipeline})}}class Lu extends nt{_parse(t){const n=this._def.innerType._parse(t),s=a=>(oa(a)&&(a.value=Object.freeze(a.value)),a);return _u(n)?n.then(a=>s(a)):s(n)}unwrap(){return this._def.innerType}}Lu.create=(e,t)=>new Lu({innerType:e,typeName:Ve.ZodReadonly,...Ye(t)});function f_(e,t){const n=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof n=="string"?{message:n}:n}function pS(e,t={},n){return e?Il.create().superRefine((s,a)=>{var u,f;const h=e(s);if(h instanceof Promise)return h.then(g=>{var v,y;if(!g){const w=f_(t,s),N=(y=(v=w.fatal)!==null&&v!==void 0?v:n)!==null&&y!==void 0?y:!0;a.addIssue({code:"custom",...w,fatal:N})}});if(!h){const g=f_(t,s),v=(f=(u=g.fatal)!==null&&u!==void 0?u:n)!==null&&f!==void 0?f:!0;a.addIssue({code:"custom",...g,fatal:v})}}):Il.create()}const NL={object:It.lazycreate};var Ve;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ve||(Ve={}));const CL=(e,t={message:`Input not instance of ${e.name}`})=>pS(n=>n instanceof e,t),gS=Zr.create,vS=to.create,jL=lh.create,TL=no.create,yS=wu.create,kL=aa.create,EL=sh.create,AL=bu.create,LL=Su.create,ML=Il.create,RL=ta.create,OL=is.create,IL=oh.create,DL=Wr.create,FL=It.create,zL=It.strictCreate,BL=Pu.create,VL=Dh.create,UL=Nu.create,$L=Si.create,ZL=Cu.create,WL=ah.create,HL=la.create,qL=Pl.create,KL=ju.create,GL=Tu.create,QL=ro.create,XL=ku.create,YL=Dl.create,h_=Gr.create,JL=vi.create,eM=io.create,tM=Gr.createWithPreprocess,nM=Zu.create,rM=()=>gS().optional(),iM=()=>vS().optional(),sM=()=>yS().optional(),oM={string:(e=>Zr.create({...e,coerce:!0})),number:(e=>to.create({...e,coerce:!0})),boolean:(e=>wu.create({...e,coerce:!0})),bigint:(e=>no.create({...e,coerce:!0})),date:(e=>aa.create({...e,coerce:!0}))},aM=$e;var Be=Object.freeze({__proto__:null,defaultErrorMap:Ol,setErrorMap:tL,getErrorMap:nh,makeIssue:rh,EMPTY_PATH:nL,addIssueToContext:ve,ParseStatus:Cn,INVALID:$e,DIRTY:hl,OK:Mn,isAborted:Cg,isDirty:jg,isValid:oa,isAsync:_u,get util(){return ut},get objectUtil(){return Ng},ZodParsedType:Pe,getParsedType:Yi,ZodType:nt,datetimeRegex:hS,ZodString:Zr,ZodNumber:to,ZodBigInt:no,ZodBoolean:wu,ZodDate:aa,ZodSymbol:sh,ZodUndefined:bu,ZodNull:Su,ZodAny:Il,ZodUnknown:ta,ZodNever:is,ZodVoid:oh,ZodArray:Wr,ZodObject:It,ZodUnion:Pu,ZodDiscriminatedUnion:Dh,ZodIntersection:Nu,ZodTuple:Si,ZodRecord:Cu,ZodMap:ah,ZodSet:la,ZodFunction:Pl,ZodLazy:ju,ZodLiteral:Tu,ZodEnum:ro,ZodNativeEnum:ku,ZodPromise:Dl,ZodEffects:Gr,ZodTransformer:Gr,ZodOptional:vi,ZodNullable:io,ZodDefault:Eu,ZodCatch:Au,ZodNaN:lh,BRAND:PL,ZodBranded:Lv,ZodPipeline:Zu,ZodReadonly:Lu,custom:pS,Schema:nt,ZodSchema:nt,late:NL,get ZodFirstPartyTypeKind(){return Ve},coerce:oM,any:ML,array:DL,bigint:TL,boolean:yS,date:kL,discriminatedUnion:VL,effect:h_,enum:QL,function:qL,instanceof:CL,intersection:UL,lazy:KL,literal:GL,map:WL,nan:jL,nativeEnum:XL,never:OL,null:LL,nullable:eM,number:vS,object:FL,oboolean:sM,onumber:iM,optional:JL,ostring:rM,pipeline:nM,preprocess:tM,promise:YL,record:ZL,set:HL,strictObject:zL,string:gS,symbol:EL,transformer:h_,tuple:$L,undefined:AL,union:BL,unknown:RL,void:IL,NEVER:aM,ZodIssueCode:ae,quotelessJson:eL,ZodError:ar});const re=Symbol.for("drizzle:entityKind");function un(e,t){if(!e||typeof e!="object")return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,re))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(e).constructor;if(n)for(;n;){if(re in n&&n[re]===t[re])return!0;n=Object.getPrototypeOf(n)}return!1}class Mu{constructor(t,n){this.table=t,this.config=n,this.name=n.name,this.keyAsName=n.keyAsName,this.notNull=n.notNull,this.default=n.default,this.defaultFn=n.defaultFn,this.onUpdateFn=n.onUpdateFn,this.hasDefault=n.hasDefault,this.primary=n.primaryKey,this.isUnique=n.isUnique,this.uniqueName=n.uniqueName,this.uniqueType=n.uniqueType,this.dataType=n.dataType,this.columnType=n.columnType,this.generated=n.generated,this.generatedIdentity=n.generatedIdentity}static[re]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(t){return t}mapToDriverValue(t){return t}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}class lM{static[re]="ColumnBuilder";config;constructor(t,n,s){this.config={name:t,keyAsName:t==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:n,columnType:s,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(t){return this.config.default=t,this.config.hasDefault=!0,this}$defaultFn(t){return this.config.defaultFn=t,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(t){return this.config.onUpdateFn=t,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(t){this.config.name===""&&(this.config.name=t)}}const Nl=Symbol.for("drizzle:Name");class cM{static[re]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(t,n){this.reference=()=>{const{name:s,columns:a,foreignColumns:u}=t();return{name:s,columns:a,foreignTable:u[0].table,foreignColumns:u}},n&&(this._onUpdate=n.onUpdate,this._onDelete=n.onDelete)}onUpdate(t){return this._onUpdate=t===void 0?"no action":t,this}onDelete(t){return this._onDelete=t===void 0?"no action":t,this}build(t){return new uM(t,this)}}class uM{constructor(t,n){this.table=t,this.reference=n.reference,this.onUpdate=n._onUpdate,this.onDelete=n._onDelete}static[re]="PgForeignKey";reference;onUpdate;onDelete;getName(){const{name:t,columns:n,foreignColumns:s}=this.reference(),a=n.map(h=>h.name),u=s.map(h=>h.name),f=[this.table[Nl],...a,s[0].table[Nl],...u];return t??`${f.join("_")}_fk`}}function dM(e,...t){return e(...t)}function fM(e,t){return`${e[Nl]}_${t.join("_")}_unique`}function m_(e,t,n){for(let s=t;s<e.length;s++){const a=e[s];if(a==="\\"){s++;continue}if(a==='"')return[e.slice(t,s).replace(/\\/g,""),s+1];if(!n&&(a===","||a==="}"))return[e.slice(t,s).replace(/\\/g,""),s]}return[e.slice(t).replace(/\\/g,""),e.length]}function xS(e,t=0){const n=[];let s=t,a=!1;for(;s<e.length;){const u=e[s];if(u===","){(a||s===t)&&n.push(""),a=!0,s++;continue}if(a=!1,u==="\\"){s+=2;continue}if(u==='"'){const[g,v]=m_(e,s+1,!0);n.push(g),s=v;continue}if(u==="}")return[n,s+1];if(u==="{"){const[g,v]=xS(e,s+1);n.push(g),s=v;continue}const[f,h]=m_(e,s,!1);n.push(f),s=h}return[n,s]}function hM(e){const[t]=xS(e,1);return t}function _S(e){return`{${e.map(t=>Array.isArray(t)?_S(t):typeof t=="string"?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}class mt extends lM{foreignKeyConfigs=[];static[re]="PgColumnBuilder";array(t){return new pM(this.config.name,this,t)}references(t,n={}){return this.foreignKeyConfigs.push({ref:t,actions:n}),this}unique(t,n){return this.config.isUnique=!0,this.config.uniqueName=t,this.config.uniqueType=n?.nulls,this}generatedAlwaysAs(t){return this.config.generated={as:t,type:"always",mode:"stored"},this}buildForeignKeys(t,n){return this.foreignKeyConfigs.map(({ref:s,actions:a})=>dM((u,f)=>{const h=new cM(()=>{const g=u();return{columns:[t],foreignColumns:[g]}});return f.onUpdate&&h.onUpdate(f.onUpdate),f.onDelete&&h.onDelete(f.onDelete),h.build(n)},s,a))}buildExtraConfigColumn(t){return new mM(t,this.config)}}class tt extends Mu{constructor(t,n){n.uniqueName||(n.uniqueName=fM(t,[n.name])),super(t,n),this.table=t}static[re]="PgColumn"}class mM extends tt{static[re]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(t){return this.indexConfig.opClass=t,this}}class pM extends mt{static[re]="PgArrayBuilder";constructor(t,n,s){super(t,"array","PgArray"),this.config.baseBuilder=n,this.config.size=s}build(t){const n=this.config.baseBuilder.build(t);return new Mv(t,this.config,n)}}class Mv extends tt{constructor(t,n,s,a){super(t,n),this.baseColumn=s,this.range=a,this.size=n.size}size;static[re]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(t){return typeof t=="string"&&(t=hM(t)),t.map(n=>this.baseColumn.mapFromDriverValue(n))}mapToDriverValue(t,n=!1){const s=t.map(a=>a===null?null:un(this.baseColumn,Mv)?this.baseColumn.mapToDriverValue(a,!0):this.baseColumn.mapToDriverValue(a));return n?s:_S(s)}}const p_=Symbol.for("drizzle:isPgEnum");function gM(e){return!!e&&typeof e=="function"&&p_ in e&&e[p_]===!0}class wS{static[re]="Subquery";constructor(t,n,s,a=!1){this._={brand:"Subquery",sql:t,selectedFields:n,alias:s,isWith:a}}}const vM={startActiveSpan(e,t){return t()}},Cl=Symbol.for("drizzle:ViewBaseConfig"),Fp=Symbol.for("drizzle:Schema"),g_=Symbol.for("drizzle:Columns"),v_=Symbol.for("drizzle:ExtraConfigColumns"),zp=Symbol.for("drizzle:OriginalName"),Bp=Symbol.for("drizzle:BaseName"),ch=Symbol.for("drizzle:IsAlias"),y_=Symbol.for("drizzle:ExtraConfigBuilder"),bS=Symbol.for("drizzle:IsDrizzleTable");class ir{static[re]="Table";static Symbol={Name:Nl,Schema:Fp,OriginalName:zp,Columns:g_,ExtraConfigColumns:v_,BaseName:Bp,IsAlias:ch,ExtraConfigBuilder:y_};[Nl];[zp];[Fp];[g_];[v_];[Bp];[ch]=!1;[bS]=!0;[y_]=void 0;constructor(t,n,s){this[Nl]=this[zp]=t,this[Fp]=n,this[Bp]=s}}function SS(e){return typeof e=="object"&&e!==null&&bS in e}function yM(e){return e!=null&&typeof e.getSQL=="function"}function xM(e){const t={sql:"",params:[]};for(const n of e)t.sql+=n.sql,t.params.push(...n.params),n.typings?.length&&(t.typings||(t.typings=[]),t.typings.push(...n.typings));return t}class Ur{static[re]="StringChunk";value;constructor(t){this.value=Array.isArray(t)?t:[t]}getSQL(){return new Vt([this])}}class Vt{constructor(t){this.queryChunks=t}static[re]="SQL";decoder=PS;shouldInlineParams=!1;append(t){return this.queryChunks.push(...t.queryChunks),this}toQuery(t){return vM.startActiveSpan("drizzle.buildSQL",n=>{const s=this.buildQueryFromSourceParams(this.queryChunks,t);return n?.setAttributes({"drizzle.query.text":s.sql,"drizzle.query.params":JSON.stringify(s.params)}),s})}buildQueryFromSourceParams(t,n){const s=Object.assign({},n,{inlineParams:n.inlineParams||this.shouldInlineParams,paramStartIndex:n.paramStartIndex||{value:0}}),{casing:a,escapeName:u,escapeParam:f,prepareTyping:h,inlineParams:g,paramStartIndex:v}=s;return xM(t.map(y=>{if(un(y,Ur))return{sql:y.value.join(""),params:[]};if(un(y,kg))return{sql:u(y.value),params:[]};if(y===void 0)return{sql:"",params:[]};if(Array.isArray(y)){const w=[new Ur("(")];for(const[N,T]of y.entries())w.push(T),N<y.length-1&&w.push(new Ur(", "));return w.push(new Ur(")")),this.buildQueryFromSourceParams(w,s)}if(un(y,Vt))return this.buildQueryFromSourceParams(y.queryChunks,{...s,inlineParams:g||y.shouldInlineParams});if(un(y,ir)){const w=y[ir.Symbol.Schema],N=y[ir.Symbol.Name];return{sql:w===void 0||y[ch]?u(N):u(w)+"."+u(N),params:[]}}if(un(y,Mu)){const w=a.getColumnCasing(y);if(n.invokeSource==="indexes")return{sql:u(w),params:[]};const N=y.table[ir.Symbol.Schema];return{sql:y.table[ch]||N===void 0?u(y.table[ir.Symbol.Name])+"."+u(w):u(N)+"."+u(y.table[ir.Symbol.Name])+"."+u(w),params:[]}}if(un(y,_M)){const w=y[Cl].schema,N=y[Cl].name;return{sql:w===void 0||y[Cl].isAlias?u(N):u(w)+"."+u(N),params:[]}}if(un(y,CS)){if(un(y.value,Eg))return{sql:f(v.value++,y),params:[y],typings:["none"]};const w=y.value===null?null:y.encoder.mapToDriverValue(y.value);if(un(w,Vt))return this.buildQueryFromSourceParams([w],s);if(g)return{sql:this.mapInlineParam(w,s),params:[]};let N=["none"];return h&&(N=[h(y.encoder)]),{sql:f(v.value++,w),params:[w],typings:N}}return un(y,Eg)?{sql:f(v.value++,y),params:[y],typings:["none"]}:un(y,Vt.Aliased)&&y.fieldAlias!==void 0?{sql:u(y.fieldAlias),params:[]}:un(y,wS)?y._.isWith?{sql:u(y._.alias),params:[]}:this.buildQueryFromSourceParams([new Ur("("),y._.sql,new Ur(") "),new kg(y._.alias)],s):gM(y)?y.schema?{sql:u(y.schema)+"."+u(y.enumName),params:[]}:{sql:u(y.enumName),params:[]}:yM(y)?y.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([y.getSQL()],s):this.buildQueryFromSourceParams([new Ur("("),y.getSQL(),new Ur(")")],s):g?{sql:this.mapInlineParam(y,s),params:[]}:{sql:f(v.value++,y),params:[y],typings:["none"]}}))}mapInlineParam(t,{escapeString:n}){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return t.toString();if(typeof t=="string")return n(t);if(typeof t=="object"){const s=t.toString();return n(s==="[object Object]"?JSON.stringify(t):s)}throw new Error("Unexpected param value: "+t)}getSQL(){return this}as(t){return t===void 0?this:new Vt.Aliased(this,t)}mapWith(t){return this.decoder=typeof t=="function"?{mapFromDriverValue:t}:t,this}inlineParams(){return this.shouldInlineParams=!0,this}if(t){return t?this:void 0}}class kg{constructor(t){this.value=t}static[re]="Name";brand;getSQL(){return new Vt([this])}}const PS={mapFromDriverValue:e=>e},NS={mapToDriverValue:e=>e};({...PS,...NS});class CS{constructor(t,n=NS){this.value=t,this.encoder=n}static[re]="Param";brand;getSQL(){return new Vt([this])}}function uh(e,...t){const n=[];(t.length>0||e.length>0&&e[0]!=="")&&n.push(new Ur(e[0]));for(const[s,a]of t.entries())n.push(a,new Ur(e[s+1]));return new Vt(n)}(e=>{function t(){return new Vt([])}e.empty=t;function n(g){return new Vt(g)}e.fromList=n;function s(g){return new Vt([new Ur(g)])}e.raw=s;function a(g,v){const y=[];for(const[w,N]of g.entries())w>0&&v!==void 0&&y.push(v),y.push(N);return new Vt(y)}e.join=a;function u(g){return new kg(g)}e.identifier=u;function f(g){return new Eg(g)}e.placeholder=f;function h(g,v){return new CS(g,v)}e.param=h})(uh||(uh={}));(e=>{class t{constructor(s,a){this.sql=s,this.fieldAlias=a}static[re]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new t(this.sql,this.fieldAlias)}}e.Aliased=t})(Vt||(Vt={}));class Eg{constructor(t){this.name=t}static[re]="Placeholder";getSQL(){return new Vt([this])}}const jS=Symbol.for("drizzle:IsDrizzleView");class _M{static[re]="View";[Cl];[jS]=!0;constructor({name:t,schema:n,selectedFields:s,query:a}){this[Cl]={name:t,originalName:t,schema:n,selectedFields:s,query:a,isExisting:!a,isAlias:!1}}getSQL(){return new Vt([this])}}function wM(e){return typeof e=="object"&&e!==null&&jS in e}Mu.prototype.getSQL=function(){return new Vt([this])};ir.prototype.getSQL=function(){return new Vt([this])};wS.prototype.getSQL=function(){return new Vt([this])};function bM(e){return e[ir.Symbol.Columns]}function SM(e){return e[Cl].selectedFields}function an(e,t){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:t}}class Fh extends mt{static[re]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(t){if(t){const{name:n,...s}=t;this.config.generatedIdentity={type:"always",sequenceName:n,sequenceOptions:s}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(t){if(t){const{name:n,...s}=t;this.config.generatedIdentity={type:"byDefault",sequenceName:n,sequenceOptions:s}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}class PM extends Fh{static[re]="PgBigInt53Builder";constructor(t){super(t,"number","PgBigInt53")}build(t){return new NM(t,this.config)}}class NM extends tt{static[re]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}class CM extends Fh{static[re]="PgBigInt64Builder";constructor(t){super(t,"bigint","PgBigInt64")}build(t){return new jM(t,this.config)}}class jM extends tt{static[re]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(t){return BigInt(t)}}function TM(e,t){const{name:n,config:s}=an(e,t);return s.mode==="number"?new PM(n):new CM(n)}class kM extends mt{static[re]="PgBigSerial53Builder";constructor(t){super(t,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new EM(t,this.config)}}class EM extends tt{static[re]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}class AM extends mt{static[re]="PgBigSerial64Builder";constructor(t){super(t,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(t){return new LM(t,this.config)}}class LM extends tt{static[re]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(t){return BigInt(t)}}function MM(e,t){const{name:n,config:s}=an(e,t);return s.mode==="number"?new kM(n):new AM(n)}class RM extends mt{static[re]="PgBooleanBuilder";constructor(t){super(t,"boolean","PgBoolean")}build(t){return new OM(t,this.config)}}class OM extends tt{static[re]="PgBoolean";getSQLType(){return"boolean"}}function Rv(e){return new RM(e??"")}class IM extends mt{static[re]="PgCharBuilder";constructor(t,n){super(t,"string","PgChar"),this.config.length=n.length,this.config.enumValues=n.enum}build(t){return new DM(t,this.config)}}class DM extends tt{static[re]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}function FM(e,t={}){const{name:n,config:s}=an(e,t);return new IM(n,s)}class zM extends mt{static[re]="PgCidrBuilder";constructor(t){super(t,"string","PgCidr")}build(t){return new BM(t,this.config)}}class BM extends tt{static[re]="PgCidr";getSQLType(){return"cidr"}}function VM(e){return new zM(e??"")}class UM extends mt{static[re]="PgCustomColumnBuilder";constructor(t,n,s){super(t,"custom","PgCustomColumn"),this.config.fieldConfig=n,this.config.customTypeParams=s}build(t){return new $M(t,this.config)}}class $M extends tt{static[re]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(t,n){super(t,n),this.sqlName=n.customTypeParams.dataType(n.fieldConfig),this.mapTo=n.customTypeParams.toDriver,this.mapFrom=n.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(t){return typeof this.mapFrom=="function"?this.mapFrom(t):t}mapToDriverValue(t){return typeof this.mapTo=="function"?this.mapTo(t):t}}function ZM(e){return(t,n)=>{const{name:s,config:a}=an(t,n);return new UM(s,a,e)}}class Wu extends mt{static[re]="PgDateColumnBaseBuilder";defaultNow(){return this.default(uh`now()`)}}class WM extends Wu{static[re]="PgDateBuilder";constructor(t){super(t,"date","PgDate")}build(t){return new HM(t,this.config)}}class HM extends tt{static[re]="PgDate";getSQLType(){return"date"}mapFromDriverValue(t){return new Date(t)}mapToDriverValue(t){return t.toISOString()}}class qM extends Wu{static[re]="PgDateStringBuilder";constructor(t){super(t,"string","PgDateString")}build(t){return new KM(t,this.config)}}class KM extends tt{static[re]="PgDateString";getSQLType(){return"date"}}function GM(e,t){const{name:n,config:s}=an(e,t);return s?.mode==="date"?new WM(n):new qM(n)}class QM extends mt{static[re]="PgDoublePrecisionBuilder";constructor(t){super(t,"number","PgDoublePrecision")}build(t){return new XM(t,this.config)}}class XM extends tt{static[re]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(t){return typeof t=="string"?Number.parseFloat(t):t}}function YM(e){return new QM(e??"")}class JM extends mt{static[re]="PgInetBuilder";constructor(t){super(t,"string","PgInet")}build(t){return new eR(t,this.config)}}class eR extends tt{static[re]="PgInet";getSQLType(){return"inet"}}function tR(e){return new JM(e??"")}class nR extends Fh{static[re]="PgIntegerBuilder";constructor(t){super(t,"number","PgInteger")}build(t){return new rR(t,this.config)}}class rR extends tt{static[re]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(t){return typeof t=="string"?Number.parseInt(t):t}}function jr(e){return new nR(e??"")}class iR extends mt{static[re]="PgIntervalBuilder";constructor(t,n){super(t,"string","PgInterval"),this.config.intervalConfig=n}build(t){return new sR(t,this.config)}}class sR extends tt{static[re]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){const t=this.fields?` ${this.fields}`:"",n=this.precision?`(${this.precision})`:"";return`interval${t}${n}`}}function oR(e,t={}){const{name:n,config:s}=an(e,t);return new iR(n,s)}class aR extends mt{static[re]="PgJsonBuilder";constructor(t){super(t,"json","PgJson")}build(t){return new lR(t,this.config)}}class lR extends tt{static[re]="PgJson";constructor(t,n){super(t,n)}getSQLType(){return"json"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}function cR(e){return new aR(e??"")}class uR extends mt{static[re]="PgJsonbBuilder";constructor(t){super(t,"json","PgJsonb")}build(t){return new dR(t,this.config)}}class dR extends tt{static[re]="PgJsonb";constructor(t,n){super(t,n)}getSQLType(){return"jsonb"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}function fR(e){return new uR(e??"")}class hR extends mt{static[re]="PgLineBuilder";constructor(t){super(t,"array","PgLine")}build(t){return new mR(t,this.config)}}class mR extends tt{static[re]="PgLine";getSQLType(){return"line"}mapFromDriverValue(t){const[n,s,a]=t.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(s),Number.parseFloat(a)]}mapToDriverValue(t){return`{${t[0]},${t[1]},${t[2]}}`}}class pR extends mt{static[re]="PgLineABCBuilder";constructor(t){super(t,"json","PgLineABC")}build(t){return new gR(t,this.config)}}class gR extends tt{static[re]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(t){const[n,s,a]=t.slice(1,-1).split(",");return{a:Number.parseFloat(n),b:Number.parseFloat(s),c:Number.parseFloat(a)}}mapToDriverValue(t){return`{${t.a},${t.b},${t.c}}`}}function vR(e,t){const{name:n,config:s}=an(e,t);return!s?.mode||s.mode==="tuple"?new hR(n):new pR(n)}class yR extends mt{static[re]="PgMacaddrBuilder";constructor(t){super(t,"string","PgMacaddr")}build(t){return new xR(t,this.config)}}class xR extends tt{static[re]="PgMacaddr";getSQLType(){return"macaddr"}}function _R(e){return new yR(e??"")}class wR extends mt{static[re]="PgMacaddr8Builder";constructor(t){super(t,"string","PgMacaddr8")}build(t){return new bR(t,this.config)}}class bR extends tt{static[re]="PgMacaddr8";getSQLType(){return"macaddr8"}}function SR(e){return new wR(e??"")}class PR extends mt{static[re]="PgNumericBuilder";constructor(t,n,s){super(t,"string","PgNumeric"),this.config.precision=n,this.config.scale=s}build(t){return new NR(t,this.config)}}class NR extends tt{static[re]="PgNumeric";precision;scale;constructor(t,n){super(t,n),this.precision=n.precision,this.scale=n.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}function CR(e,t){const{name:n,config:s}=an(e,t);return new PR(n,s?.precision,s?.scale)}class jR extends mt{static[re]="PgPointTupleBuilder";constructor(t){super(t,"array","PgPointTuple")}build(t){return new TR(t,this.config)}}class TR extends tt{static[re]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[n,s]=t.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(s)]}return[t.x,t.y]}mapToDriverValue(t){return`(${t[0]},${t[1]})`}}class kR extends mt{static[re]="PgPointObjectBuilder";constructor(t){super(t,"json","PgPointObject")}build(t){return new ER(t,this.config)}}class ER extends tt{static[re]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[n,s]=t.slice(1,-1).split(",");return{x:Number.parseFloat(n),y:Number.parseFloat(s)}}return t}mapToDriverValue(t){return`(${t.x},${t.y})`}}function AR(e,t){const{name:n,config:s}=an(e,t);return!s?.mode||s.mode==="tuple"?new jR(n):new kR(n)}function LR(e){const t=[];for(let n=0;n<e.length;n+=2)t.push(Number.parseInt(e.slice(n,n+2),16));return new Uint8Array(t)}function x_(e,t){const n=new ArrayBuffer(8),s=new DataView(n);for(let a=0;a<8;a++)s.setUint8(a,e[t+a]);return s.getFloat64(0,!0)}function TS(e){const t=LR(e);let n=0;const s=t[n];n+=1;const a=new DataView(t.buffer),u=a.getUint32(n,s===1);if(n+=4,u&536870912&&(a.getUint32(n,s===1),n+=4),(u&65535)===1){const f=x_(t,n);n+=8;const h=x_(t,n);return n+=8,[f,h]}throw new Error("Unsupported geometry type")}class MR extends mt{static[re]="PgGeometryBuilder";constructor(t){super(t,"array","PgGeometry")}build(t){return new RR(t,this.config)}}class RR extends tt{static[re]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(t){return TS(t)}mapToDriverValue(t){return`point(${t[0]} ${t[1]})`}}class OR extends mt{static[re]="PgGeometryObjectBuilder";constructor(t){super(t,"json","PgGeometryObject")}build(t){return new IR(t,this.config)}}class IR extends tt{static[re]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(t){const n=TS(t);return{x:n[0],y:n[1]}}mapToDriverValue(t){return`point(${t.x} ${t.y})`}}function DR(e,t){const{name:n,config:s}=an(e,t);return!s?.mode||s.mode==="tuple"?new MR(n):new OR(n)}class FR extends mt{static[re]="PgRealBuilder";constructor(t,n){super(t,"number","PgReal"),this.config.length=n}build(t){return new zR(t,this.config)}}class zR extends tt{static[re]="PgReal";constructor(t,n){super(t,n)}getSQLType(){return"real"}mapFromDriverValue=t=>typeof t=="string"?Number.parseFloat(t):t}function Ag(e){return new FR(e??"")}class BR extends mt{static[re]="PgSerialBuilder";constructor(t){super(t,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new VR(t,this.config)}}class VR extends tt{static[re]="PgSerial";getSQLType(){return"serial"}}function Yr(e){return new BR(e??"")}class UR extends Fh{static[re]="PgSmallIntBuilder";constructor(t){super(t,"number","PgSmallInt")}build(t){return new $R(t,this.config)}}class $R extends tt{static[re]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=t=>typeof t=="string"?Number(t):t}function ZR(e){return new UR(e??"")}class WR extends mt{static[re]="PgSmallSerialBuilder";constructor(t){super(t,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new HR(t,this.config)}}class HR extends tt{static[re]="PgSmallSerial";getSQLType(){return"smallserial"}}function qR(e){return new WR(e??"")}class KR extends mt{static[re]="PgTextBuilder";constructor(t,n){super(t,"string","PgText"),this.config.enumValues=n.enum}build(t){return new GR(t,this.config)}}class GR extends tt{static[re]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}function Ke(e,t={}){const{name:n,config:s}=an(e,t);return new KR(n,s)}class QR extends Wu{constructor(t,n,s){super(t,"string","PgTime"),this.withTimezone=n,this.precision=s,this.config.withTimezone=n,this.config.precision=s}static[re]="PgTimeBuilder";build(t){return new XR(t,this.config)}}class XR extends tt{static[re]="PgTime";withTimezone;precision;constructor(t,n){super(t,n),this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function YR(e,t={}){const{name:n,config:s}=an(e,t);return new QR(n,s.withTimezone??!1,s.precision)}class JR extends Wu{static[re]="PgTimestampBuilder";constructor(t,n,s){super(t,"date","PgTimestamp"),this.config.withTimezone=n,this.config.precision=s}build(t){return new eO(t,this.config)}}class eO extends tt{static[re]="PgTimestamp";withTimezone;precision;constructor(t,n){super(t,n),this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=t=>new Date(this.withTimezone?t:t+"+0000");mapToDriverValue=t=>t.toISOString()}class tO extends Wu{static[re]="PgTimestampStringBuilder";constructor(t,n,s){super(t,"string","PgTimestampString"),this.config.withTimezone=n,this.config.precision=s}build(t){return new nO(t,this.config)}}class nO extends tt{static[re]="PgTimestampString";withTimezone;precision;constructor(t,n){super(t,n),this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function Qr(e,t={}){const{name:n,config:s}=an(e,t);return s?.mode==="string"?new tO(n,s.withTimezone??!1,s.precision):new JR(n,s?.withTimezone??!1,s?.precision)}class rO extends mt{static[re]="PgUUIDBuilder";constructor(t){super(t,"string","PgUUID")}defaultRandom(){return this.default(uh`gen_random_uuid()`)}build(t){return new iO(t,this.config)}}class iO extends tt{static[re]="PgUUID";getSQLType(){return"uuid"}}function sO(e){return new rO(e??"")}class oO extends mt{static[re]="PgVarcharBuilder";constructor(t,n){super(t,"string","PgVarchar"),this.config.length=n.length,this.config.enumValues=n.enum}build(t){return new aO(t,this.config)}}class aO extends tt{static[re]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}function lO(e,t={}){const{name:n,config:s}=an(e,t);return new oO(n,s)}class cO extends mt{static[re]="PgBinaryVectorBuilder";constructor(t,n){super(t,"string","PgBinaryVector"),this.config.dimensions=n.dimensions}build(t){return new uO(t,this.config)}}class uO extends tt{static[re]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}function dO(e,t){const{name:n,config:s}=an(e,t);return new cO(n,s)}class fO extends mt{static[re]="PgHalfVectorBuilder";constructor(t,n){super(t,"array","PgHalfVector"),this.config.dimensions=n.dimensions}build(t){return new hO(t,this.config)}}class hO extends tt{static[re]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){return t.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}function mO(e,t){const{name:n,config:s}=an(e,t);return new fO(n,s)}class pO extends mt{static[re]="PgSparseVectorBuilder";constructor(t,n){super(t,"string","PgSparseVector"),this.config.dimensions=n.dimensions}build(t){return new gO(t,this.config)}}class gO extends tt{static[re]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}function vO(e,t){const{name:n,config:s}=an(e,t);return new pO(n,s)}class yO extends mt{static[re]="PgVectorBuilder";constructor(t,n){super(t,"array","PgVector"),this.config.dimensions=n.dimensions}build(t){return new xO(t,this.config)}}class xO extends tt{static[re]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){return t.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}function _O(e,t){const{name:n,config:s}=an(e,t);return new yO(n,s)}function wO(){return{bigint:TM,bigserial:MM,boolean:Rv,char:FM,cidr:VM,customType:ZM,date:GM,doublePrecision:YM,inet:tR,integer:jr,interval:oR,json:cR,jsonb:fR,line:vR,macaddr:_R,macaddr8:SR,numeric:CR,point:AR,geometry:DR,real:Ag,serial:Yr,smallint:ZR,smallserial:qR,text:Ke,time:YR,timestamp:Qr,uuid:sO,varchar:lO,bit:dO,halfvec:mO,sparsevec:vO,vector:_O}}const Lg=Symbol.for("drizzle:PgInlineForeignKeys"),__=Symbol.for("drizzle:EnableRLS");class w_ extends ir{static[re]="PgTable";static Symbol=Object.assign({},ir.Symbol,{InlineForeignKeys:Lg,EnableRLS:__});[Lg]=[];[__]=!1;[ir.Symbol.ExtraConfigBuilder]=void 0}function bO(e,t,n,s,a=e){const u=new w_(e,s,a),f=typeof t=="function"?t(wO()):t,h=Object.fromEntries(Object.entries(f).map(([y,w])=>{const N=w;N.setName(y);const T=N.build(u);return u[Lg].push(...N.buildForeignKeys(T,u)),[y,T]})),g=Object.fromEntries(Object.entries(f).map(([y,w])=>{const N=w;N.setName(y);const T=N.buildExtraConfigColumn(u);return[y,T]})),v=Object.assign(u,h);return v[ir.Symbol.Columns]=h,v[ir.Symbol.ExtraConfigColumns]=g,Object.assign(v,{enableRLS:()=>(v[w_.Symbol.EnableRLS]=!0,v)})}const Ni=(e,t,n)=>bO(e,t,n,void 0),Ot={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function Wt(e,t){return t.includes(e.columnType)}function SO(e){return"enumValues"in e&&Array.isArray(e.enumValues)&&e.enumValues.length>0}const PO=Be.union([Be.string(),Be.number(),Be.boolean(),Be.null()]),NO=Be.union([PO,Be.record(Be.any()),Be.array(Be.any())]),CO=Be.custom(e=>e instanceof Buffer);function kS(e,t){const n=t?.zodInstance??Be,s=t?.coerce??{};let a;return SO(e)&&(a=e.enumValues.length?n.enum(e.enumValues):n.string()),a||(Wt(e,["PgGeometry","PgPointTuple"])?a=n.tuple([n.number(),n.number()]):Wt(e,["PgGeometryObject","PgPointObject"])?a=n.object({x:n.number(),y:n.number()}):Wt(e,["PgHalfVector","PgVector"])?(a=n.array(n.number()),a=e.dimensions?a.length(e.dimensions):a):Wt(e,["PgLine"])?a=n.tuple([n.number(),n.number(),n.number()]):Wt(e,["PgLineABC"])?a=n.object({a:n.number(),b:n.number(),c:n.number()}):Wt(e,["PgArray"])?(a=n.array(kS(e.baseColumn,n)),a=e.size?a.length(e.size):a):e.dataType==="array"?a=n.array(n.any()):e.dataType==="number"?a=jO(e,n,s):e.dataType==="bigint"?a=TO(e,n,s):e.dataType==="boolean"?a=s===!0||s.boolean?n.coerce.boolean():n.boolean():e.dataType==="date"?a=s===!0||s.date?n.coerce.date():n.date():e.dataType==="string"?a=kO(e,n,s):e.dataType==="json"?a=NO:e.dataType==="custom"?a=n.any():e.dataType==="buffer"&&(a=CO)),a||(a=n.any()),a}function jO(e,t,n){let s=e.getSQLType().includes("unsigned"),a,u,f=!1;Wt(e,["MySqlTinyInt","SingleStoreTinyInt"])?(a=s?0:Ot.INT8_MIN,u=s?Ot.INT8_UNSIGNED_MAX:Ot.INT8_MAX,f=!0):Wt(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(a=s?0:Ot.INT16_MIN,u=s?Ot.INT16_UNSIGNED_MAX:Ot.INT16_MAX,f=!0):Wt(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(a=s?0:Ot.INT24_MIN,u=s?Ot.INT24_UNSIGNED_MAX:Ot.INT24_MAX,f=Wt(e,["MySqlMediumInt","SingleStoreMediumInt"])):Wt(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(a=s?0:Ot.INT32_MIN,u=s?Ot.INT32_UNSIGNED_MAX:Ot.INT32_MAX,f=!0):Wt(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(a=s?0:Ot.INT48_MIN,u=s?Ot.INT48_UNSIGNED_MAX:Ot.INT48_MAX):Wt(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(s=s||Wt(e,["MySqlSerial","SingleStoreSerial"]),a=s?0:Number.MIN_SAFE_INTEGER,u=Number.MAX_SAFE_INTEGER,f=!0):Wt(e,["MySqlYear","SingleStoreYear"])?(a=1901,u=2155,f=!0):(a=Number.MIN_SAFE_INTEGER,u=Number.MAX_SAFE_INTEGER);let h=n===!0||n?.number?t.coerce.number():t.number();return h=h.min(a).max(u),f?h.int():h}function TO(e,t,n){const s=e.getSQLType().includes("unsigned"),a=s?0n:Ot.INT64_MIN,u=s?Ot.INT64_UNSIGNED_MAX:Ot.INT64_MAX;return(n===!0||n?.bigint?t.coerce.bigint():t.bigint()).min(a).max(u)}function kO(e,t,n){if(Wt(e,["PgUUID"]))return t.string().uuid();let s,a,u=!1;Wt(e,["PgVarchar","SQLiteText"])?s=e.length:Wt(e,["MySqlVarChar","SingleStoreVarChar"])?s=e.length??Ot.INT16_UNSIGNED_MAX:Wt(e,["MySqlText","SingleStoreText"])&&(e.textType==="longtext"?s=Ot.INT32_UNSIGNED_MAX:e.textType==="mediumtext"?s=Ot.INT24_UNSIGNED_MAX:e.textType==="text"?s=Ot.INT16_UNSIGNED_MAX:s=Ot.INT8_UNSIGNED_MAX),Wt(e,["PgChar","MySqlChar","SingleStoreChar"])&&(s=e.length,u=!0),Wt(e,["PgBinaryVector"])&&(a=/^[01]+$/,s=e.dimensions);let f=n===!0||n?.string?t.coerce.string():t.string();return f=a?f.regex(a):f,s&&u?f.length(s):s?f.max(s):f}function ES(e){return SS(e)?bM(e):SM(e)}function AS(e,t,n,s){const a={};for(const[u,f]of Object.entries(e)){if(!un(f,Mu)&&!un(f,Vt)&&!un(f,Vt.Aliased)&&typeof f=="object"){const w=SS(f)||wM(f)?ES(f):f;a[u]=AS(w,t[u]??{},n,s);continue}const h=t[u];if(h!==void 0&&typeof h!="function"){a[u]=h;continue}const g=un(f,Mu)?f:void 0,v=g?kS(g,s):Be.any(),y=typeof h=="function"?h(v):v;n.never(g)||(a[u]=y,g&&(n.nullable(g)&&(a[u]=a[u].nullable()),n.optional(g)&&(a[u]=a[u].optional())))}return Be.object(a)}const EO={never:e=>e?.generated?.type==="always"||e?.generatedIdentity?.type==="always",optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},cs=(e,t)=>{const n=ES(e);return AS(n,{},EO)},AO=Ni("admin_users",{id:Yr("id").primaryKey(),username:Ke("username").notNull().unique(),passwordHash:Ke("password_hash").notNull(),createdAt:Qr("created_at").defaultNow(),lastLoginAt:Qr("last_login_at")}),LO=Ni("app_settings",{id:Yr("id").primaryKey(),key:Ke("key").notNull().unique(),value:Ke("value").notNull(),updatedAt:Qr("updated_at").defaultNow()});Ni("visitor_counter",{id:Yr("id").primaryKey(),count:jr("count").default(0).notNull()});const LS=Ni("cities",{id:Yr("id").primaryKey(),name:Ke("name").notNull(),nameEn:Ke("name_en").notNull(),slug:Ke("slug").notNull().unique()}),MS=Ni("categories",{id:Yr("id").primaryKey(),name:Ke("name").notNull(),nameEn:Ke("name_en"),slug:Ke("slug").notNull().unique(),icon:Ke("icon").notNull(),imageUrl:Ke("image_url"),keywords:Ke("keywords").array(),keywordsEn:Ke("keywords_en").array(),sortOrder:jr("sort_order").default(0)}),Ov=Ni("businesses",{id:Yr("id").primaryKey(),categoryId:jr("category_id").references(()=>MS.id).notNull(),cityId:jr("city_id").references(()=>LS.id),name:Ke("name").notNull(),nameEn:Ke("name_en"),description:Ke("description"),descriptionEn:Ke("description_en"),address:Ke("address"),addressEn:Ke("address_en"),phone:Ke("phone"),whatsapp:Ke("whatsapp"),imageUrl:Ke("image_url"),storefrontImageUrl:Ke("storefront_image_url"),galleryImages:Ke("gallery_images").array(),isVerified:Rv("is_verified").default(!1),latitude:Ag("latitude"),longitude:Ag("longitude"),workingHoursJson:Ke("working_hours_json"),website:Ke("website"),instagram:Ke("instagram"),facebook:Ke("facebook"),tiktok:Ke("tiktok"),services:Ke("services").array(),servicesEn:Ke("services_en").array(),sortOrder:jr("sort_order").default(0),joinDate:Qr("join_date").defaultNow(),subscriptionActivatedAt:Qr("subscription_activated_at"),subscriptionTier:Ke("subscription_tier").default("trial")}),MO=Ni("reviews",{id:Yr("id").primaryKey(),businessId:jr("business_id").references(()=>Ov.id).notNull(),visitorName:Ke("visitor_name").notNull(),rating:jr("rating").notNull(),comment:Ke("comment"),createdAt:Qr("created_at").defaultNow()}),RS=Ni("offers",{id:Yr("id").primaryKey(),businessId:jr("business_id").references(()=>Ov.id).notNull(),title:Ke("title").notNull(),description:Ke("description"),imageUrl:Ke("image_url"),validUntil:Qr("valid_until"),isActive:Rv("is_active").default(!0),createdAt:Qr("created_at").defaultNow()}),RO=Ni("activity_logs",{id:Yr("id").primaryKey(),action:Ke("action").notNull(),entityType:Ke("entity_type").notNull(),entityId:jr("entity_id"),entityName:Ke("entity_name"),details:Ke("details"),adminUsername:Ke("admin_username"),createdAt:Qr("created_at").defaultNow()}),OO=Ni("offer_ratings",{id:Yr("id").primaryKey(),offerId:jr("offer_id").references(()=>RS.id).notNull(),visitorName:Ke("visitor_name").notNull(),rating:jr("rating").notNull(),createdAt:Qr("created_at").defaultNow()});cs(LS).omit({id:!0});cs(MS).omit({id:!0,sortOrder:!0});cs(Ov).omit({id:!0,sortOrder:!0});cs(MO).omit({id:!0,createdAt:!0}).extend({rating:Be.number().int().min(1).max(5),visitorName:Be.string().min(1).max(100),comment:Be.string().max(1e3).optional()});cs(RS).omit({id:!0,createdAt:!0});cs(AO).omit({id:!0,createdAt:!0,lastLoginAt:!0});cs(LO).omit({id:!0,updatedAt:!0});cs(RO).omit({id:!0,createdAt:!0});cs(OO).omit({id:!0,createdAt:!0}).extend({rating:Be.number().int().min(1).max(5),visitorName:Be.string().min(1).max(100)});Be.object({username:Be.string().min(1),password:Be.string().min(6)});function Iv(e){if(!e)return null;try{return JSON.parse(e)}catch{return null}}function OS(e){if(!e)return!0;const t=new Date,s=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][t.getDay()],a=e[s];if(!a||!a.isOpen)return!1;if(!a.openTime||!a.closeTime)return a.isOpen;const u=t.getHours()*60+t.getMinutes(),[f,h]=a.openTime.split(":").map(Number),[g,v]=a.closeTime.split(":").map(Number),y=f*60+h,w=g*60+v;return w<y?u>=y||u<=w:u>=y&&u<=w}function ml(e,t,n){const s=new Date,a=n||"trial",u=e?new Date(e):s,f=60,h=30,g=Math.floor((s.getTime()-u.getTime())/(1e3*60*60*24)),v=Math.max(0,f-g);if(a==="trial")return v>0?{status:"trial",tier:"trial",daysRemaining:v,isVip:!1,canAddOffers:!1}:{status:"trial_expired",tier:"trial",daysRemaining:0,isVip:!1,canAddOffers:!1};if(t){const y=new Date(t),w=Math.floor((s.getTime()-y.getTime())/(1e3*60*60*24)),N=Math.max(0,h-w);return N>0?{status:"active",tier:a,daysRemaining:N,isVip:a==="vip",canAddOffers:a==="vip"}:{status:"expired",tier:a,daysRemaining:0,isVip:!1,canAddOffers:!1}}return{status:"expired",tier:a,daysRemaining:0,isVip:!1,canAddOffers:!1}}Be.object({message:Be.string(),field:Be.string().optional()}),Be.object({message:Be.string()}),Be.object({message:Be.string()});const Hr={categories:{list:{path:"/api/categories",responses:{200:Be.array(Be.custom())}},get:{path:"/api/categories/:id",responses:{200:Be.custom()}}},businesses:{list:{path:"/api/businesses",input:Be.object({categoryId:Be.coerce.number().optional(),search:Be.string().optional(),minRating:Be.coerce.number().optional()}).optional(),responses:{200:Be.array(Be.custom())}},get:{path:"/api/businesses/:id",responses:{200:Be.custom()}},withLocation:{responses:{200:Be.array(Be.custom())}}},reviews:{list:{responses:{200:Be.array(Be.custom())}},create:{responses:{201:Be.custom()}}},offers:{list:{responses:{200:Be.array(Be.custom())}},active:{responses:{200:Be.array(Be.custom())}},byBusiness:{responses:{200:Be.array(Be.custom())}}}};function IS(e,t){let n=e;return t&&Object.entries(t).forEach(([s,a])=>{n.includes(`:${s}`)&&(n=n.replace(`:${s}`,String(a)))}),n}function IO(){return vt({queryKey:["/api/cities"],queryFn:async()=>{const e=await fetch("/api/cities");if(!e.ok)throw new Error("Failed to fetch cities");return e.json()}})}function Dv(){return vt({queryKey:[Hr.categories.list.path],queryFn:async()=>{const e=await fetch(Hr.categories.list.path);if(!e.ok)throw new Error("Failed to fetch categories");return e.json()}})}function DO(e){return vt({queryKey:[Hr.categories.get.path,e],queryFn:async()=>{const t=IS(Hr.categories.get.path,{id:e}),n=await fetch(t);if(n.status===404)return null;if(!n.ok)throw new Error("Failed to fetch category");return Hr.categories.get.responses[200].parse(await n.json())},enabled:!!e})}function zh(e){const t=[Hr.businesses.list.path,e];return vt({queryKey:t,queryFn:async()=>{const n=new URLSearchParams;e?.categoryId&&n.append("categoryId",String(e.categoryId)),e?.search&&n.append("search",e.search),e?.minRating&&n.append("minRating",String(e.minRating)),e?.cityId&&n.append("cityId",String(e.cityId)),e?.userLat!==void 0&&e?.userLat!==null&&n.append("userLat",String(e.userLat)),e?.userLng!==void 0&&e?.userLng!==null&&n.append("userLng",String(e.userLng)),e?.sortByDistance&&n.append("sortByDistance","true");const s=`${Hr.businesses.list.path}?${n.toString()}`,a=await fetch(s);if(!a.ok)throw new Error("Failed to fetch businesses");return a.json()}})}function FO(e){return vt({queryKey:[Hr.businesses.get.path,e],queryFn:async()=>{const t=IS(Hr.businesses.get.path,{id:e}),n=await fetch(t);if(n.status===404)return null;if(!n.ok)throw new Error("Failed to fetch business");return n.json()},enabled:!!e})}function zO(){return vt({queryKey:["/api/businesses/map"],queryFn:async()=>{const e=await fetch("/api/businesses/map");if(!e.ok)throw new Error("Failed to fetch businesses");return e.json()}})}function BO(e){return vt({queryKey:["/api/businesses",e,"reviews"],queryFn:async()=>{const t=await fetch(`/api/businesses/${e}/reviews`);if(!t.ok)throw new Error("Failed to fetch reviews");return t.json()},enabled:!!e})}function VO(e){const t=Xr();return Pn({mutationFn:async n=>{const s=await fetch(`/api/businesses/${e}/reviews`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!s.ok){const a=await s.json();throw new Error(a.message||"Failed to create review")}return s.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/businesses",e,"reviews"]}),t.invalidateQueries({queryKey:[Hr.businesses.get.path,e]}),t.invalidateQueries({queryKey:[Hr.businesses.list.path]})}})}function DS(){return vt({queryKey:["/api/offers/active"],queryFn:async()=>{const e=await fetch("/api/offers/active");if(!e.ok)throw new Error("Failed to fetch offers");return e.json()}})}function UO(e){return vt({queryKey:["/api/businesses",e,"offers"],queryFn:async()=>{const t=await fetch(`/api/businesses/${e}/offers`);if(!t.ok)throw new Error("Failed to fetch offers");return t.json()},enabled:!!e})}const Fv=S.createContext({});function zv(e){const t=S.useRef(null);return t.current===null&&(t.current=e()),t.current}const Bh=S.createContext(null),Bv=S.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class $O extends S.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function ZO({children:e,isPresent:t}){const n=S.useId(),s=S.useRef(null),a=S.useRef({width:0,height:0,top:0,left:0}),{nonce:u}=S.useContext(Bv);return S.useInsertionEffect(()=>{const{width:f,height:h,top:g,left:v}=a.current;if(t||!s.current||!f||!h)return;s.current.dataset.motionPopId=n;const y=document.createElement("style");return u&&(y.nonce=u),document.head.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${h}px !important;
            top: ${g}px !important;
            left: ${v}px !important;
          }
        `),()=>{document.head.removeChild(y)}},[t]),l.jsx($O,{isPresent:t,childRef:s,sizeRef:a,children:S.cloneElement(e,{ref:s})})}const WO=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:u,mode:f})=>{const h=zv(HO),g=S.useId(),v=S.useCallback(w=>{h.set(w,!0);for(const N of h.values())if(!N)return;s&&s()},[h,s]),y=S.useMemo(()=>({id:g,initial:t,isPresent:n,custom:a,onExitComplete:v,register:w=>(h.set(w,!1),()=>h.delete(w))}),u?[Math.random(),v]:[n,v]);return S.useMemo(()=>{h.forEach((w,N)=>h.set(N,!1))},[n]),S.useEffect(()=>{!n&&!h.size&&s&&s()},[n]),f==="popLayout"&&(e=l.jsx(ZO,{isPresent:n,children:e})),l.jsx(Bh.Provider,{value:y,children:e})};function HO(){return new Map}function FS(e=!0){const t=S.useContext(Bh);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=t,u=S.useId();S.useEffect(()=>{e&&a(u)},[e]);const f=S.useCallback(()=>e&&s&&s(u),[u,s,e]);return!n&&s?[!1,f]:[!0]}const Cf=e=>e.key||"";function b_(e){const t=[];return S.Children.forEach(e,n=>{S.isValidElement(n)&&t.push(n)}),t}const Vv=typeof window<"u",zS=Vv?S.useLayoutEffect:S.useEffect,BS=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:u="sync",propagate:f=!1})=>{const[h,g]=FS(f),v=S.useMemo(()=>b_(e),[e]),y=f&&!h?[]:v.map(Cf),w=S.useRef(!0),N=S.useRef(v),T=zv(()=>new Map),[A,C]=S.useState(v),[j,M]=S.useState(v);zS(()=>{w.current=!1,N.current=v;for(let O=0;O<j.length;O++){const V=Cf(j[O]);y.includes(V)?T.delete(V):T.get(V)!==!0&&T.set(V,!1)}},[j,y.length,y.join("-")]);const R=[];if(v!==A){let O=[...v];for(let V=0;V<j.length;V++){const Z=j[V],q=Cf(Z);y.includes(q)||(O.splice(V,0,Z),R.push(Z))}u==="wait"&&R.length&&(O=R),M(b_(O)),C(v);return}const{forceRender:D}=S.useContext(Fv);return l.jsx(l.Fragment,{children:j.map(O=>{const V=Cf(O),Z=f&&!h?!1:v===j||y.includes(V),q=()=>{if(T.has(V))T.set(V,!0);else return;let J=!0;T.forEach(he=>{he||(J=!1)}),J&&(D?.(),M(N.current),f&&g?.(),s&&s())};return l.jsx(WO,{isPresent:Z,initial:!w.current||n?void 0:!1,custom:Z?void 0:t,presenceAffectsLayout:a,mode:u,onExitComplete:Z?void 0:q,children:O},V)})})},lr=e=>e;let VS=lr;function Uv(e){let t;return()=>(t===void 0&&(t=e()),t)}const Fl=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s},Ji=e=>e*1e3,es=e=>e/1e3,qO={useManualTiming:!1};function KO(e){let t=new Set,n=new Set,s=!1,a=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function h(v){u.has(v)&&(g.schedule(v),e()),v(f)}const g={schedule:(v,y=!1,w=!1)=>{const T=w&&s?t:n;return y&&u.add(v),T.has(v)||T.add(v),v},cancel:v=>{n.delete(v),u.delete(v)},process:v=>{if(f=v,s){a=!0;return}s=!0,[t,n]=[n,t],t.forEach(h),t.clear(),s=!1,a&&(a=!1,g.process(v))}};return g}const jf=["read","resolveKeyframes","update","preRender","render","postRender"],GO=40;function US(e,t){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},u=()=>n=!0,f=jf.reduce((M,R)=>(M[R]=KO(u),M),{}),{read:h,resolveKeyframes:g,update:v,preRender:y,render:w,postRender:N}=f,T=()=>{const M=performance.now();n=!1,a.delta=s?1e3/60:Math.max(Math.min(M-a.timestamp,GO),1),a.timestamp=M,a.isProcessing=!0,h.process(a),g.process(a),v.process(a),y.process(a),w.process(a),N.process(a),a.isProcessing=!1,n&&t&&(s=!1,e(T))},A=()=>{n=!0,s=!0,a.isProcessing||e(T)};return{schedule:jf.reduce((M,R)=>{const D=f[R];return M[R]=(O,V=!1,Z=!1)=>(n||A(),D.schedule(O,V,Z)),M},{}),cancel:M=>{for(let R=0;R<jf.length;R++)f[jf[R]].cancel(M)},state:a,steps:f}}const{schedule:jt,cancel:so,state:dn,steps:Vp}=US(typeof requestAnimationFrame<"u"?requestAnimationFrame:lr,!0),$S=S.createContext({strict:!1}),S_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},zl={};for(const e in S_)zl[e]={isEnabled:t=>S_[e].some(n=>!!t[n])};function QO(e){for(const t in e)zl[t]={...zl[t],...e[t]}}const XO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function dh(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||XO.has(e)}let ZS=e=>!dh(e);function YO(e){e&&(ZS=t=>t.startsWith("on")?!dh(t):e(t))}try{YO(require("@emotion/is-prop-valid").default)}catch{}function JO(e,t,n){const s={};for(const a in e)a==="values"&&typeof e.values=="object"||(ZS(a)||n===!0&&dh(a)||!t&&!dh(a)||e.draggable&&a.startsWith("onDrag"))&&(s[a]=e[a]);return s}function eI(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...s)=>e(...s);return new Proxy(n,{get:(s,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const Vh=S.createContext({});function Ru(e){return typeof e=="string"||Array.isArray(e)}function Uh(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const $v=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Zv=["initial",...$v];function $h(e){return Uh(e.animate)||Zv.some(t=>Ru(e[t]))}function WS(e){return!!($h(e)||e.variants)}function tI(e,t){if($h(e)){const{initial:n,animate:s}=e;return{initial:n===!1||Ru(n)?n:void 0,animate:Ru(s)?s:void 0}}return e.inherit!==!1?t:{}}function nI(e){const{initial:t,animate:n}=tI(e,S.useContext(Vh));return S.useMemo(()=>({initial:t,animate:n}),[P_(t),P_(n)])}function P_(e){return Array.isArray(e)?e.join(" "):e}const rI=Symbol.for("motionComponentSymbol");function pl(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function iI(e,t,n){return S.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):pl(n)&&(n.current=s))},[t])}const Wv=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),sI="framerAppearId",HS="data-"+Wv(sI),{schedule:Hv}=US(queueMicrotask,!1),qS=S.createContext({});function oI(e,t,n,s,a){var u,f;const{visualElement:h}=S.useContext(Vh),g=S.useContext($S),v=S.useContext(Bh),y=S.useContext(Bv).reducedMotion,w=S.useRef(null);s=s||g.renderer,!w.current&&s&&(w.current=s(e,{visualState:t,parent:h,props:n,presenceContext:v,blockInitialAnimation:v?v.initial===!1:!1,reducedMotionConfig:y}));const N=w.current,T=S.useContext(qS);N&&!N.projection&&a&&(N.type==="html"||N.type==="svg")&&aI(w.current,n,a,T);const A=S.useRef(!1);S.useInsertionEffect(()=>{N&&A.current&&N.update(n,v)});const C=n[HS],j=S.useRef(!!C&&!(!((u=window.MotionHandoffIsComplete)===null||u===void 0)&&u.call(window,C))&&((f=window.MotionHasOptimisedAnimation)===null||f===void 0?void 0:f.call(window,C)));return zS(()=>{N&&(A.current=!0,window.MotionIsMounted=!0,N.updateFeatures(),Hv.render(N.render),j.current&&N.animationState&&N.animationState.animateChanges())}),S.useEffect(()=>{N&&(!j.current&&N.animationState&&N.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{var M;(M=window.MotionHandoffMarkAsComplete)===null||M===void 0||M.call(window,C)}),j.current=!1))}),N}function aI(e,t,n,s){const{layoutId:a,layout:u,drag:f,dragConstraints:h,layoutScroll:g,layoutRoot:v}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:KS(e.parent)),e.projection.setOptions({layoutId:a,layout:u,alwaysMeasureLayout:!!f||h&&pl(h),visualElement:e,animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:g,layoutRoot:v})}function KS(e){if(e)return e.options.allowProjection!==!1?e.projection:KS(e.parent)}function lI({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:s,Component:a}){var u,f;e&&QO(e);function h(v,y){let w;const N={...S.useContext(Bv),...v,layoutId:cI(v)},{isStatic:T}=N,A=nI(v),C=s(v,T);if(!T&&Vv){uI();const j=dI(N);w=j.MeasureLayout,A.visualElement=oI(a,C,N,t,j.ProjectionNode)}return l.jsxs(Vh.Provider,{value:A,children:[w&&A.visualElement?l.jsx(w,{visualElement:A.visualElement,...N}):null,n(a,v,iI(C,A.visualElement,y),C,T,A.visualElement)]})}h.displayName=`motion.${typeof a=="string"?a:`create(${(f=(u=a.displayName)!==null&&u!==void 0?u:a.name)!==null&&f!==void 0?f:""})`}`;const g=S.forwardRef(h);return g[rI]=a,g}function cI({layoutId:e}){const t=S.useContext(Fv).id;return t&&e!==void 0?t+"-"+e:e}function uI(e,t){S.useContext($S).strict}function dI(e){const{drag:t,layout:n}=zl;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const fI=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function qv(e){return typeof e!="string"||e.includes("-")?!1:!!(fI.indexOf(e)>-1||/[A-Z]/u.test(e))}function N_(e){const t=[{},{}];return e?.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function Kv(e,t,n,s){if(typeof t=="function"){const[a,u]=N_(s);t=t(n!==void 0?n:e.custom,a,u)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,u]=N_(s);t=t(n!==void 0?n:e.custom,a,u)}return t}const Mg=e=>Array.isArray(e),hI=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),mI=e=>Mg(e)?e[e.length-1]||0:e,Sn=e=>!!(e&&e.getVelocity);function zf(e){const t=Sn(e)?e.get():e;return hI(t)?t.toValue():t}function pI({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},s,a,u){const f={latestValues:gI(s,a,u,e),renderState:t()};return n&&(f.onMount=h=>n({props:s,current:h,...f}),f.onUpdate=h=>n(h)),f}const GS=e=>(t,n)=>{const s=S.useContext(Vh),a=S.useContext(Bh),u=()=>pI(e,t,s,a);return n?u():zv(u)};function gI(e,t,n,s){const a={},u=s(e,{});for(const N in u)a[N]=zf(u[N]);let{initial:f,animate:h}=e;const g=$h(e),v=WS(e);t&&v&&!g&&e.inherit!==!1&&(f===void 0&&(f=t.initial),h===void 0&&(h=t.animate));let y=n?n.initial===!1:!1;y=y||f===!1;const w=y?h:f;if(w&&typeof w!="boolean"&&!Uh(w)){const N=Array.isArray(w)?w:[w];for(let T=0;T<N.length;T++){const A=Kv(e,N[T]);if(A){const{transitionEnd:C,transition:j,...M}=A;for(const R in M){let D=M[R];if(Array.isArray(D)){const O=y?D.length-1:0;D=D[O]}D!==null&&(a[R]=D)}for(const R in C)a[R]=C[R]}}}return a}const Gl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],pa=new Set(Gl),QS=e=>t=>typeof t=="string"&&t.startsWith(e),XS=QS("--"),vI=QS("var(--"),Gv=e=>vI(e)?yI.test(e.split("/*")[0].trim()):!1,yI=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,YS=(e,t)=>t&&typeof e=="number"?t.transform(e):e,ss=(e,t,n)=>n>t?t:n<e?e:n,Ql={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ou={...Ql,transform:e=>ss(0,1,e)},Tf={...Ql,default:1},Hu=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ks=Hu("deg"),yi=Hu("%"),ze=Hu("px"),xI=Hu("vh"),_I=Hu("vw"),C_={...yi,parse:e=>yi.parse(e)/100,transform:e=>yi.transform(e*100)},wI={borderWidth:ze,borderTopWidth:ze,borderRightWidth:ze,borderBottomWidth:ze,borderLeftWidth:ze,borderRadius:ze,radius:ze,borderTopLeftRadius:ze,borderTopRightRadius:ze,borderBottomRightRadius:ze,borderBottomLeftRadius:ze,width:ze,maxWidth:ze,height:ze,maxHeight:ze,top:ze,right:ze,bottom:ze,left:ze,padding:ze,paddingTop:ze,paddingRight:ze,paddingBottom:ze,paddingLeft:ze,margin:ze,marginTop:ze,marginRight:ze,marginBottom:ze,marginLeft:ze,backgroundPositionX:ze,backgroundPositionY:ze},bI={rotate:Ks,rotateX:Ks,rotateY:Ks,rotateZ:Ks,scale:Tf,scaleX:Tf,scaleY:Tf,scaleZ:Tf,skew:Ks,skewX:Ks,skewY:Ks,distance:ze,translateX:ze,translateY:ze,translateZ:ze,x:ze,y:ze,z:ze,perspective:ze,transformPerspective:ze,opacity:Ou,originX:C_,originY:C_,originZ:ze},j_={...Ql,transform:Math.round},Qv={...wI,...bI,zIndex:j_,size:ze,fillOpacity:Ou,strokeOpacity:Ou,numOctaves:j_},SI={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},PI=Gl.length;function NI(e,t,n){let s="",a=!0;for(let u=0;u<PI;u++){const f=Gl[u],h=e[f];if(h===void 0)continue;let g=!0;if(typeof h=="number"?g=h===(f.startsWith("scale")?1:0):g=parseFloat(h)===0,!g||n){const v=YS(h,Qv[f]);if(!g){a=!1;const y=SI[f]||f;s+=`${y}(${v}) `}n&&(t[f]=v)}}return s=s.trim(),n?s=n(t,a?"":s):a&&(s="none"),s}function Xv(e,t,n){const{style:s,vars:a,transformOrigin:u}=e;let f=!1,h=!1;for(const g in t){const v=t[g];if(pa.has(g)){f=!0;continue}else if(XS(g)){a[g]=v;continue}else{const y=YS(v,Qv[g]);g.startsWith("origin")?(h=!0,u[g]=y):s[g]=y}}if(t.transform||(f||n?s.transform=NI(t,e.transform,n):s.transform&&(s.transform="none")),h){const{originX:g="50%",originY:v="50%",originZ:y=0}=u;s.transformOrigin=`${g} ${v} ${y}`}}const CI={offset:"stroke-dashoffset",array:"stroke-dasharray"},jI={offset:"strokeDashoffset",array:"strokeDasharray"};function TI(e,t,n=1,s=0,a=!0){e.pathLength=1;const u=a?CI:jI;e[u.offset]=ze.transform(-s);const f=ze.transform(t),h=ze.transform(n);e[u.array]=`${f} ${h}`}function T_(e,t,n){return typeof e=="string"?e:ze.transform(t+n*e)}function kI(e,t,n){const s=T_(t,e.x,e.width),a=T_(n,e.y,e.height);return`${s} ${a}`}function Yv(e,{attrX:t,attrY:n,attrScale:s,originX:a,originY:u,pathLength:f,pathSpacing:h=1,pathOffset:g=0,...v},y,w){if(Xv(e,v,w),y){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:N,style:T,dimensions:A}=e;N.transform&&(A&&(T.transform=N.transform),delete N.transform),A&&(a!==void 0||u!==void 0||T.transform)&&(T.transformOrigin=kI(A,a!==void 0?a:.5,u!==void 0?u:.5)),t!==void 0&&(N.x=t),n!==void 0&&(N.y=n),s!==void 0&&(N.scale=s),f!==void 0&&TI(N,f,h,g,!1)}const Jv=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),JS=()=>({...Jv(),attrs:{}}),ey=e=>typeof e=="string"&&e.toLowerCase()==="svg";function eP(e,{style:t,vars:n},s,a){Object.assign(e.style,t,a&&a.getProjectionStyles(s));for(const u in n)e.style.setProperty(u,n[u])}const tP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function nP(e,t,n,s){eP(e,t,void 0,s);for(const a in t.attrs)e.setAttribute(tP.has(a)?a:Wv(a),t.attrs[a])}const fh={};function EI(e){Object.assign(fh,e)}function rP(e,{layout:t,layoutId:n}){return pa.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!fh[e]||e==="opacity")}function ty(e,t,n){var s;const{style:a}=e,u={};for(const f in a)(Sn(a[f])||t.style&&Sn(t.style[f])||rP(f,e)||((s=n?.getValue(f))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(u[f]=a[f]);return u}function iP(e,t,n){const s=ty(e,t,n);for(const a in e)if(Sn(e[a])||Sn(t[a])){const u=Gl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[u]=e[a]}return s}function AI(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const k_=["x","y","width","height","cx","cy","r"],LI={useVisualState:GS({scrapeMotionValuesFromProps:iP,createRenderState:JS,onUpdate:({props:e,prevProps:t,current:n,renderState:s,latestValues:a})=>{if(!n)return;let u=!!e.drag;if(!u){for(const h in a)if(pa.has(h)){u=!0;break}}if(!u)return;let f=!t;if(t)for(let h=0;h<k_.length;h++){const g=k_[h];e[g]!==t[g]&&(f=!0)}f&&jt.read(()=>{AI(n,s),jt.render(()=>{Yv(s,a,ey(n.tagName),e.transformTemplate),nP(n,s)})})}})},MI={useVisualState:GS({scrapeMotionValuesFromProps:ty,createRenderState:Jv})};function sP(e,t,n){for(const s in t)!Sn(t[s])&&!rP(s,n)&&(e[s]=t[s])}function RI({transformTemplate:e},t){return S.useMemo(()=>{const n=Jv();return Xv(n,t,e),Object.assign({},n.vars,n.style)},[t])}function OI(e,t){const n=e.style||{},s={};return sP(s,n,e),Object.assign(s,RI(e,t)),s}function II(e,t){const n={},s=OI(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}function DI(e,t,n,s){const a=S.useMemo(()=>{const u=JS();return Yv(u,t,ey(s),e.transformTemplate),{...u.attrs,style:{...u.style}}},[t]);if(e.style){const u={};sP(u,e.style,e),a.style={...u,...a.style}}return a}function FI(e=!1){return(n,s,a,{latestValues:u},f)=>{const g=(qv(n)?DI:II)(s,u,f,n),v=JO(s,typeof n=="string",e),y=n!==S.Fragment?{...v,...g,ref:a}:{},{children:w}=s,N=S.useMemo(()=>Sn(w)?w.get():w,[w]);return S.createElement(n,{...y,children:N})}}function zI(e,t){return function(s,{forwardMotionProps:a}={forwardMotionProps:!1}){const f={...qv(s)?LI:MI,preloadedFeatures:e,useRender:FI(a),createVisualElement:t,Component:s};return lI(f)}}function oP(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}function Zh(e,t,n){const s=e.getProps();return Kv(s,t,n!==void 0?n:s.custom,e)}const BI=Uv(()=>window.ScrollTimeline!==void 0);class VI{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let s=0;s<this.animations.length;s++)this.animations[s][t]=n}attachTimeline(t,n){const s=this.animations.map(a=>{if(BI()&&a.attachTimeline)return a.attachTimeline(t);if(typeof n=="function")return n(a)});return()=>{s.forEach((a,u)=>{a&&a(),this.animations[u].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class UI extends VI{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function ny(e,t){return e?e[t]||e.default||e:void 0}const Rg=2e4;function aP(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<Rg;)t+=n,s=e.next(t);return t>=Rg?1/0:t}function ry(e){return typeof e=="function"}function E_(e,t){e.timeline=t,e.onfinish=null}const iy=e=>Array.isArray(e)&&typeof e[0]=="number",$I={linearEasing:void 0};function ZI(e,t){const n=Uv(e);return()=>{var s;return(s=$I[t])!==null&&s!==void 0?s:n()}}const hh=ZI(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),lP=(e,t,n=10)=>{let s="";const a=Math.max(Math.round(t/n),2);for(let u=0;u<a;u++)s+=e(Fl(0,a-1,u))+", ";return`linear(${s.substring(0,s.length-2)})`};function cP(e){return!!(typeof e=="function"&&hh()||!e||typeof e=="string"&&(e in Og||hh())||iy(e)||Array.isArray(e)&&e.every(cP))}const au=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,Og={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:au([0,.65,.55,1]),circOut:au([.55,0,1,.45]),backIn:au([.31,.01,.66,-.59]),backOut:au([.33,1.53,.69,.99])};function uP(e,t){if(e)return typeof e=="function"&&hh()?lP(e,t):iy(e)?au(e):Array.isArray(e)?e.map(n=>uP(n,t)||Og.easeOut):Og[e]}const Br={x:!1,y:!1};function dP(){return Br.x||Br.y}function WI(e,t,n){var s;if(e instanceof Element)return[e];if(typeof e=="string"){let a=document;const u=(s=void 0)!==null&&s!==void 0?s:a.querySelectorAll(e);return u?Array.from(u):[]}return Array.from(e)}function fP(e,t){const n=WI(e),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[n,a,()=>s.abort()]}function A_(e){return t=>{t.pointerType==="touch"||dP()||e(t)}}function HI(e,t,n={}){const[s,a,u]=fP(e,n),f=A_(h=>{const{target:g}=h,v=t(h);if(typeof v!="function"||!g)return;const y=A_(w=>{v(w),g.removeEventListener("pointerleave",y)});g.addEventListener("pointerleave",y,a)});return s.forEach(h=>{h.addEventListener("pointerenter",f,a)}),u}const hP=(e,t)=>t?e===t?!0:hP(e,t.parentElement):!1,sy=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,qI=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function KI(e){return qI.has(e.tagName)||e.tabIndex!==-1}const lu=new WeakSet;function L_(e){return t=>{t.key==="Enter"&&e(t)}}function Up(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const GI=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=L_(()=>{if(lu.has(n))return;Up(n,"down");const a=L_(()=>{Up(n,"up")}),u=()=>Up(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",u,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function M_(e){return sy(e)&&!dP()}function QI(e,t,n={}){const[s,a,u]=fP(e,n),f=h=>{const g=h.currentTarget;if(!M_(h)||lu.has(g))return;lu.add(g);const v=t(h),y=(T,A)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",N),!(!M_(T)||!lu.has(g))&&(lu.delete(g),typeof v=="function"&&v(T,{success:A}))},w=T=>{y(T,n.useGlobalTarget||hP(g,T.target))},N=T=>{y(T,!1)};window.addEventListener("pointerup",w,a),window.addEventListener("pointercancel",N,a)};return s.forEach(h=>{!KI(h)&&h.getAttribute("tabindex")===null&&(h.tabIndex=0),(n.useGlobalTarget?window:h).addEventListener("pointerdown",f,a),h.addEventListener("focus",v=>GI(v,a),a)}),u}function XI(e){return e==="x"||e==="y"?Br[e]?null:(Br[e]=!0,()=>{Br[e]=!1}):Br.x||Br.y?null:(Br.x=Br.y=!0,()=>{Br.x=Br.y=!1})}const mP=new Set(["width","height","top","left","right","bottom",...Gl]);let Bf;function YI(){Bf=void 0}const xi={now:()=>(Bf===void 0&&xi.set(dn.isProcessing||qO.useManualTiming?dn.timestamp:performance.now()),Bf),set:e=>{Bf=e,queueMicrotask(YI)}};function oy(e,t){e.indexOf(t)===-1&&e.push(t)}function ay(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class ly{constructor(){this.subscriptions=[]}add(t){return oy(this.subscriptions,t),()=>ay(this.subscriptions,t)}notify(t,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,s);else for(let u=0;u<a;u++){const f=this.subscriptions[u];f&&f(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function pP(e,t){return t?e*(1e3/t):0}const R_=30,JI=e=>!isNaN(parseFloat(e));class eD{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,a=!0)=>{const u=xi.now();this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=xi.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=JI(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new ly);const s=this.events[t].add(n);return t==="change"?()=>{s(),jt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=xi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>R_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,R_);return pP(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Iu(e,t){return new eD(e,t)}function tD(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Iu(n))}function nD(e,t){const n=Zh(e,t);let{transitionEnd:s={},transition:a={},...u}=n||{};u={...u,...s};for(const f in u){const h=mI(u[f]);tD(e,f,h)}}function rD(e){return!!(Sn(e)&&e.add)}function Ig(e,t){const n=e.getValue("willChange");if(rD(n))return n.add(t)}function gP(e){return e.props[HS]}const vP=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,iD=1e-7,sD=12;function oD(e,t,n,s,a){let u,f,h=0;do f=t+(n-t)/2,u=vP(f,s,a)-e,u>0?n=f:t=f;while(Math.abs(u)>iD&&++h<sD);return f}function qu(e,t,n,s){if(e===t&&n===s)return lr;const a=u=>oD(u,0,1,e,n);return u=>u===0||u===1?u:vP(a(u),t,s)}const yP=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,xP=e=>t=>1-e(1-t),_P=qu(.33,1.53,.69,.99),cy=xP(_P),wP=yP(cy),bP=e=>(e*=2)<1?.5*cy(e):.5*(2-Math.pow(2,-10*(e-1))),uy=e=>1-Math.sin(Math.acos(e)),SP=xP(uy),PP=yP(uy),NP=e=>/^0[^.\s]+$/u.test(e);function aD(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||NP(e):!0}const hu=e=>Math.round(e*1e5)/1e5,dy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function lD(e){return e==null}const cD=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,fy=(e,t)=>n=>!!(typeof n=="string"&&cD.test(n)&&n.startsWith(e)||t&&!lD(n)&&Object.prototype.hasOwnProperty.call(n,t)),CP=(e,t,n)=>s=>{if(typeof s!="string")return s;const[a,u,f,h]=s.match(dy);return{[e]:parseFloat(a),[t]:parseFloat(u),[n]:parseFloat(f),alpha:h!==void 0?parseFloat(h):1}},uD=e=>ss(0,255,e),$p={...Ql,transform:e=>Math.round(uD(e))},ea={test:fy("rgb","red"),parse:CP("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+$p.transform(e)+", "+$p.transform(t)+", "+$p.transform(n)+", "+hu(Ou.transform(s))+")"};function dD(e){let t="",n="",s="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Dg={test:fy("#"),parse:dD,transform:ea.transform},gl={test:fy("hsl","hue"),parse:CP("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+yi.transform(hu(t))+", "+yi.transform(hu(n))+", "+hu(Ou.transform(s))+")"},bn={test:e=>ea.test(e)||Dg.test(e)||gl.test(e),parse:e=>ea.test(e)?ea.parse(e):gl.test(e)?gl.parse(e):Dg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ea.transform(e):gl.transform(e)},fD=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function hD(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(dy))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(fD))===null||n===void 0?void 0:n.length)||0)>0}const jP="number",TP="color",mD="var",pD="var(",O_="${}",gD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Du(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},a=[];let u=0;const h=t.replace(gD,g=>(bn.test(g)?(s.color.push(u),a.push(TP),n.push(bn.parse(g))):g.startsWith(pD)?(s.var.push(u),a.push(mD),n.push(g)):(s.number.push(u),a.push(jP),n.push(parseFloat(g))),++u,O_)).split(O_);return{values:n,split:h,indexes:s,types:a}}function kP(e){return Du(e).values}function EP(e){const{split:t,types:n}=Du(e),s=t.length;return a=>{let u="";for(let f=0;f<s;f++)if(u+=t[f],a[f]!==void 0){const h=n[f];h===jP?u+=hu(a[f]):h===TP?u+=bn.transform(a[f]):u+=a[f]}return u}}const vD=e=>typeof e=="number"?0:e;function yD(e){const t=kP(e);return EP(e)(t.map(vD))}const oo={test:hD,parse:kP,createTransformer:EP,getAnimatableNone:yD},xD=new Set(["brightness","contrast","saturate","opacity"]);function _D(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(dy)||[];if(!s)return e;const a=n.replace(s,"");let u=xD.has(t)?1:0;return s!==n&&(u*=100),t+"("+u+a+")"}const wD=/\b([a-z-]*)\(.*?\)/gu,Fg={...oo,getAnimatableNone:e=>{const t=e.match(wD);return t?t.map(_D).join(" "):e}},bD={...Qv,color:bn,backgroundColor:bn,outlineColor:bn,fill:bn,stroke:bn,borderColor:bn,borderTopColor:bn,borderRightColor:bn,borderBottomColor:bn,borderLeftColor:bn,filter:Fg,WebkitFilter:Fg},hy=e=>bD[e];function AP(e,t){let n=hy(e);return n!==Fg&&(n=oo),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const SD=new Set(["auto","none","0"]);function PD(e,t,n){let s=0,a;for(;s<e.length&&!a;){const u=e[s];typeof u=="string"&&!SD.has(u)&&Du(u).values.length&&(a=e[s]),s++}if(a&&n)for(const u of t)e[u]=AP(n,a)}const I_=e=>e===Ql||e===ze,D_=(e,t)=>parseFloat(e.split(", ")[t]),F_=(e,t)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const a=s.match(/^matrix3d\((.+)\)$/u);if(a)return D_(a[1],t);{const u=s.match(/^matrix\((.+)\)$/u);return u?D_(u[1],e):0}},ND=new Set(["x","y","z"]),CD=Gl.filter(e=>!ND.has(e));function jD(e){const t=[];return CD.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const Bl={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:F_(4,13),y:F_(5,14)};Bl.translateX=Bl.x;Bl.translateY=Bl.y;const na=new Set;let zg=!1,Bg=!1;function LP(){if(Bg){const e=Array.from(na).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const a=jD(s);a.length&&(n.set(s,a),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([u,f])=>{var h;(h=s.getValue(u))===null||h===void 0||h.set(f)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Bg=!1,zg=!1,na.forEach(e=>e.complete()),na.clear()}function MP(){na.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Bg=!0)})}function TD(){MP(),LP()}class my{constructor(t,n,s,a,u,f=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=a,this.element=u,this.isAsync=f}scheduleResolve(){this.isScheduled=!0,this.isAsync?(na.add(this),zg||(zg=!0,jt.read(MP),jt.resolveKeyframes(LP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:a}=this;for(let u=0;u<t.length;u++)if(t[u]===null)if(u===0){const f=a?.get(),h=t[t.length-1];if(f!==void 0)t[0]=f;else if(s&&n){const g=s.readValue(n,h);g!=null&&(t[0]=g)}t[0]===void 0&&(t[0]=h),a&&f===void 0&&a.set(t[0])}else t[u]=t[u-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),na.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,na.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const RP=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),kD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ED(e){const t=kD.exec(e);if(!t)return[,];const[,n,s,a]=t;return[`--${n??s}`,a]}function OP(e,t,n=1){const[s,a]=ED(e);if(!s)return;const u=window.getComputedStyle(t).getPropertyValue(s);if(u){const f=u.trim();return RP(f)?parseFloat(f):f}return Gv(a)?OP(a,t,n+1):a}const IP=e=>t=>t.test(e),AD={test:e=>e==="auto",parse:e=>e},DP=[Ql,ze,yi,Ks,_I,xI,AD],z_=e=>DP.find(IP(e));class FP extends my{constructor(t,n,s,a,u){super(t,n,s,a,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let g=0;g<t.length;g++){let v=t[g];if(typeof v=="string"&&(v=v.trim(),Gv(v))){const y=OP(v,n.current);y!==void 0&&(t[g]=y),g===t.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!mP.has(s)||t.length!==2)return;const[a,u]=t,f=z_(a),h=z_(u);if(f!==h)if(I_(f)&&I_(h))for(let g=0;g<t.length;g++){const v=t[g];typeof v=="string"&&(t[g]=parseFloat(v))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let a=0;a<t.length;a++)aD(t[a])&&s.push(a);s.length&&PD(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Bl[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){var t;const{element:n,name:s,unresolvedKeyframes:a}=this;if(!n||!n.current)return;const u=n.getValue(s);u&&u.jump(this.measuredOrigin,!1);const f=a.length-1,h=a[f];a[f]=Bl[s](n.measureViewportBox(),window.getComputedStyle(n.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([g,v])=>{n.getValue(g).set(v)}),this.resolveNoneKeyframes()}}const B_=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(oo.test(e)||e==="0")&&!e.startsWith("url("));function LD(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function MD(e,t,n,s){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const u=e[e.length-1],f=B_(a,t),h=B_(u,t);return!f||!h?!1:LD(e)||(n==="spring"||ry(n))&&s}const RD=e=>e!==null;function Wh(e,{repeat:t,repeatType:n="loop"},s){const a=e.filter(RD),u=t&&n!=="loop"&&t%2===1?0:a.length-1;return!u||s===void 0?a[u]:s}const OD=40;class zP{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:u=0,repeatType:f="loop",...h}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=xi.now(),this.options={autoplay:t,delay:n,type:s,repeat:a,repeatDelay:u,repeatType:f,...h},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>OD?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&TD(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=xi.now(),this.hasAttemptedResolve=!0;const{name:s,type:a,velocity:u,delay:f,onComplete:h,onUpdate:g,isGenerator:v}=this.options;if(!v&&!MD(t,s,a,u))if(f)this.options.duration=0;else{g&&g(Wh(t,this.options,n)),h&&h(),this.resolveFinishedPromise();return}const y=this.initPlayback(t,n);y!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...y},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Dt=(e,t,n)=>e+(t-e)*n;function Zp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function ID({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let a=0,u=0,f=0;if(!t)a=u=f=n;else{const h=n<.5?n*(1+t):n+t-n*t,g=2*n-h;a=Zp(g,h,e+1/3),u=Zp(g,h,e),f=Zp(g,h,e-1/3)}return{red:Math.round(a*255),green:Math.round(u*255),blue:Math.round(f*255),alpha:s}}function mh(e,t){return n=>n>0?t:e}const Wp=(e,t,n)=>{const s=e*e,a=n*(t*t-s)+s;return a<0?0:Math.sqrt(a)},DD=[Dg,ea,gl],FD=e=>DD.find(t=>t.test(e));function V_(e){const t=FD(e);if(!t)return!1;let n=t.parse(e);return t===gl&&(n=ID(n)),n}const U_=(e,t)=>{const n=V_(e),s=V_(t);if(!n||!s)return mh(e,t);const a={...n};return u=>(a.red=Wp(n.red,s.red,u),a.green=Wp(n.green,s.green,u),a.blue=Wp(n.blue,s.blue,u),a.alpha=Dt(n.alpha,s.alpha,u),ea.transform(a))},zD=(e,t)=>n=>t(e(n)),Ku=(...e)=>e.reduce(zD),Vg=new Set(["none","hidden"]);function BD(e,t){return Vg.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function VD(e,t){return n=>Dt(e,t,n)}function py(e){return typeof e=="number"?VD:typeof e=="string"?Gv(e)?mh:bn.test(e)?U_:ZD:Array.isArray(e)?BP:typeof e=="object"?bn.test(e)?U_:UD:mh}function BP(e,t){const n=[...e],s=n.length,a=e.map((u,f)=>py(u)(u,t[f]));return u=>{for(let f=0;f<s;f++)n[f]=a[f](u);return n}}function UD(e,t){const n={...e,...t},s={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(s[a]=py(e[a])(e[a],t[a]));return a=>{for(const u in s)n[u]=s[u](a);return n}}function $D(e,t){var n;const s=[],a={color:0,var:0,number:0};for(let u=0;u<t.values.length;u++){const f=t.types[u],h=e.indexes[f][a[f]],g=(n=e.values[h])!==null&&n!==void 0?n:0;s[u]=g,a[f]++}return s}const ZD=(e,t)=>{const n=oo.createTransformer(t),s=Du(e),a=Du(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Vg.has(e)&&!a.values.length||Vg.has(t)&&!s.values.length?BD(e,t):Ku(BP($D(s,a),a.values),n):mh(e,t)};function VP(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Dt(e,t,n):py(e)(e,t)}const WD=5;function UP(e,t,n){const s=Math.max(t-WD,0);return pP(n-e(s),t-s)}const Bt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Hp=.001;function HD({duration:e=Bt.duration,bounce:t=Bt.bounce,velocity:n=Bt.velocity,mass:s=Bt.mass}){let a,u,f=1-t;f=ss(Bt.minDamping,Bt.maxDamping,f),e=ss(Bt.minDuration,Bt.maxDuration,es(e)),f<1?(a=v=>{const y=v*f,w=y*e,N=y-n,T=Ug(v,f),A=Math.exp(-w);return Hp-N/T*A},u=v=>{const w=v*f*e,N=w*n+n,T=Math.pow(f,2)*Math.pow(v,2)*e,A=Math.exp(-w),C=Ug(Math.pow(v,2),f);return(-a(v)+Hp>0?-1:1)*((N-T)*A)/C}):(a=v=>{const y=Math.exp(-v*e),w=(v-n)*e+1;return-Hp+y*w},u=v=>{const y=Math.exp(-v*e),w=(n-v)*(e*e);return y*w});const h=5/e,g=KD(a,u,h);if(e=Ji(e),isNaN(g))return{stiffness:Bt.stiffness,damping:Bt.damping,duration:e};{const v=Math.pow(g,2)*s;return{stiffness:v,damping:f*2*Math.sqrt(s*v),duration:e}}}const qD=12;function KD(e,t,n){let s=n;for(let a=1;a<qD;a++)s=s-e(s)/t(s);return s}function Ug(e,t){return e*Math.sqrt(1-t*t)}const GD=["duration","bounce"],QD=["stiffness","damping","mass"];function $_(e,t){return t.some(n=>e[n]!==void 0)}function XD(e){let t={velocity:Bt.velocity,stiffness:Bt.stiffness,damping:Bt.damping,mass:Bt.mass,isResolvedFromDuration:!1,...e};if(!$_(e,QD)&&$_(e,GD))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,u=2*ss(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Bt.mass,stiffness:a,damping:u}}else{const n=HD(e);t={...t,...n,mass:Bt.mass},t.isResolvedFromDuration=!0}return t}function $P(e=Bt.visualDuration,t=Bt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:a}=n;const u=n.keyframes[0],f=n.keyframes[n.keyframes.length-1],h={done:!1,value:u},{stiffness:g,damping:v,mass:y,duration:w,velocity:N,isResolvedFromDuration:T}=XD({...n,velocity:-es(n.velocity||0)}),A=N||0,C=v/(2*Math.sqrt(g*y)),j=f-u,M=es(Math.sqrt(g/y)),R=Math.abs(j)<5;s||(s=R?Bt.restSpeed.granular:Bt.restSpeed.default),a||(a=R?Bt.restDelta.granular:Bt.restDelta.default);let D;if(C<1){const V=Ug(M,C);D=Z=>{const q=Math.exp(-C*M*Z);return f-q*((A+C*M*j)/V*Math.sin(V*Z)+j*Math.cos(V*Z))}}else if(C===1)D=V=>f-Math.exp(-M*V)*(j+(A+M*j)*V);else{const V=M*Math.sqrt(C*C-1);D=Z=>{const q=Math.exp(-C*M*Z),J=Math.min(V*Z,300);return f-q*((A+C*M*j)*Math.sinh(J)+V*j*Math.cosh(J))/V}}const O={calculatedDuration:T&&w||null,next:V=>{const Z=D(V);if(T)h.done=V>=w;else{let q=0;C<1&&(q=V===0?Ji(A):UP(D,V,Z));const J=Math.abs(q)<=s,he=Math.abs(f-Z)<=a;h.done=J&&he}return h.value=h.done?f:Z,h},toString:()=>{const V=Math.min(aP(O),Rg),Z=lP(q=>O.next(V*q).value,V,30);return V+"ms "+Z}};return O}function Z_({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:u=500,modifyTarget:f,min:h,max:g,restDelta:v=.5,restSpeed:y}){const w=e[0],N={done:!1,value:w},T=J=>h!==void 0&&J<h||g!==void 0&&J>g,A=J=>h===void 0?g:g===void 0||Math.abs(h-J)<Math.abs(g-J)?h:g;let C=n*t;const j=w+C,M=f===void 0?j:f(j);M!==j&&(C=M-w);const R=J=>-C*Math.exp(-J/s),D=J=>M+R(J),O=J=>{const he=R(J),me=D(J);N.done=Math.abs(he)<=v,N.value=N.done?M:me};let V,Z;const q=J=>{T(N.value)&&(V=J,Z=$P({keyframes:[N.value,A(N.value)],velocity:UP(D,J,N.value),damping:a,stiffness:u,restDelta:v,restSpeed:y}))};return q(0),{calculatedDuration:null,next:J=>{let he=!1;return!Z&&V===void 0&&(he=!0,O(J),q(J)),V!==void 0&&J>=V?Z.next(J-V):(!he&&O(J),N)}}}const YD=qu(.42,0,1,1),JD=qu(0,0,.58,1),ZP=qu(.42,0,.58,1),e4=e=>Array.isArray(e)&&typeof e[0]!="number",t4={linear:lr,easeIn:YD,easeInOut:ZP,easeOut:JD,circIn:uy,circInOut:PP,circOut:SP,backIn:cy,backInOut:wP,backOut:_P,anticipate:bP},W_=e=>{if(iy(e)){VS(e.length===4);const[t,n,s,a]=e;return qu(t,n,s,a)}else if(typeof e=="string")return t4[e];return e};function n4(e,t,n){const s=[],a=n||VP,u=e.length-1;for(let f=0;f<u;f++){let h=a(e[f],e[f+1]);if(t){const g=Array.isArray(t)?t[f]||lr:t;h=Ku(g,h)}s.push(h)}return s}function r4(e,t,{clamp:n=!0,ease:s,mixer:a}={}){const u=e.length;if(VS(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const f=e[0]===e[1];e[0]>e[u-1]&&(e=[...e].reverse(),t=[...t].reverse());const h=n4(t,s,a),g=h.length,v=y=>{if(f&&y<e[0])return t[0];let w=0;if(g>1)for(;w<e.length-2&&!(y<e[w+1]);w++);const N=Fl(e[w],e[w+1],y);return h[w](N)};return n?y=>v(ss(e[0],e[u-1],y)):v}function i4(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const a=Fl(0,t,s);e.push(Dt(n,1,a))}}function s4(e){const t=[0];return i4(t,e.length-1),t}function o4(e,t){return e.map(n=>n*t)}function a4(e,t){return e.map(()=>t||ZP).splice(0,e.length-1)}function ph({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const a=e4(s)?s.map(W_):W_(s),u={done:!1,value:t[0]},f=o4(n&&n.length===t.length?n:s4(t),e),h=r4(f,t,{ease:Array.isArray(a)?a:a4(t,a)});return{calculatedDuration:e,next:g=>(u.value=h(g),u.done=g>=e,u)}}const l4=e=>{const t=({timestamp:n})=>e(n);return{start:()=>jt.update(t,!0),stop:()=>so(t),now:()=>dn.isProcessing?dn.timestamp:xi.now()}},c4={decay:Z_,inertia:Z_,tween:ph,keyframes:ph,spring:$P},u4=e=>e/100;class gy extends zP{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:g}=this.options;g&&g()};const{name:n,motionValue:s,element:a,keyframes:u}=this.options,f=a?.KeyframeResolver||my,h=(g,v)=>this.onKeyframesResolved(g,v);this.resolver=new f(u,h,n,s,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:u,velocity:f=0}=this.options,h=ry(n)?n:c4[n]||ph;let g,v;h!==ph&&typeof t[0]!="number"&&(g=Ku(u4,VP(t[0],t[1])),t=[0,100]);const y=h({...this.options,keyframes:t});u==="mirror"&&(v=h({...this.options,keyframes:[...t].reverse(),velocity:-f})),y.calculatedDuration===null&&(y.calculatedDuration=aP(y));const{calculatedDuration:w}=y,N=w+a,T=N*(s+1)-a;return{generator:y,mirroredGenerator:v,mapPercentToKeyframes:g,calculatedDuration:w,resolvedDuration:N,totalDuration:T}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:s}=this;if(!s){const{keyframes:J}=this.options;return{done:!0,value:J[J.length-1]}}const{finalKeyframe:a,generator:u,mirroredGenerator:f,mapPercentToKeyframes:h,keyframes:g,calculatedDuration:v,totalDuration:y,resolvedDuration:w}=s;if(this.startTime===null)return u.next(0);const{delay:N,repeat:T,repeatType:A,repeatDelay:C,onUpdate:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-y/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const M=this.currentTime-N*(this.speed>=0?1:-1),R=this.speed>=0?M<0:M>y;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=y);let D=this.currentTime,O=u;if(T){const J=Math.min(this.currentTime,y)/w;let he=Math.floor(J),me=J%1;!me&&J>=1&&(me=1),me===1&&he--,he=Math.min(he,T+1),he%2&&(A==="reverse"?(me=1-me,C&&(me-=C/w)):A==="mirror"&&(O=f)),D=ss(0,1,me)*w}const V=R?{done:!1,value:g[0]}:O.next(D);h&&(V.value=h(V.value));let{done:Z}=V;!R&&v!==null&&(Z=this.speed>=0?this.currentTime>=y:this.currentTime<=0);const q=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Z);return q&&a!==void 0&&(V.value=Wh(g,this.options,a)),j&&j(V.value),q&&this.finish(),V}get duration(){const{resolved:t}=this;return t?es(t.calculatedDuration):0}get time(){return es(this.currentTime)}set time(t){t=Ji(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=es(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=l4,onPlay:n,startTime:s}=this.options;this.driver||(this.driver=t(u=>this.tick(u))),n&&n();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const d4=new Set(["opacity","clipPath","filter","transform"]);function f4(e,t,n,{delay:s=0,duration:a=300,repeat:u=0,repeatType:f="loop",ease:h="easeInOut",times:g}={}){const v={[t]:n};g&&(v.offset=g);const y=uP(h,a);return Array.isArray(y)&&(v.easing=y),e.animate(v,{delay:s,duration:a,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:u+1,direction:f==="reverse"?"alternate":"normal"})}const h4=Uv(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),gh=10,m4=2e4;function p4(e){return ry(e.type)||e.type==="spring"||!cP(e.ease)}function g4(e,t){const n=new gy({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:e[0]};const a=[];let u=0;for(;!s.done&&u<m4;)s=n.sample(u),a.push(s.value),u+=gh;return{times:void 0,keyframes:a,duration:u-gh,ease:"linear"}}const WP={anticipate:bP,backInOut:wP,circInOut:PP};function v4(e){return e in WP}class H_ extends zP{constructor(t){super(t);const{name:n,motionValue:s,element:a,keyframes:u}=this.options;this.resolver=new FP(u,(f,h)=>this.onKeyframesResolved(f,h),n,s,a),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:s=300,times:a,ease:u,type:f,motionValue:h,name:g,startTime:v}=this.options;if(!h.owner||!h.owner.current)return!1;if(typeof u=="string"&&hh()&&v4(u)&&(u=WP[u]),p4(this.options)){const{onComplete:w,onUpdate:N,motionValue:T,element:A,...C}=this.options,j=g4(t,C);t=j.keyframes,t.length===1&&(t[1]=t[0]),s=j.duration,a=j.times,u=j.ease,f="keyframes"}const y=f4(h.owner.current,g,t,{...this.options,duration:s,times:a,ease:u});return y.startTime=v??this.calcStartTime(),this.pendingTimeline?(E_(y,this.pendingTimeline),this.pendingTimeline=void 0):y.onfinish=()=>{const{onComplete:w}=this.options;h.set(Wh(t,this.options,n)),w&&w(),this.cancel(),this.resolveFinishedPromise()},{animation:y,duration:s,times:a,type:f,ease:u,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return es(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return es(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.currentTime=Ji(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return lr;const{animation:s}=n;E_(s,t)}return lr}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:s,duration:a,type:u,ease:f,times:h}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:v,onUpdate:y,onComplete:w,element:N,...T}=this.options,A=new gy({...T,keyframes:s,duration:a,type:u,ease:f,times:h,isGenerator:!0}),C=Ji(this.time);v.setWithVelocity(A.sample(C-gh).value,A.sample(C).value,gh)}const{onStop:g}=this.options;g&&g(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:s,repeatDelay:a,repeatType:u,damping:f,type:h}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:g,transformTemplate:v}=n.owner.getProps();return h4()&&s&&d4.has(s)&&!g&&!v&&!a&&u!=="mirror"&&f!==0&&h!=="inertia"}}const y4={type:"spring",stiffness:500,damping:25,restSpeed:10},x4=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),_4={type:"keyframes",duration:.8},w4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},b4=(e,{keyframes:t})=>t.length>2?_4:pa.has(e)?e.startsWith("scale")?x4(t[1]):y4:w4;function S4({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:u,repeatType:f,repeatDelay:h,from:g,elapsed:v,...y}){return!!Object.keys(y).length}const vy=(e,t,n,s={},a,u)=>f=>{const h=ny(s,e)||{},g=h.delay||s.delay||0;let{elapsed:v=0}=s;v=v-Ji(g);let y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...h,delay:-v,onUpdate:N=>{t.set(N),h.onUpdate&&h.onUpdate(N)},onComplete:()=>{f(),h.onComplete&&h.onComplete()},name:e,motionValue:t,element:u?void 0:a};S4(h)||(y={...y,...b4(e,y)}),y.duration&&(y.duration=Ji(y.duration)),y.repeatDelay&&(y.repeatDelay=Ji(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let w=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(w=!0)),w&&!u&&t.get()!==void 0){const N=Wh(y.keyframes,h);if(N!==void 0)return jt.update(()=>{y.onUpdate(N),y.onComplete()}),new UI([])}return!u&&H_.supports(y)?new H_(y):new gy(y)};function P4({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function HP(e,t,{delay:n=0,transitionOverride:s,type:a}={}){var u;let{transition:f=e.getDefaultTransition(),transitionEnd:h,...g}=t;s&&(f=s);const v=[],y=a&&e.animationState&&e.animationState.getState()[a];for(const w in g){const N=e.getValue(w,(u=e.latestValues[w])!==null&&u!==void 0?u:null),T=g[w];if(T===void 0||y&&P4(y,w))continue;const A={delay:n,...ny(f||{},w)};let C=!1;if(window.MotionHandoffAnimation){const M=gP(e);if(M){const R=window.MotionHandoffAnimation(M,w,jt);R!==null&&(A.startTime=R,C=!0)}}Ig(e,w),N.start(vy(w,N,T,e.shouldReduceMotion&&mP.has(w)?{type:!1}:A,e,C));const j=N.animation;j&&v.push(j)}return h&&Promise.all(v).then(()=>{jt.update(()=>{h&&nD(e,h)})}),v}function $g(e,t,n={}){var s;const a=Zh(e,t,n.type==="exit"?(s=e.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:u=e.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(u=n.transitionOverride);const f=a?()=>Promise.all(HP(e,a,n)):()=>Promise.resolve(),h=e.variantChildren&&e.variantChildren.size?(v=0)=>{const{delayChildren:y=0,staggerChildren:w,staggerDirection:N}=u;return N4(e,t,y+v,w,N,n)}:()=>Promise.resolve(),{when:g}=u;if(g){const[v,y]=g==="beforeChildren"?[f,h]:[h,f];return v().then(()=>y())}else return Promise.all([f(),h(n.delay)])}function N4(e,t,n=0,s=0,a=1,u){const f=[],h=(e.variantChildren.size-1)*s,g=a===1?(v=0)=>v*s:(v=0)=>h-v*s;return Array.from(e.variantChildren).sort(C4).forEach((v,y)=>{v.notify("AnimationStart",t),f.push($g(v,t,{...u,delay:n+g(y)}).then(()=>v.notify("AnimationComplete",t)))}),Promise.all(f)}function C4(e,t){return e.sortNodePosition(t)}function j4(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(u=>$g(e,u,n));s=Promise.all(a)}else if(typeof t=="string")s=$g(e,t,n);else{const a=typeof t=="function"?Zh(e,t,n.custom):t;s=Promise.all(HP(e,a,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}const T4=Zv.length;function qP(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?qP(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<T4;n++){const s=Zv[n],a=e.props[s];(Ru(a)||a===!1)&&(t[s]=a)}return t}const k4=[...$v].reverse(),E4=$v.length;function A4(e){return t=>Promise.all(t.map(({animation:n,options:s})=>j4(e,n,s)))}function L4(e){let t=A4(e),n=q_(),s=!0;const a=g=>(v,y)=>{var w;const N=Zh(e,y,g==="exit"?(w=e.presenceContext)===null||w===void 0?void 0:w.custom:void 0);if(N){const{transition:T,transitionEnd:A,...C}=N;v={...v,...C,...A}}return v};function u(g){t=g(e)}function f(g){const{props:v}=e,y=qP(e.parent)||{},w=[],N=new Set;let T={},A=1/0;for(let j=0;j<E4;j++){const M=k4[j],R=n[M],D=v[M]!==void 0?v[M]:y[M],O=Ru(D),V=M===g?R.isActive:null;V===!1&&(A=j);let Z=D===y[M]&&D!==v[M]&&O;if(Z&&s&&e.manuallyAnimateOnMount&&(Z=!1),R.protectedKeys={...T},!R.isActive&&V===null||!D&&!R.prevProp||Uh(D)||typeof D=="boolean")continue;const q=M4(R.prevProp,D);let J=q||M===g&&R.isActive&&!Z&&O||j>A&&O,he=!1;const me=Array.isArray(D)?D:[D];let _e=me.reduce(a(M),{});V===!1&&(_e={});const{prevResolvedValues:le={}}=R,Re={...le,..._e},te=ce=>{J=!0,N.has(ce)&&(he=!0,N.delete(ce)),R.needsAnimating[ce]=!0;const $=e.getValue(ce);$&&($.liveStyle=!1)};for(const ce in Re){const $=_e[ce],oe=le[ce];if(T.hasOwnProperty(ce))continue;let X=!1;Mg($)&&Mg(oe)?X=!oP($,oe):X=$!==oe,X?$!=null?te(ce):N.add(ce):$!==void 0&&N.has(ce)?te(ce):R.protectedKeys[ce]=!0}R.prevProp=D,R.prevResolvedValues=_e,R.isActive&&(T={...T,..._e}),s&&e.blockInitialAnimation&&(J=!1),J&&(!(Z&&q)||he)&&w.push(...me.map(ce=>({animation:ce,options:{type:M}})))}if(N.size){const j={};N.forEach(M=>{const R=e.getBaseTarget(M),D=e.getValue(M);D&&(D.liveStyle=!0),j[M]=R??null}),w.push({animation:j})}let C=!!w.length;return s&&(v.initial===!1||v.initial===v.animate)&&!e.manuallyAnimateOnMount&&(C=!1),s=!1,C?t(w):Promise.resolve()}function h(g,v){var y;if(n[g].isActive===v)return Promise.resolve();(y=e.variantChildren)===null||y===void 0||y.forEach(N=>{var T;return(T=N.animationState)===null||T===void 0?void 0:T.setActive(g,v)}),n[g].isActive=v;const w=f(g);for(const N in n)n[N].protectedKeys={};return w}return{animateChanges:f,setActive:h,setAnimateFunction:u,getState:()=>n,reset:()=>{n=q_(),s=!0}}}function M4(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!oP(t,e):!1}function Qo(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function q_(){return{animate:Qo(!0),whileInView:Qo(),whileHover:Qo(),whileTap:Qo(),whileDrag:Qo(),whileFocus:Qo(),exit:Qo()}}class go{constructor(t){this.isMounted=!1,this.node=t}update(){}}class R4 extends go{constructor(t){super(t),t.animationState||(t.animationState=L4(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Uh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let O4=0;class I4 extends go{constructor(){super(...arguments),this.id=O4++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const D4={animation:{Feature:R4},exit:{Feature:I4}};function Fu(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function Gu(e){return{point:{x:e.pageX,y:e.pageY}}}const F4=e=>t=>sy(t)&&e(t,Gu(t));function mu(e,t,n,s){return Fu(e,t,F4(n),s)}const K_=(e,t)=>Math.abs(e-t);function z4(e,t){const n=K_(e.x,t.x),s=K_(e.y,t.y);return Math.sqrt(n**2+s**2)}class KP{constructor(t,n,{transformPagePoint:s,contextWindow:a,dragSnapToOrigin:u=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Kp(this.lastMoveEventInfo,this.history),N=this.startEvent!==null,T=z4(w.offset,{x:0,y:0})>=3;if(!N&&!T)return;const{point:A}=w,{timestamp:C}=dn;this.history.push({...A,timestamp:C});const{onStart:j,onMove:M}=this.handlers;N||(j&&j(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,w)},this.handlePointerMove=(w,N)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=qp(N,this.transformPagePoint),jt.update(this.updatePoint,!0)},this.handlePointerUp=(w,N)=>{this.end();const{onEnd:T,onSessionEnd:A,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=Kp(w.type==="pointercancel"?this.lastMoveEventInfo:qp(N,this.transformPagePoint),this.history);this.startEvent&&T&&T(w,j),A&&A(w,j)},!sy(t))return;this.dragSnapToOrigin=u,this.handlers=n,this.transformPagePoint=s,this.contextWindow=a||window;const f=Gu(t),h=qp(f,this.transformPagePoint),{point:g}=h,{timestamp:v}=dn;this.history=[{...g,timestamp:v}];const{onSessionStart:y}=n;y&&y(t,Kp(h,this.history)),this.removeListeners=Ku(mu(this.contextWindow,"pointermove",this.handlePointerMove),mu(this.contextWindow,"pointerup",this.handlePointerUp),mu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),so(this.updatePoint)}}function qp(e,t){return t?{point:t(e.point)}:e}function G_(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Kp({point:e},t){return{point:e,delta:G_(e,GP(t)),offset:G_(e,B4(t)),velocity:V4(t,.1)}}function B4(e){return e[0]}function GP(e){return e[e.length-1]}function V4(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const a=GP(e);for(;n>=0&&(s=e[n],!(a.timestamp-s.timestamp>Ji(t)));)n--;if(!s)return{x:0,y:0};const u=es(a.timestamp-s.timestamp);if(u===0)return{x:0,y:0};const f={x:(a.x-s.x)/u,y:(a.y-s.y)/u};return f.x===1/0&&(f.x=0),f.y===1/0&&(f.y=0),f}const QP=1e-4,U4=1-QP,$4=1+QP,XP=.01,Z4=0-XP,W4=0+XP;function ur(e){return e.max-e.min}function H4(e,t,n){return Math.abs(e-t)<=n}function Q_(e,t,n,s=.5){e.origin=s,e.originPoint=Dt(t.min,t.max,e.origin),e.scale=ur(n)/ur(t),e.translate=Dt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=U4&&e.scale<=$4||isNaN(e.scale))&&(e.scale=1),(e.translate>=Z4&&e.translate<=W4||isNaN(e.translate))&&(e.translate=0)}function pu(e,t,n,s){Q_(e.x,t.x,n.x,s?s.originX:void 0),Q_(e.y,t.y,n.y,s?s.originY:void 0)}function X_(e,t,n){e.min=n.min+t.min,e.max=e.min+ur(t)}function q4(e,t,n){X_(e.x,t.x,n.x),X_(e.y,t.y,n.y)}function Y_(e,t,n){e.min=t.min-n.min,e.max=e.min+ur(t)}function gu(e,t,n){Y_(e.x,t.x,n.x),Y_(e.y,t.y,n.y)}function K4(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?Dt(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?Dt(n,e,s.max):Math.min(e,n)),e}function J_(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function G4(e,{top:t,left:n,bottom:s,right:a}){return{x:J_(e.x,n,a),y:J_(e.y,t,s)}}function ew(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function Q4(e,t){return{x:ew(e.x,t.x),y:ew(e.y,t.y)}}function X4(e,t){let n=.5;const s=ur(e),a=ur(t);return a>s?n=Fl(t.min,t.max-s,e.min):s>a&&(n=Fl(e.min,e.max-a,t.min)),ss(0,1,n)}function Y4(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Zg=.35;function J4(e=Zg){return e===!1?e=0:e===!0&&(e=Zg),{x:tw(e,"left","right"),y:tw(e,"top","bottom")}}function tw(e,t,n){return{min:nw(e,t),max:nw(e,n)}}function nw(e,t){return typeof e=="number"?e:e[t]||0}const rw=()=>({translate:0,scale:1,origin:0,originPoint:0}),vl=()=>({x:rw(),y:rw()}),iw=()=>({min:0,max:0}),Zt=()=>({x:iw(),y:iw()});function Nr(e){return[e("x"),e("y")]}function YP({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function e3({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function t3(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Gp(e){return e===void 0||e===1}function Wg({scale:e,scaleX:t,scaleY:n}){return!Gp(e)||!Gp(t)||!Gp(n)}function Xo(e){return Wg(e)||JP(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function JP(e){return sw(e.x)||sw(e.y)}function sw(e){return e&&e!=="0%"}function vh(e,t,n){const s=e-n,a=t*s;return n+a}function ow(e,t,n,s,a){return a!==void 0&&(e=vh(e,a,s)),vh(e,n,s)+t}function Hg(e,t=0,n=1,s,a){e.min=ow(e.min,t,n,s,a),e.max=ow(e.max,t,n,s,a)}function eN(e,{x:t,y:n}){Hg(e.x,t.translate,t.scale,t.originPoint),Hg(e.y,n.translate,n.scale,n.originPoint)}const aw=.999999999999,lw=1.0000000000001;function n3(e,t,n,s=!1){const a=n.length;if(!a)return;t.x=t.y=1;let u,f;for(let h=0;h<a;h++){u=n[h],f=u.projectionDelta;const{visualElement:g}=u.options;g&&g.props.style&&g.props.style.display==="contents"||(s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&xl(e,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),f&&(t.x*=f.x.scale,t.y*=f.y.scale,eN(e,f)),s&&Xo(u.latestValues)&&xl(e,u.latestValues))}t.x<lw&&t.x>aw&&(t.x=1),t.y<lw&&t.y>aw&&(t.y=1)}function yl(e,t){e.min=e.min+t,e.max=e.max+t}function cw(e,t,n,s,a=.5){const u=Dt(e.min,e.max,a);Hg(e,t,n,u,s)}function xl(e,t){cw(e.x,t.x,t.scaleX,t.scale,t.originX),cw(e.y,t.y,t.scaleY,t.scale,t.originY)}function tN(e,t){return YP(t3(e.getBoundingClientRect(),t))}function r3(e,t,n){const s=tN(e,n),{scroll:a}=t;return a&&(yl(s.x,a.offset.x),yl(s.y,a.offset.y)),s}const nN=({current:e})=>e?e.ownerDocument.defaultView:null,i3=new WeakMap;class s3{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Zt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=y=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Gu(y).point)},u=(y,w)=>{const{drag:N,dragPropagation:T,onDragStart:A}=this.getProps();if(N&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=XI(N),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Nr(j=>{let M=this.getAxisMotionValue(j).get()||0;if(yi.test(M)){const{projection:R}=this.visualElement;if(R&&R.layout){const D=R.layout.layoutBox[j];D&&(M=ur(D)*(parseFloat(M)/100))}}this.originPoint[j]=M}),A&&jt.postRender(()=>A(y,w)),Ig(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},f=(y,w)=>{const{dragPropagation:N,dragDirectionLock:T,onDirectionLock:A,onDrag:C}=this.getProps();if(!N&&!this.openDragLock)return;const{offset:j}=w;if(T&&this.currentDirection===null){this.currentDirection=o3(j),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",w.point,j),this.updateAxis("y",w.point,j),this.visualElement.render(),C&&C(y,w)},h=(y,w)=>this.stop(y,w),g=()=>Nr(y=>{var w;return this.getAnimationState(y)==="paused"&&((w=this.getAxisMotionValue(y).animation)===null||w===void 0?void 0:w.play())}),{dragSnapToOrigin:v}=this.getProps();this.panSession=new KP(t,{onSessionStart:a,onStart:u,onMove:f,onSessionEnd:h,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,contextWindow:nN(this.visualElement)})}stop(t,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:u}=this.getProps();u&&jt.postRender(()=>u(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:a}=this.getProps();if(!s||!kf(t,a,this.currentDirection))return;const u=this.getAxisMotionValue(t);let f=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(f=K4(f,this.constraints[t],this.elastic[t])),u.set(f)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:s}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,u=this.constraints;n&&pl(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&a?this.constraints=G4(a.layoutBox,n):this.constraints=!1,this.elastic=J4(s),u!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Nr(f=>{this.constraints!==!1&&this.getAxisMotionValue(f)&&(this.constraints[f]=Y4(a.layoutBox[f],this.constraints[f]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!pl(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const u=r3(s,a.root,this.visualElement.getTransformPagePoint());let f=Q4(a.layout.layoutBox,u);if(n){const h=n(e3(f));this.hasMutatedConstraints=!!h,h&&(f=YP(h))}return f}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:u,dragSnapToOrigin:f,onDragTransitionEnd:h}=this.getProps(),g=this.constraints||{},v=Nr(y=>{if(!kf(y,n,this.currentDirection))return;let w=g&&g[y]||{};f&&(w={min:0,max:0});const N=a?200:1e6,T=a?40:1e7,A={type:"inertia",velocity:s?t[y]:0,bounceStiffness:N,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...u,...w};return this.startAxisValueAnimation(y,A)});return Promise.all(v).then(h)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return Ig(this.visualElement,t),s.start(vy(t,s,0,n,this.visualElement,!1))}stopAnimation(){Nr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Nr(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Nr(n=>{const{drag:s}=this.getProps();if(!kf(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,u=this.getAxisMotionValue(n);if(a&&a.layout){const{min:f,max:h}=a.layout.layoutBox[n];u.set(t[n]-Dt(f,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!pl(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Nr(f=>{const h=this.getAxisMotionValue(f);if(h&&this.constraints!==!1){const g=h.get();a[f]=X4({min:g,max:g},this.constraints[f])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Nr(f=>{if(!kf(f,t,null))return;const h=this.getAxisMotionValue(f),{min:g,max:v}=this.constraints[f];h.set(Dt(g,v,a[f]))})}addListeners(){if(!this.visualElement.current)return;i3.set(this.visualElement,this);const t=this.visualElement.current,n=mu(t,"pointerdown",g=>{const{drag:v,dragListener:y=!0}=this.getProps();v&&y&&this.start(g)}),s=()=>{const{dragConstraints:g}=this.getProps();pl(g)&&g.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,u=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),jt.read(s);const f=Fu(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:g,hasLayoutChanged:v})=>{this.isDragging&&v&&(Nr(y=>{const w=this.getAxisMotionValue(y);w&&(this.originPoint[y]+=g[y].translate,w.set(w.get()+g[y].translate))}),this.visualElement.render())}));return()=>{f(),n(),u(),h&&h()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:u=!1,dragElastic:f=Zg,dragMomentum:h=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:u,dragElastic:f,dragMomentum:h}}}function kf(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function o3(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class a3 extends go{constructor(t){super(t),this.removeGroupControls=lr,this.removeListeners=lr,this.controls=new s3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||lr}unmount(){this.removeGroupControls(),this.removeListeners()}}const uw=e=>(t,n)=>{e&&jt.postRender(()=>e(t,n))};class l3 extends go{constructor(){super(...arguments),this.removePointerDownListener=lr}onPointerDown(t){this.session=new KP(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:nN(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:uw(t),onStart:uw(n),onMove:s,onEnd:(u,f)=>{delete this.session,a&&jt.postRender(()=>a(u,f))}}}mount(){this.removePointerDownListener=mu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Vf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function dw(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ru={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ze.test(e))e=parseFloat(e);else return e;const n=dw(e,t.target.x),s=dw(e,t.target.y);return`${n}% ${s}%`}},c3={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,a=oo.parse(e);if(a.length>5)return s;const u=oo.createTransformer(e),f=typeof a[0]!="number"?1:0,h=n.x.scale*t.x,g=n.y.scale*t.y;a[0+f]/=h,a[1+f]/=g;const v=Dt(h,g,.5);return typeof a[2+f]=="number"&&(a[2+f]/=v),typeof a[3+f]=="number"&&(a[3+f]/=v),u(a)}};class u3 extends S.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:u}=t;EI(d3),u&&(n.group&&n.group.add(u),s&&s.register&&a&&s.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Vf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:a,isPresent:u}=this.props,f=s.projection;return f&&(f.isPresent=u,a||t.layoutDependency!==n||n===void 0?f.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?f.promote():f.relegate()||jt.postRender(()=>{const h=f.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Hv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function rN(e){const[t,n]=FS(),s=S.useContext(Fv);return l.jsx(u3,{...e,layoutGroup:s,switchLayoutGroup:S.useContext(qS),isPresent:t,safeToRemove:n})}const d3={borderRadius:{...ru,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ru,borderTopRightRadius:ru,borderBottomLeftRadius:ru,borderBottomRightRadius:ru,boxShadow:c3};function f3(e,t,n){const s=Sn(e)?e:Iu(e);return s.start(vy("",s,t,n)),s.animation}function h3(e){return e instanceof SVGElement&&e.tagName!=="svg"}const m3=(e,t)=>e.depth-t.depth;class p3{constructor(){this.children=[],this.isDirty=!1}add(t){oy(this.children,t),this.isDirty=!0}remove(t){ay(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(m3),this.isDirty=!1,this.children.forEach(t)}}function g3(e,t){const n=xi.now(),s=({timestamp:a})=>{const u=a-n;u>=t&&(so(s),e(u-t))};return jt.read(s,!0),()=>so(s)}const iN=["TopLeft","TopRight","BottomLeft","BottomRight"],v3=iN.length,fw=e=>typeof e=="string"?parseFloat(e):e,hw=e=>typeof e=="number"||ze.test(e);function y3(e,t,n,s,a,u){a?(e.opacity=Dt(0,n.opacity!==void 0?n.opacity:1,x3(s)),e.opacityExit=Dt(t.opacity!==void 0?t.opacity:1,0,_3(s))):u&&(e.opacity=Dt(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let f=0;f<v3;f++){const h=`border${iN[f]}Radius`;let g=mw(t,h),v=mw(n,h);if(g===void 0&&v===void 0)continue;g||(g=0),v||(v=0),g===0||v===0||hw(g)===hw(v)?(e[h]=Math.max(Dt(fw(g),fw(v),s),0),(yi.test(v)||yi.test(g))&&(e[h]+="%")):e[h]=v}(t.rotate||n.rotate)&&(e.rotate=Dt(t.rotate||0,n.rotate||0,s))}function mw(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const x3=sN(0,.5,SP),_3=sN(.5,.95,lr);function sN(e,t,n){return s=>s<e?0:s>t?1:n(Fl(e,t,s))}function pw(e,t){e.min=t.min,e.max=t.max}function Pr(e,t){pw(e.x,t.x),pw(e.y,t.y)}function gw(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function vw(e,t,n,s,a){return e-=t,e=vh(e,1/n,s),a!==void 0&&(e=vh(e,1/a,s)),e}function w3(e,t=0,n=1,s=.5,a,u=e,f=e){if(yi.test(t)&&(t=parseFloat(t),t=Dt(f.min,f.max,t/100)-f.min),typeof t!="number")return;let h=Dt(u.min,u.max,s);e===u&&(h-=t),e.min=vw(e.min,t,n,h,a),e.max=vw(e.max,t,n,h,a)}function yw(e,t,[n,s,a],u,f){w3(e,t[n],t[s],t[a],t.scale,u,f)}const b3=["x","scaleX","originX"],S3=["y","scaleY","originY"];function xw(e,t,n,s){yw(e.x,t,b3,n?n.x:void 0,s?s.x:void 0),yw(e.y,t,S3,n?n.y:void 0,s?s.y:void 0)}function _w(e){return e.translate===0&&e.scale===1}function oN(e){return _w(e.x)&&_w(e.y)}function ww(e,t){return e.min===t.min&&e.max===t.max}function P3(e,t){return ww(e.x,t.x)&&ww(e.y,t.y)}function bw(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function aN(e,t){return bw(e.x,t.x)&&bw(e.y,t.y)}function Sw(e){return ur(e.x)/ur(e.y)}function Pw(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class N3{constructor(){this.members=[]}add(t){oy(this.members,t),t.scheduleRender()}remove(t){if(ay(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const u=this.members[a];if(u.isPresent!==!1){s=u;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function C3(e,t,n){let s="";const a=e.x.translate/t.x,u=e.y.translate/t.y,f=n?.z||0;if((a||u||f)&&(s=`translate3d(${a}px, ${u}px, ${f}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:v,rotate:y,rotateX:w,rotateY:N,skewX:T,skewY:A}=n;v&&(s=`perspective(${v}px) ${s}`),y&&(s+=`rotate(${y}deg) `),w&&(s+=`rotateX(${w}deg) `),N&&(s+=`rotateY(${N}deg) `),T&&(s+=`skewX(${T}deg) `),A&&(s+=`skewY(${A}deg) `)}const h=e.x.scale*t.x,g=e.y.scale*t.y;return(h!==1||g!==1)&&(s+=`scale(${h}, ${g})`),s||"none"}const Yo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},cu=typeof window<"u"&&window.MotionDebug!==void 0,Qp=["","X","Y","Z"],j3={visibility:"hidden"},Nw=1e3;let T3=0;function Xp(e,t,n,s){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),s&&(s[e]=0))}function lN(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=gP(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:u}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",jt,!(a||u))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&lN(s)}function cN({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(f={},h=t?.()){this.id=T3++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,cu&&(Yo.totalNodes=Yo.resolvedTargetDeltas=Yo.recalculatedProjection=0),this.nodes.forEach(A3),this.nodes.forEach(I3),this.nodes.forEach(D3),this.nodes.forEach(L3),cu&&window.MotionDebug.record(Yo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=f,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new p3)}addEventListener(f,h){return this.eventHandlers.has(f)||this.eventHandlers.set(f,new ly),this.eventHandlers.get(f).add(h)}notifyListeners(f,...h){const g=this.eventHandlers.get(f);g&&g.notify(...h)}hasListeners(f){return this.eventHandlers.has(f)}mount(f,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=h3(f),this.instance=f;const{layoutId:g,layout:v,visualElement:y}=this.options;if(y&&!y.current&&y.mount(f),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(v||g)&&(this.isLayoutDirty=!0),e){let w;const N=()=>this.root.updateBlockedByResize=!1;e(f,()=>{this.root.updateBlockedByResize=!0,w&&w(),w=g3(N,250),Vf.hasAnimatedSinceResize&&(Vf.hasAnimatedSinceResize=!1,this.nodes.forEach(jw))})}g&&this.root.registerSharedNode(g,this),this.options.animate!==!1&&y&&(g||v)&&this.addEventListener("didUpdate",({delta:w,hasLayoutChanged:N,hasRelativeTargetChanged:T,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||y.getDefaultTransition()||U3,{onLayoutAnimationStart:j,onLayoutAnimationComplete:M}=y.getProps(),R=!this.targetLayout||!aN(this.targetLayout,A)||T,D=!N&&T;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||D||N&&(R||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(w,D);const O={...ny(C,"layout"),onPlay:j,onComplete:M};(y.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O)}else N||jw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const f=this.getStack();f&&f.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,so(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(F3),this.animationId++)}getTransformTemplate(){const{visualElement:f}=this.options;return f&&f.getProps().transformTemplate}willUpdate(f=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&lN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const w=this.path[y];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:h,layout:g}=this.options;if(h===void 0&&!g)return;const v=this.getTransformTemplate();this.prevTransformTemplateValue=v?v(this.latestValues,""):void 0,this.updateSnapshot(),f&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Cw);return}this.isUpdating||this.nodes.forEach(R3),this.isUpdating=!1,this.nodes.forEach(O3),this.nodes.forEach(k3),this.nodes.forEach(E3),this.clearAllSnapshots();const h=xi.now();dn.delta=ss(0,1e3/60,h-dn.timestamp),dn.timestamp=h,dn.isProcessing=!0,Vp.update.process(dn),Vp.preRender.process(dn),Vp.render.process(dn),dn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Hv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(M3),this.sharedNodes.forEach(z3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,jt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){jt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let g=0;g<this.path.length;g++)this.path[g].updateScroll();const f=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Zt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,f?f.layoutBox:void 0)}updateScroll(f="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===f&&(h=!1),h){const g=s(this.instance);this.scroll={animationId:this.root.animationId,phase:f,isRoot:g,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:g}}}resetTransform(){if(!a)return;const f=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!oN(this.projectionDelta),g=this.getTransformTemplate(),v=g?g(this.latestValues,""):void 0,y=v!==this.prevTransformTemplateValue;f&&(h||Xo(this.latestValues)||y)&&(a(this.instance,v),this.shouldResetTransform=!1,this.scheduleRender())}measure(f=!0){const h=this.measurePageBox();let g=this.removeElementScroll(h);return f&&(g=this.removeTransform(g)),$3(g),{animationId:this.root.animationId,measuredBox:h,layoutBox:g,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:h}=this.options;if(!h)return Zt();const g=h.measureViewportBox();if(!(((f=this.scroll)===null||f===void 0?void 0:f.wasRoot)||this.path.some(Z3))){const{scroll:y}=this.root;y&&(yl(g.x,y.offset.x),yl(g.y,y.offset.y))}return g}removeElementScroll(f){var h;const g=Zt();if(Pr(g,f),!((h=this.scroll)===null||h===void 0)&&h.wasRoot)return g;for(let v=0;v<this.path.length;v++){const y=this.path[v],{scroll:w,options:N}=y;y!==this.root&&w&&N.layoutScroll&&(w.wasRoot&&Pr(g,f),yl(g.x,w.offset.x),yl(g.y,w.offset.y))}return g}applyTransform(f,h=!1){const g=Zt();Pr(g,f);for(let v=0;v<this.path.length;v++){const y=this.path[v];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&xl(g,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Xo(y.latestValues)&&xl(g,y.latestValues)}return Xo(this.latestValues)&&xl(g,this.latestValues),g}removeTransform(f){const h=Zt();Pr(h,f);for(let g=0;g<this.path.length;g++){const v=this.path[g];if(!v.instance||!Xo(v.latestValues))continue;Wg(v.latestValues)&&v.updateSnapshot();const y=Zt(),w=v.measurePageBox();Pr(y,w),xw(h,v.latestValues,v.snapshot?v.snapshot.layoutBox:void 0,y)}return Xo(this.latestValues)&&xw(h,this.latestValues),h}setTargetDelta(f){this.targetDelta=f,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(f){this.options={...this.options,...f,crossfade:f.crossfade!==void 0?f.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==dn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(f=!1){var h;const g=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=g.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=g.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=g.isSharedProjectionDirty);const v=!!this.resumingFrom||this!==g;if(!(f||v&&this.isSharedProjectionDirty||this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:w,layoutId:N}=this.options;if(!(!this.layout||!(w||N))){if(this.resolvedRelativeTargetAt=dn.timestamp,!this.targetDelta&&!this.relativeTarget){const T=this.getClosestProjectingParent();T&&T.layout&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Zt(),this.relativeTargetOrigin=Zt(),gu(this.relativeTargetOrigin,this.layout.layoutBox,T.layout.layoutBox),Pr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Zt(),this.targetWithTransforms=Zt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),q4(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Pr(this.target,this.layout.layoutBox),eN(this.target,this.targetDelta)):Pr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const T=this.getClosestProjectingParent();T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Zt(),this.relativeTargetOrigin=Zt(),gu(this.relativeTargetOrigin,this.target,T.target),Pr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}cu&&Yo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Wg(this.parent.latestValues)||JP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var f;const h=this.getLead(),g=!!this.resumingFrom||this!==h;let v=!0;if((this.isProjectionDirty||!((f=this.parent)===null||f===void 0)&&f.isProjectionDirty)&&(v=!1),g&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(v=!1),this.resolvedRelativeTargetAt===dn.timestamp&&(v=!1),v)return;const{layout:y,layoutId:w}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||w))return;Pr(this.layoutCorrected,this.layout.layoutBox);const N=this.treeScale.x,T=this.treeScale.y;n3(this.layoutCorrected,this.treeScale,this.path,g),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=Zt());const{target:A}=h;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(gw(this.prevProjectionDelta.x,this.projectionDelta.x),gw(this.prevProjectionDelta.y,this.projectionDelta.y)),pu(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==N||this.treeScale.y!==T||!Pw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Pw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A)),cu&&Yo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(f=!0){var h;if((h=this.options.visualElement)===null||h===void 0||h.scheduleRender(),f){const g=this.getStack();g&&g.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=vl(),this.projectionDelta=vl(),this.projectionDeltaWithTransform=vl()}setAnimationOrigin(f,h=!1){const g=this.snapshot,v=g?g.latestValues:{},y={...this.latestValues},w=vl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const N=Zt(),T=g?g.source:void 0,A=this.layout?this.layout.source:void 0,C=T!==A,j=this.getStack(),M=!j||j.members.length<=1,R=!!(C&&!M&&this.options.crossfade===!0&&!this.path.some(V3));this.animationProgress=0;let D;this.mixTargetDelta=O=>{const V=O/1e3;Tw(w.x,f.x,V),Tw(w.y,f.y,V),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gu(N,this.layout.layoutBox,this.relativeParent.layout.layoutBox),B3(this.relativeTarget,this.relativeTargetOrigin,N,V),D&&P3(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=Zt()),Pr(D,this.relativeTarget)),C&&(this.animationValues=y,y3(y,v,this.latestValues,V,R,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(f){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(so(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=jt.update(()=>{Vf.hasAnimatedSinceResize=!0,this.currentAnimation=f3(0,Nw,{...f,onUpdate:h=>{this.mixTargetDelta(h),f.onUpdate&&f.onUpdate(h)},onComplete:()=>{f.onComplete&&f.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const f=this.getStack();f&&f.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Nw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const f=this.getLead();let{targetWithTransforms:h,target:g,layout:v,latestValues:y}=f;if(!(!h||!g||!v)){if(this!==f&&this.layout&&v&&uN(this.options.animationType,this.layout.layoutBox,v.layoutBox)){g=this.target||Zt();const w=ur(this.layout.layoutBox.x);g.x.min=f.target.x.min,g.x.max=g.x.min+w;const N=ur(this.layout.layoutBox.y);g.y.min=f.target.y.min,g.y.max=g.y.min+N}Pr(h,g),xl(h,y),pu(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(f,h){this.sharedNodes.has(f)||this.sharedNodes.set(f,new N3),this.sharedNodes.get(f).add(h);const v=h.options.initialPromotionConfig;h.promote({transition:v?v.transition:void 0,preserveFollowOpacity:v&&v.shouldPreserveFollowOpacity?v.shouldPreserveFollowOpacity(h):void 0})}isLead(){const f=this.getStack();return f?f.lead===this:!0}getLead(){var f;const{layoutId:h}=this.options;return h?((f=this.getStack())===null||f===void 0?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:h}=this.options;return h?(f=this.getStack())===null||f===void 0?void 0:f.prevLead:void 0}getStack(){const{layoutId:f}=this.options;if(f)return this.root.sharedNodes.get(f)}promote({needsReset:f,transition:h,preserveFollowOpacity:g}={}){const v=this.getStack();v&&v.promote(this,g),f&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const f=this.getStack();return f?f.relegate(this):!1}resetSkewAndRotation(){const{visualElement:f}=this.options;if(!f)return;let h=!1;const{latestValues:g}=f;if((g.z||g.rotate||g.rotateX||g.rotateY||g.rotateZ||g.skewX||g.skewY)&&(h=!0),!h)return;const v={};g.z&&Xp("z",f,v,this.animationValues);for(let y=0;y<Qp.length;y++)Xp(`rotate${Qp[y]}`,f,v,this.animationValues),Xp(`skew${Qp[y]}`,f,v,this.animationValues);f.render();for(const y in v)f.setStaticValue(y,v[y]),this.animationValues&&(this.animationValues[y]=v[y]);f.scheduleRender()}getProjectionStyles(f){var h,g;if(!this.instance||this.isSVG)return;if(!this.isVisible)return j3;const v={visibility:""},y=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,v.opacity="",v.pointerEvents=zf(f?.pointerEvents)||"",v.transform=y?y(this.latestValues,""):"none",v;const w=this.getLead();if(!this.projectionDelta||!this.layout||!w.target){const C={};return this.options.layoutId&&(C.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,C.pointerEvents=zf(f?.pointerEvents)||""),this.hasProjected&&!Xo(this.latestValues)&&(C.transform=y?y({},""):"none",this.hasProjected=!1),C}const N=w.animationValues||w.latestValues;this.applyTransformsToTarget(),v.transform=C3(this.projectionDeltaWithTransform,this.treeScale,N),y&&(v.transform=y(N,v.transform));const{x:T,y:A}=this.projectionDelta;v.transformOrigin=`${T.origin*100}% ${A.origin*100}% 0`,w.animationValues?v.opacity=w===this?(g=(h=N.opacity)!==null&&h!==void 0?h:this.latestValues.opacity)!==null&&g!==void 0?g:1:this.preserveOpacity?this.latestValues.opacity:N.opacityExit:v.opacity=w===this?N.opacity!==void 0?N.opacity:"":N.opacityExit!==void 0?N.opacityExit:0;for(const C in fh){if(N[C]===void 0)continue;const{correct:j,applyTo:M}=fh[C],R=v.transform==="none"?N[C]:j(N[C],w);if(M){const D=M.length;for(let O=0;O<D;O++)v[M[O]]=R}else v[C]=R}return this.options.layoutId&&(v.pointerEvents=w===this?zf(f?.pointerEvents)||"":"none"),v}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(f=>{var h;return(h=f.currentAnimation)===null||h===void 0?void 0:h.stop()}),this.root.nodes.forEach(Cw),this.root.sharedNodes.clear()}}}function k3(e){e.updateLayout()}function E3(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=e.layout,{animationType:u}=e.options,f=n.source!==e.layout.source;u==="size"?Nr(w=>{const N=f?n.measuredBox[w]:n.layoutBox[w],T=ur(N);N.min=s[w].min,N.max=N.min+T}):uN(u,n.layoutBox,s)&&Nr(w=>{const N=f?n.measuredBox[w]:n.layoutBox[w],T=ur(s[w]);N.max=N.min+T,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[w].max=e.relativeTarget[w].min+T)});const h=vl();pu(h,s,n.layoutBox);const g=vl();f?pu(g,e.applyTransform(a,!0),n.measuredBox):pu(g,s,n.layoutBox);const v=!oN(h);let y=!1;if(!e.resumeFrom){const w=e.getClosestProjectingParent();if(w&&!w.resumeFrom){const{snapshot:N,layout:T}=w;if(N&&T){const A=Zt();gu(A,n.layoutBox,N.layoutBox);const C=Zt();gu(C,s,T.layoutBox),aN(A,C)||(y=!0),w.options.layoutRoot&&(e.relativeTarget=C,e.relativeTargetOrigin=A,e.relativeParent=w)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:g,layoutDelta:h,hasLayoutChanged:v,hasRelativeTargetChanged:y})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function A3(e){cu&&Yo.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function L3(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function M3(e){e.clearSnapshot()}function Cw(e){e.clearMeasurements()}function R3(e){e.isLayoutDirty=!1}function O3(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function jw(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function I3(e){e.resolveTargetDelta()}function D3(e){e.calcProjection()}function F3(e){e.resetSkewAndRotation()}function z3(e){e.removeLeadSnapshot()}function Tw(e,t,n){e.translate=Dt(t.translate,0,n),e.scale=Dt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function kw(e,t,n,s){e.min=Dt(t.min,n.min,s),e.max=Dt(t.max,n.max,s)}function B3(e,t,n,s){kw(e.x,t.x,n.x,s),kw(e.y,t.y,n.y,s)}function V3(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const U3={duration:.45,ease:[.4,0,.1,1]},Ew=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Aw=Ew("applewebkit/")&&!Ew("chrome/")?Math.round:lr;function Lw(e){e.min=Aw(e.min),e.max=Aw(e.max)}function $3(e){Lw(e.x),Lw(e.y)}function uN(e,t,n){return e==="position"||e==="preserve-aspect"&&!H4(Sw(t),Sw(n),.2)}function Z3(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const W3=cN({attachResizeListener:(e,t)=>Fu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Yp={current:void 0},dN=cN({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Yp.current){const e=new W3({});e.mount(window),e.setOptions({layoutScroll:!0}),Yp.current=e}return Yp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),H3={pan:{Feature:l3},drag:{Feature:a3,ProjectionNode:dN,MeasureLayout:rN}};function Mw(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,u=s[a];u&&jt.postRender(()=>u(t,Gu(t)))}class q3 extends go{mount(){const{current:t}=this.node;t&&(this.unmount=HI(t,n=>(Mw(this.node,n,"Start"),s=>Mw(this.node,s,"End"))))}unmount(){}}class K3 extends go{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ku(Fu(this.node.current,"focus",()=>this.onFocus()),Fu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Rw(e,t,n){const{props:s}=e;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),u=s[a];u&&jt.postRender(()=>u(t,Gu(t)))}class G3 extends go{mount(){const{current:t}=this.node;t&&(this.unmount=QI(t,n=>(Rw(this.node,n,"Start"),(s,{success:a})=>Rw(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const qg=new WeakMap,Jp=new WeakMap,Q3=e=>{const t=qg.get(e.target);t&&t(e)},X3=e=>{e.forEach(Q3)};function Y3({root:e,...t}){const n=e||document;Jp.has(n)||Jp.set(n,{});const s=Jp.get(n),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(X3,{root:e,...t})),s[a]}function J3(e,t,n){const s=Y3(t);return qg.set(e,n),s.observe(e),()=>{qg.delete(e),s.unobserve(e)}}const e5={some:0,all:1};class t5 extends go{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:u}=t,f={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:e5[a]},h=g=>{const{isIntersecting:v}=g;if(this.isInView===v||(this.isInView=v,u&&!v&&this.hasEnteredView))return;v&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",v);const{onViewportEnter:y,onViewportLeave:w}=this.node.getProps(),N=v?y:w;N&&N(g)};return J3(this.node.current,f,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(n5(t,n))&&this.startObserver()}unmount(){}}function n5({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const r5={inView:{Feature:t5},tap:{Feature:G3},focus:{Feature:K3},hover:{Feature:q3}},i5={layout:{ProjectionNode:dN,MeasureLayout:rN}},Kg={current:null},fN={current:!1};function s5(){if(fN.current=!0,!!Vv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Kg.current=e.matches;e.addListener(t),t()}else Kg.current=!1}const o5=[...DP,bn,oo],a5=e=>o5.find(IP(e)),Ow=new WeakMap;function l5(e,t,n){for(const s in t){const a=t[s],u=n[s];if(Sn(a))e.addValue(s,a);else if(Sn(u))e.addValue(s,Iu(a,{owner:e}));else if(u!==a)if(e.hasValue(s)){const f=e.getValue(s);f.liveStyle===!0?f.jump(a):f.hasAnimated||f.set(a)}else{const f=e.getStaticValue(s);e.addValue(s,Iu(f!==void 0?f:a,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const Iw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class c5{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:u,visualState:f},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=my,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=xi.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,jt.render(this.render,!1,!0))};const{latestValues:g,renderState:v,onUpdate:y}=f;this.onUpdate=y,this.latestValues=g,this.baseTarget={...g},this.initialValues=n.initial?{...g}:{},this.renderState=v,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!u,this.isControllingVariants=$h(n),this.isVariantNode=WS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:w,...N}=this.scrapeMotionValuesFromProps(n,{},this);for(const T in N){const A=N[T];g[T]!==void 0&&Sn(A)&&A.set(g[T],!1)}}mount(t){this.current=t,Ow.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),fN.current||s5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Kg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Ow.delete(this.current),this.projection&&this.projection.unmount(),so(this.notifyUpdate),so(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=pa.has(t),a=n.on("change",h=>{this.latestValues[t]=h,this.props.onUpdate&&jt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),u=n.on("renderRequest",this.scheduleRender);let f;window.MotionCheckAppearSync&&(f=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),u(),f&&f(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in zl){const n=zl[t];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Zt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Iw.length;s++){const a=Iw[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const u="on"+a,f=t[u];f&&(this.propEventSubscriptions[a]=this.on(a,f))}this.prevMotionValues=l5(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=Iu(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){var s;let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(s=this.getBaseTargetFromProps(this.props,t))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(RP(a)||NP(a))?a=parseFloat(a):!a5(a)&&oo.test(n)&&(a=AP(t,n)),this.setBaseTarget(t,Sn(a)?a.get():a)),Sn(a)?a.get():a}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:s}=this.props;let a;if(typeof s=="string"||typeof s=="object"){const f=Kv(this.props,s,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);f&&(a=f[t])}if(s&&a!==void 0)return a;const u=this.getBaseTargetFromProps(this.props,t);return u!==void 0&&!Sn(u)?u:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new ly),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class hN extends c5{constructor(){super(...arguments),this.KeyframeResolver=FP}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Sn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function u5(e){return window.getComputedStyle(e)}class d5 extends hN{constructor(){super(...arguments),this.type="html",this.renderInstance=eP}readValueFromInstance(t,n){if(pa.has(n)){const s=hy(n);return s&&s.default||0}else{const s=u5(t),a=(XS(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return tN(t,n)}build(t,n,s){Xv(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return ty(t,n,s)}}class f5 extends hN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Zt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(pa.has(n)){const s=hy(n);return s&&s.default||0}return n=tP.has(n)?n:Wv(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return iP(t,n,s)}build(t,n,s){Yv(t,n,this.isSVGTag,s.transformTemplate)}renderInstance(t,n,s,a){nP(t,n,s,a)}mount(t){this.isSVGTag=ey(t.tagName),super.mount(t)}}const h5=(e,t)=>qv(e)?new f5(t):new d5(t,{allowProjection:e!==S.Fragment}),m5=zI({...D4,...r5,...H3,...i5},h5),sr=eI(m5);function ga(){const[e]=fa(),{t}=mo(),{prefixLink:n,isPreview:s}=ls(),a=[{href:"/",labelKey:"nav.home",icon:p1},{href:"/categories",labelKey:"nav.categories",icon:kh},{href:"/favorites",labelKey:"nav.favorites",icon:Al},{href:"/offers",labelKey:"nav.offers",icon:Xs},{href:"/search",labelKey:"nav.search",icon:v1}];return l.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-card/95 backdrop-blur-lg border-t border-border pb-safe z-50 shadow-[0_-4px_30px_-5px_rgba(0,0,0,0.5)]",children:l.jsx("div",{className:"flex justify-around items-center px-2 py-3",children:a.map(u=>{const f=n(u.href),h=s?e===f||u.href==="/"&&e==="/preview":e===u.href,g=u.icon;return l.jsx(Ut,{href:f,className:"flex-1",children:l.jsxs("div",{className:`
                flex flex-col items-center justify-center gap-1 py-1 px-3 rounded-2xl transition-all duration-300
                ${h?"text-primary":"text-muted-foreground hover:text-foreground"}
              `,children:[l.jsxs("div",{className:"relative",children:[l.jsx(g,{className:`w-6 h-6 ${h?"stroke-[2.5px]":"stroke-2"}`}),h&&l.jsx(sr.div,{layoutId:"nav-indicator",className:"absolute -bottom-2 left-1/2 -translate-x-1/2 w-1 h-1 bg-primary rounded-full"})]}),l.jsx("span",{className:"text-[10px] font-medium",children:t(u.labelKey)})]})},u.href)})})})}function va({title:e,backHref:t}){const{language:n,setLanguage:s,t:a}=mo(),{prefixLink:u,isPreview:f}=ls(),h=()=>{s(n==="ar"?"en":"ar")};return l.jsx("header",{className:"sticky top-0 z-40 bg-background/80 backdrop-blur-md border-b border-border/40",children:l.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[t?l.jsx(Ut,{href:u(t),className:"p-2 -mr-2 rounded-full hover:bg-muted/50 transition-colors",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-arrow-right",children:[l.jsx("path",{d:"M5 12h14"}),l.jsx("path",{d:"m12 5 7 7-7 7"})]})}):l.jsx(Ut,{href:u("/"),className:"font-display font-bold text-xl gold-gradient",children:a("app.name")}),e&&l.jsx("h1",{className:"text-lg font-bold truncate",children:e})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:h,className:"flex items-center gap-1.5 px-3 py-1.5 bg-muted hover:bg-muted/80 rounded-full text-sm font-medium transition-colors","data-testid":"button-language-toggle",children:[l.jsx(m1,{className:"w-4 h-4"}),l.jsx("span",{children:a("language.switch")})]}),!f&&l.jsx(Ut,{href:"/admin/login",children:l.jsx("div",{className:"p-2 text-muted-foreground/30 hover:text-muted-foreground/50 transition-opacity",title:"",children:l.jsx(y1,{className:"w-3.5 h-3.5"})})})]})]})})}function mN({initialValue:e=""}){const{t}=mo(),[n,s]=S.useState(e),a=QA(),u=f=>{f.preventDefault(),n.trim()&&a(`/search?q=${encodeURIComponent(n.trim())}`)};return l.jsx("form",{onSubmit:u,className:"relative w-full group",children:l.jsxs("div",{className:`
        relative flex items-center w-full h-14 rounded-2xl
        bg-card shadow-lg border border-border/50
        focus-within:border-primary focus-within:ring-4 focus-within:ring-primary/10
        transition-all duration-300
      `,children:[l.jsx("div",{className:"grid place-items-center h-full w-14 text-muted-foreground group-focus-within:text-primary transition-colors",children:l.jsx(v1,{className:"w-6 h-6"})}),l.jsx("input",{className:"peer h-full w-full outline-none text-base text-foreground placeholder:text-muted-foreground bg-transparent ml-4 font-medium",type:"text",id:"search",placeholder:t("search.placeholder"),value:n,onChange:f=>s(f.target.value),"data-testid":"input-search"}),l.jsx("button",{type:"submit",className:`
            absolute left-2 bg-primary text-white p-2.5 rounded-xl
            hover:bg-primary/90 hover:scale-105 active:scale-95
            transition-all duration-200
            shadow-lg shadow-primary/20
          `,"data-testid":"button-search",children:t("search.button")})]})})}const pN="/assets/delicious_restaurant_ff60ef77-iKsa0ogU.jpg",p5="/assets/luxury_car_dealershi_979c1cf5-D431THzI.jpg",g5="/assets/modern_smartphone_mo_0ffab66e-CRKxlBnp.jpg",v5="/assets/home_maintenance_rep_7b8d9c58-DY59VQQh.jpg",y5="/assets/healthcare_medical_c_41a6f1f1-BkJQKR4n.jpg",x5="/assets/fashion_clothing_sto_69687f15-CE6l6ygO.jpg",_5={restaurants:pN,cars:p5,mobiles:g5,maintenance:v5,health:y5,clothes:x5};function gN({category:e,index:t}){const{prefixLink:n}=ls();let s;return e.imageUrl&&e.imageUrl.length>0?s=e.imageUrl:s=_5[e.slug]||pN,l.jsx(Ut,{href:n(`/categories/${e.id}`),className:"block h-full",children:l.jsxs("div",{className:`
          relative overflow-hidden rounded-2xl h-36 md:h-44
          shadow-lg hover:shadow-2xl hover:-translate-y-1
          transition-all duration-300 group cursor-pointer
        `,"data-testid":`card-category-${e.id}`,children:[l.jsx("img",{src:s,alt:e.name,className:"absolute inset-0 w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:l.jsx("span",{className:"font-display font-bold text-lg text-white drop-shadow-lg",children:e.name})}),l.jsx("div",{className:"absolute inset-0 border border-white/10 rounded-2xl group-hover:border-primary/40 transition-colors"})]})})}const yy="delini_favorites";function Gg(){try{const e=localStorage.getItem(yy);return e?JSON.parse(e):[]}catch{return[]}}function Dw(e){localStorage.setItem(yy,JSON.stringify(e)),window.dispatchEvent(new CustomEvent("favorites-updated"))}let zu=Gg();const Fw=new Set;function w5(e){Fw.add(e);const t=s=>{s.key===yy&&(zu=Gg(),e())},n=()=>{zu=Gg(),e()};return window.addEventListener("storage",t),window.addEventListener("favorites-updated",n),()=>{Fw.delete(e),window.removeEventListener("storage",t),window.removeEventListener("favorites-updated",n)}}function b5(){return zu}function xy(){const e=S.useSyncExternalStore(w5,b5),t=S.useCallback(u=>{const f=[...e,u];zu=f,Dw(f)},[e]),n=S.useCallback(u=>{const f=e.filter(h=>h!==u);zu=f,Dw(f)},[e]),s=S.useCallback(u=>{e.includes(u)?n(u):t(u)},[e,t,n]),a=S.useCallback(u=>e.includes(u),[e]);return{favorites:e,addFavorite:t,removeFavorite:n,toggleFavorite:s,isFavorite:a}}function zw(e,t){if(e<1){const n=Math.round(e*1e3);return t==="ar"?`${n} `:`${n}m`}return t==="ar"?`${e.toFixed(1)} `:`${e.toFixed(1)}km`}function S5(e){if(!e||e.startsWith("/")||e.startsWith("data:"))return e;const t=e.includes("?")?"&":"?";return`${e}${t}v=2`}function Hh({business:e,layout:t="grid",index:n=0}){const{prefixLink:s}=ls(),{language:a}=mo(),{isFavorite:u,toggleFavorite:f}=xy(),h=e.imageUrl||`https://placehold.co/600x400/1a1a2e/d4a655?text=${encodeURIComponent(e.name)}`,g=S5(h),v=e.averageRating||0,y=e.workingHoursJson,w=Iv(y),N=w?OS(w):null,T=u(e.id),A=C=>{C.preventDefault(),C.stopPropagation(),f(e.id)};return t==="list"?l.jsx(Ut,{href:s(`/businesses/${e.id}`),children:l.jsxs(sr.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:n*.05},className:`
            flex gap-4 p-3 bg-card rounded-2xl border border-border/40 shadow-sm
            hover:shadow-md hover:border-primary/20 transition-all cursor-pointer
            group overflow-hidden
          `,children:[l.jsx("div",{className:"w-24 h-24 flex-shrink-0 rounded-xl overflow-hidden bg-muted",children:l.jsx("img",{src:g,alt:e.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"})}),l.jsxs("div",{className:"flex-1 flex flex-col justify-center min-w-0",children:[l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsx("h3",{className:"font-bold text-lg text-foreground truncate group-hover:text-primary transition-colors",children:e.name}),l.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[e.subscriptionTier==="vip"&&l.jsx(vg,{className:"w-5 h-5 text-blue-500 fill-blue-50"}),l.jsx("button",{onClick:A,className:"p-1 rounded-full hover:bg-muted transition-colors","data-testid":`button-favorite-${e.id}`,children:l.jsx(Al,{className:`w-4 h-4 ${T?"fill-red-500 text-red-500":"text-muted-foreground"}`})})]})]}),l.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[e.category&&l.jsx("span",{className:"text-xs text-muted-foreground bg-muted/50 px-2 py-0.5 rounded-full",children:e.category.name}),N!==null&&l.jsxs("span",{className:`text-xs px-2 py-0.5 rounded-full flex items-center gap-1 ${N?"bg-green-500/20 text-green-600 dark:text-green-400":"bg-red-500/20 text-red-600 dark:text-red-400"}`,children:[l.jsx(Qs,{className:"w-3 h-3"}),N?a==="ar"?"":"Open":a==="ar"?"":"Closed"]})]}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsxs("div",{className:"flex items-center text-primary",children:[l.jsx(ts,{className:"w-3.5 h-3.5 fill-current"}),l.jsx("span",{className:"text-xs mr-1 font-bold text-foreground",children:v>0?v.toFixed(1):"-"})]}),e.reviewCount!==void 0&&e.reviewCount>0&&l.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",e.reviewCount,")"]})]}),l.jsxs("div",{className:"mt-auto pt-2 flex items-center justify-between text-sm text-muted-foreground gap-2",children:[l.jsxs("div",{className:"flex items-center gap-1 truncate min-w-0",children:[l.jsx(_i,{className:"w-3.5 h-3.5 flex-shrink-0"}),l.jsx("span",{className:"truncate",children:e.address||"  "})]}),e.distance!==void 0&&l.jsxs("div",{className:"flex items-center gap-1 text-primary text-xs font-medium flex-shrink-0",children:[l.jsx(Xf,{className:"w-3 h-3"}),l.jsx("span",{children:zw(e.distance,a)})]})]})]})]})}):l.jsx(Ut,{href:s(`/businesses/${e.id}`),className:"block h-full",children:l.jsxs(sr.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:n*.05},className:`
          flex flex-col h-full bg-card rounded-2xl border border-border/40 shadow-sm
          hover:shadow-xl hover:-translate-y-1 transition-all duration-300
          group overflow-hidden cursor-pointer
        `,children:[l.jsxs("div",{className:"h-40 w-full relative overflow-hidden bg-muted",children:[l.jsx("img",{src:g,alt:e.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),l.jsxs("div",{className:"absolute top-3 right-3 flex items-center gap-1.5",children:[N!==null&&l.jsxs("span",{className:`text-[10px] px-2 py-0.5 rounded-full flex items-center gap-1 backdrop-blur-sm shadow-sm ${N?"bg-green-500/90 text-white":"bg-red-500/90 text-white"}`,children:[l.jsx(Qs,{className:"w-2.5 h-2.5"}),N?a==="ar"?"":"Open":a==="ar"?"":"Closed"]}),e.subscriptionTier==="vip"&&l.jsx("div",{className:"bg-white/90 backdrop-blur-sm p-1 rounded-full shadow-sm",children:l.jsx(vg,{className:"w-5 h-5 text-blue-500 fill-blue-50"})})]}),l.jsx("button",{onClick:A,className:"absolute top-3 left-3 bg-white/90 backdrop-blur-sm p-1.5 rounded-full shadow-sm hover:bg-white transition-colors","data-testid":`button-favorite-grid-${e.id}`,children:l.jsx(Al,{className:`w-4 h-4 ${T?"fill-red-500 text-red-500":"text-muted-foreground"}`})})]}),l.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[l.jsxs("div",{className:"flex justify-between items-start mb-1",children:[e.category&&l.jsx("span",{className:"text-[10px] font-semibold tracking-wider text-primary uppercase",children:e.category.name}),l.jsxs("div",{className:"flex items-center text-primary",children:[l.jsx(ts,{className:"w-3 h-3 fill-current"}),l.jsx("span",{className:"text-xs mr-1 font-bold text-foreground",children:v>0?v.toFixed(1):"-"})]})]}),l.jsx("h3",{className:"font-display font-bold text-lg mb-2 line-clamp-1 group-hover:text-primary transition-colors",children:e.name}),l.jsxs("div",{className:"mt-auto flex items-center justify-between text-sm text-muted-foreground gap-2 pt-3 border-t border-border/40",children:[l.jsxs("div",{className:"flex items-center gap-1.5 min-w-0",children:[l.jsx(_i,{className:"w-4 h-4 text-primary/70 flex-shrink-0"}),l.jsx("span",{className:"line-clamp-1 text-xs",children:e.address||"  "})]}),e.distance!==void 0&&l.jsxs("div",{className:"flex items-center gap-1 text-primary text-xs font-medium flex-shrink-0",children:[l.jsx(Xf,{className:"w-3 h-3"}),l.jsx("span",{children:zw(e.distance,a)})]})]})]})]})})}function fn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function P5(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const Ef=43200,Bw=1440;let N5={};function C5(){return N5}function Vw(e){const t=fn(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Uf(e,t){const n=fn(e),s=fn(t),a=n.getTime()-s.getTime();return a<0?-1:a>0?1:a}function j5(e){return P5(e,Date.now())}function T5(e,t){const n=fn(e),s=fn(t),a=n.getFullYear()-s.getFullYear(),u=n.getMonth()-s.getMonth();return a*12+u}function k5(e){return t=>{const s=(e?Math[e]:Math.trunc)(t);return s===0?0:s}}function E5(e,t){return+fn(e)-+fn(t)}function A5(e){const t=fn(e);return t.setHours(23,59,59,999),t}function L5(e){const t=fn(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function M5(e){const t=fn(e);return+A5(t)==+L5(t)}function R5(e,t){const n=fn(e),s=fn(t),a=Uf(n,s),u=Math.abs(T5(n,s));let f;if(u<1)f=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-a*u);let h=Uf(n,s)===-a;M5(fn(e))&&u===1&&Uf(e,s)===1&&(h=!1),f=a*(u-Number(h))}return f===0?0:f}function O5(e,t,n){const s=E5(e,t)/1e3;return k5(n?.roundingMethod)(s)}const I5={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},D5=(e,t,n)=>{let s;const a=I5[e];return typeof a=="string"?s=a:t===1?s=a.one:s=a.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function jl(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const F5={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},z5={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},B5={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},V5={date:jl({formats:F5,defaultWidth:"full"}),time:jl({formats:z5,defaultWidth:"full"}),dateTime:jl({formats:B5,defaultWidth:"full"})},U5={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},$5=(e,t,n,s)=>U5[e];function hi(e){return(t,n)=>{const s=n?.context?String(n.context):"standalone";let a;if(s==="formatting"&&e.formattingValues){const f=e.defaultFormattingWidth||e.defaultWidth,h=n?.width?String(n.width):f;a=e.formattingValues[h]||e.formattingValues[f]}else{const f=e.defaultWidth,h=n?.width?String(n.width):e.defaultWidth;a=e.values[h]||e.values[f]}const u=e.argumentCallback?e.argumentCallback(t):t;return a[u]}}const Z5={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},W5={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},H5={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},q5={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},K5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},G5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Q5=(e,t)=>{const n=Number(e),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},X5={ordinalNumber:Q5,era:hi({values:Z5,defaultWidth:"wide"}),quarter:hi({values:W5,defaultWidth:"wide",argumentCallback:e=>e-1}),month:hi({values:H5,defaultWidth:"wide"}),day:hi({values:q5,defaultWidth:"wide"}),dayPeriod:hi({values:K5,defaultWidth:"wide",formattingValues:G5,defaultFormattingWidth:"wide"})};function mi(e){return(t,n={})=>{const s=n.width,a=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],u=t.match(a);if(!u)return null;const f=u[0],h=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],g=Array.isArray(h)?J5(h,w=>w.test(f)):Y5(h,w=>w.test(f));let v;v=e.valueCallback?e.valueCallback(g):g,v=n.valueCallback?n.valueCallback(v):v;const y=t.slice(f.length);return{value:v,rest:y}}}function Y5(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function J5(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function vN(e){return(t,n={})=>{const s=t.match(e.matchPattern);if(!s)return null;const a=s[0],u=t.match(e.parsePattern);if(!u)return null;let f=e.valueCallback?e.valueCallback(u[0]):u[0];f=n.valueCallback?n.valueCallback(f):f;const h=t.slice(a.length);return{value:f,rest:h}}}const eF=/^(\d+)(th|st|nd|rd)?/i,tF=/\d+/i,nF={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},rF={any:[/^b/i,/^(a|c)/i]},iF={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},sF={any:[/1/i,/2/i,/3/i,/4/i]},oF={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},aF={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},lF={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},cF={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},uF={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},dF={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},fF={ordinalNumber:vN({matchPattern:eF,parsePattern:tF,valueCallback:e=>parseInt(e,10)}),era:mi({matchPatterns:nF,defaultMatchWidth:"wide",parsePatterns:rF,defaultParseWidth:"any"}),quarter:mi({matchPatterns:iF,defaultMatchWidth:"wide",parsePatterns:sF,defaultParseWidth:"any",valueCallback:e=>e+1}),month:mi({matchPatterns:oF,defaultMatchWidth:"wide",parsePatterns:aF,defaultParseWidth:"any"}),day:mi({matchPatterns:lF,defaultMatchWidth:"wide",parsePatterns:cF,defaultParseWidth:"any"}),dayPeriod:mi({matchPatterns:uF,defaultMatchWidth:"any",parsePatterns:dF,defaultParseWidth:"any"})},hF={code:"en-US",formatDistance:D5,formatLong:V5,formatRelative:$5,localize:X5,match:fF,options:{weekStartsOn:0,firstWeekContainsDate:1}};function mF(e,t,n){const s=C5(),a=n?.locale??s.locale??hF,u=2520,f=Uf(e,t);if(isNaN(f))throw new RangeError("Invalid time value");const h=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:f});let g,v;f>0?(g=fn(t),v=fn(e)):(g=fn(e),v=fn(t));const y=O5(v,g),w=(Vw(v)-Vw(g))/1e3,N=Math.round((y-w)/60);let T;if(N<2)return n?.includeSeconds?y<5?a.formatDistance("lessThanXSeconds",5,h):y<10?a.formatDistance("lessThanXSeconds",10,h):y<20?a.formatDistance("lessThanXSeconds",20,h):y<40?a.formatDistance("halfAMinute",0,h):y<60?a.formatDistance("lessThanXMinutes",1,h):a.formatDistance("xMinutes",1,h):N===0?a.formatDistance("lessThanXMinutes",1,h):a.formatDistance("xMinutes",N,h);if(N<45)return a.formatDistance("xMinutes",N,h);if(N<90)return a.formatDistance("aboutXHours",1,h);if(N<Bw){const A=Math.round(N/60);return a.formatDistance("aboutXHours",A,h)}else{if(N<u)return a.formatDistance("xDays",1,h);if(N<Ef){const A=Math.round(N/Bw);return a.formatDistance("xDays",A,h)}else if(N<Ef*2)return T=Math.round(N/Ef),a.formatDistance("aboutXMonths",T,h)}if(T=R5(v,g),T<12){const A=Math.round(N/Ef);return a.formatDistance("xMonths",A,h)}else{const A=T%12,C=Math.trunc(T/12);return A<3?a.formatDistance("aboutXYears",C,h):A<9?a.formatDistance("overXYears",C,h):a.formatDistance("almostXYears",C+1,h)}}function yN(e,t){return mF(e,j5(e),t)}const pF={lessThanXSeconds:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xSeconds:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},halfAMinute:" ",lessThanXMinutes:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xMinutes:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXHours:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xHours:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},xDays:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXWeeks:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xWeeks:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXMonths:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xMonths:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXYears:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xYears:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},overXYears:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},almostXYears:{one:"   ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "}},gF=(e,t,n)=>{const s=pF[e];let a;return typeof s=="string"?a=s:t===1?a=s.one:t===2?a=s.two:t<=10?a=s.threeToTen.replace("{{count}}",String(t)):a=s.other.replace("{{count}}",String(t)),n?.addSuffix?n.comparison&&n.comparison>0?" "+a:" "+a:a},vF={full:"EEEE do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},yF={full:"HH:mm:ss",long:"HH:mm:ss",medium:"HH:mm:ss",short:"HH:mm"},xF={full:"{{date}} ' ' {{time}}",long:"{{date}} ' ' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},_F={date:jl({formats:vF,defaultWidth:"full"}),time:jl({formats:yF,defaultWidth:"full"}),dateTime:jl({formats:xF,defaultWidth:"full"})},wF={lastWeek:"eeee '  ' p",yesterday:"'  ' p",today:"'  ' p",tomorrow:"'  ' p",nextWeek:"eeee '  ' p",other:"P"},bF=e=>wF[e],SF={narrow:["",""],abbreviated:["..",".."],wide:[" "," "]},PF={narrow:["1","2","3","4"],abbreviated:["1","2","3","4"],wide:[" "," "," "," "]},NF={narrow:["","","","","","","","","","","",""],abbreviated:["","","","","","","","","","","",""],wide:["","","","","","","","","","","",""]},CF={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},jF={narrow:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},abbreviated:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},wide:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "}},TF={narrow:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},abbreviated:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},wide:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "}},kF=e=>String(e),EF={ordinalNumber:kF,era:hi({values:SF,defaultWidth:"wide"}),quarter:hi({values:PF,defaultWidth:"wide",argumentCallback:e=>e-1}),month:hi({values:NF,defaultWidth:"wide"}),day:hi({values:CF,defaultWidth:"wide"}),dayPeriod:hi({values:jF,defaultWidth:"wide",formattingValues:TF,defaultFormattingWidth:"wide"})},AF=/^(\d+)(th|st|nd|rd)?/i,LF=/\d+/i,MF={narrow:/[]/,abbreviated:/[]\.\./,wide:/(|) /},RF={any:[//,//]},OF={narrow:/^[1234]/i,abbreviated:/[1234]/,wide:/ (|||)/},IF={any:[/1/i,/2/i,/3/i,/4/i]},DF={narrow:/^[]/,abbreviated:/^(|||||||||||)/,wide:/^(|||||||||||)/},FF={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},zF={narrow:/^[]/i,short:/^(||||||)/i,abbreviated:/^(||||||)/i,wide:/^(||||||)/i},BF={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},VF={narrow:/^(|| || | | | )/,any:/^(|| || | | | )/},UF={any:{am:/^/,pm:/^/,midnight:/ /,noon://,afternoon:/ /,morning:/ /,evening:/ /,night:/ /}},$F={ordinalNumber:vN({matchPattern:AF,parsePattern:LF,valueCallback:e=>parseInt(e,10)}),era:mi({matchPatterns:MF,defaultMatchWidth:"wide",parsePatterns:RF,defaultParseWidth:"any"}),quarter:mi({matchPatterns:OF,defaultMatchWidth:"wide",parsePatterns:IF,defaultParseWidth:"any",valueCallback:e=>e+1}),month:mi({matchPatterns:DF,defaultMatchWidth:"wide",parsePatterns:FF,defaultParseWidth:"any"}),day:mi({matchPatterns:zF,defaultMatchWidth:"wide",parsePatterns:BF,defaultParseWidth:"any"}),dayPeriod:mi({matchPatterns:VF,defaultMatchWidth:"any",parsePatterns:UF,defaultParseWidth:"any"})},xN={code:"ar",formatDistance:gF,formatLong:_F,formatRelative:bF,localize:EF,match:$F,options:{weekStartsOn:6,firstWeekContainsDate:1}};function _y({offer:e,index:t=0,showBusiness:n=!0}){const{prefixLink:s}=ls(),a=e.validUntil&&new Date(e.validUntil).getTime()-Date.now()<10080*60*1e3;return l.jsxs(sr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:t*.05},className:"bg-gradient-to-br from-primary/10 via-card to-card border border-primary/20 rounded-2xl overflow-hidden","data-testid":`offer-${e.id}`,children:[e.imageUrl&&l.jsx("div",{className:"w-full h-32 md:h-40 overflow-hidden",children:l.jsx("img",{src:e.imageUrl,alt:e.title,className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"p-4 space-y-3",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/20 flex items-center justify-center flex-shrink-0",children:l.jsx(Xs,{className:"w-5 h-5 text-primary"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h4",{className:"font-bold text-foreground line-clamp-1",children:e.title}),n&&e.business&&l.jsx(Ut,{href:s(`/businesses/${e.business.id}`),className:"text-sm text-primary hover:underline",children:e.business.name})]})]}),e.description&&l.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed line-clamp-2",children:e.description}),l.jsxs("div",{className:"flex items-center justify-between",children:[e.validUntil?l.jsxs("div",{className:`flex items-center gap-1 text-xs ${a?"text-destructive":"text-muted-foreground"}`,children:[l.jsx(Qs,{className:"w-3 h-3"}),l.jsxs("span",{children:[" ",yN(new Date(e.validUntil),{addSuffix:!0,locale:xN})]})]}):l.jsx("span",{className:"text-xs text-muted-foreground",children:" "}),n&&e.business&&l.jsxs(Ut,{href:s(`/businesses/${e.business.id}`),className:"text-primary text-sm font-medium flex items-center gap-1 hover:underline",children:["",l.jsx(Qf,{className:"w-3 h-3"})]})]})]})]})}const _N="/assets/Delini_1768321622197-B3xQvgJW.png",Uw="delini_seen_offer_ids";function wN(){const{t:e}=mo(),{prefixLink:t}=ls(),{toast:n}=Rn(),{data:s,isLoading:a}=Dv(),{data:u,isLoading:f}=zh(),{data:h}=DS(),g=S.useRef(!1),v=S.useRef(!1),{data:y}=vt({queryKey:["/api/visitors/count"]});S.useEffect(()=>{g.current||(g.current=!0,fetch("/api/visitors/increment",{method:"POST"}))},[]),S.useEffect(()=>{if(h&&h.length>0&&!v.current){v.current=!0;const C=localStorage.getItem(Uw),j=C?JSON.parse(C):[],M=h.filter(D=>!j.includes(D.id));M.length>0&&n({title:`${M.length}  `,description:M[0].title+(M.length>1?`  ${M.length-1}  `:""),duration:5e3});const R=h.map(D=>D.id);localStorage.setItem(Uw,JSON.stringify(R))}},[h,n]);const w=(y?.count||0)*73,N=s?.slice(0,8),T=u?.filter(C=>C.subscriptionTier==="vip").slice(0,5),A=h?.slice(0,3);return l.jsxs("div",{className:"min-h-screen bg-background pb-20 font-sans",children:[l.jsx(va,{}),l.jsxs("main",{className:"container mx-auto px-4 py-6 space-y-10",children:[l.jsxs("section",{className:"text-center space-y-6 -mx-4 px-4",children:[l.jsxs("div",{className:"relative -mt-6",children:[l.jsx("div",{className:"absolute inset-x-0 bottom-0 h-24 bg-gradient-to-t from-background to-transparent"}),l.jsx("img",{src:_N,alt:"Delini",className:"w-full h-auto object-contain"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h2",{className:"text-2xl md:text-3xl font-display font-bold text-foreground leading-tight",children:e("home.hero.title")}),l.jsx("p",{className:"text-muted-foreground text-sm max-w-sm mx-auto",children:e("home.hero.subtitle")})]}),l.jsx("div",{className:"max-w-lg mx-auto",children:l.jsx(mN,{})})]}),l.jsxs("section",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-4 px-1",children:[l.jsx("h3",{className:"font-display font-bold text-xl text-foreground",children:e("home.categories")}),l.jsxs(Ut,{href:t("/categories"),className:"text-primary text-sm font-medium hover:underline flex items-center gap-1",children:[e("home.viewAll"),l.jsx(Qf,{className:"w-4 h-4"})]})]}),a?l.jsx("div",{className:"grid grid-cols-4 gap-4",children:[...Array(4)].map((C,j)=>l.jsx("div",{className:"h-32 bg-muted rounded-2xl animate-pulse"},j))}):l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4",children:N?.map((C,j)=>l.jsx(gN,{category:C,index:j},C.id))})]}),T&&T.length>0&&l.jsxs("section",{children:[l.jsx("div",{className:"flex items-center justify-between mb-4 px-1",children:l.jsx("h3",{className:"font-display font-bold text-xl text-foreground",children:e("home.featured")})}),l.jsxs("div",{className:"flex gap-4 overflow-x-auto pb-4 no-scrollbar -mx-4 px-4 snap-x snap-mandatory",children:[T.map((C,j)=>l.jsx("div",{className:"min-w-[280px] w-[80%] md:w-[320px] snap-center",children:l.jsx(Hh,{business:C,layout:"grid",index:j})},C.id)),l.jsx("div",{className:"w-2"})]})]}),A&&A.length>0&&l.jsxs("section",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-4 px-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Xs,{className:"w-5 h-5 text-primary"}),l.jsx("h3",{className:"font-display font-bold text-xl text-foreground",children:e("home.offers")})]}),l.jsxs(Ut,{href:t("/offers"),className:"text-primary text-sm font-medium hover:underline flex items-center gap-1",children:[e("home.viewAll"),l.jsx(Qf,{className:"w-4 h-4"})]})]}),l.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:A.map((C,j)=>l.jsx(_y,{offer:C,index:j},C.id))})]}),w>0&&l.jsxs("div",{className:"flex items-center justify-center gap-2 py-3 mt-6","data-testid":"visitor-counter",children:[l.jsx(xv,{className:"w-4 h-4 text-muted-foreground"}),l.jsxs("span",{className:"text-sm text-muted-foreground",children:[w.toLocaleString("en-US")," "]})]})]}),l.jsx(ga,{})]})}function bN(){const{data:e,isLoading:t}=Dv();return l.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[l.jsx(va,{title:" ",backHref:"/"}),l.jsx("main",{className:"container mx-auto px-4 py-6",children:t?l.jsx("div",{className:"flex items-center justify-center h-[60vh]",children:l.jsx(St,{className:"w-10 h-10 animate-spin text-primary"})}):l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e?.map((n,s)=>l.jsx(gN,{category:n,index:s},n.id))})}),l.jsx(ga,{})]})}function SN(){const[,e]=Hf("/categories/:id"),[,t]=Hf("/preview/categories/:id"),n=e?.id?parseInt(e.id):t?.id?parseInt(t.id):0,{data:s}=DO(n),{data:a,isLoading:u}=zh({categoryId:n});return n?l.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[l.jsx(va,{title:s?.name||" ...",backHref:"/categories"}),l.jsx("main",{className:"container mx-auto px-4 py-6",children:u?l.jsx("div",{className:"space-y-4",children:[1,2,3].map(f=>l.jsx("div",{className:"h-28 bg-muted rounded-2xl animate-pulse"},f))}):a&&a.length>0?l.jsx("div",{className:"space-y-4",children:a.map((f,h)=>l.jsx(Hh,{business:f,layout:"list",index:h},f.id))}):l.jsxs("div",{className:"flex flex-col items-center justify-center h-[50vh] text-center text-muted-foreground p-6",children:[l.jsx("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center mb-4",children:l.jsx(d1,{className:"w-8 h-8"})}),l.jsx("h3",{className:"text-lg font-bold mb-1",children:"  "}),l.jsx("p",{children:"         ."})]})}),l.jsx(ga,{})]}):null}function qh({rating:e,maxRating:t=5,size:n="md",showValue:s=!1,reviewCount:a,interactive:u=!1,onRatingChange:f}){const h={sm:"w-3 h-3",md:"w-4 h-4",lg:"w-6 h-6"},g=v=>{u&&f&&f(v+1)};return l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("div",{className:"flex gap-0.5",children:[...Array(t)].map((v,y)=>{const w=y<Math.round(e);return l.jsx("button",{type:"button",disabled:!u,onClick:()=>g(y),className:`${u?"cursor-pointer hover:scale-110 transition-transform":"cursor-default"} disabled:cursor-default`,"data-testid":`star-${y+1}`,children:l.jsx(ts,{className:`${h[n]} ${w?"text-primary fill-primary":"text-muted-foreground/30"}`})},y)})}),s&&l.jsx("span",{className:"font-bold text-foreground mr-1",children:e.toFixed(1)}),a!==void 0&&l.jsxs("span",{className:"text-muted-foreground text-sm",children:["(",a," ",a===1?"":"",")"]})]})}const Kh=S.forwardRef(({className:e,...t},n)=>l.jsx("textarea",{className:rt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));Kh.displayName="Textarea";const ht=S.forwardRef(({className:e,type:t,...n},s)=>l.jsx("input",{type:t,className:rt("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...n}));ht.displayName="Input";function ZF({businessId:e,onSuccess:t}){const[n,s]=S.useState(""),[a,u]=S.useState(0),[f,h]=S.useState(""),{toast:g}=Rn(),v=VO(e),y=async w=>{if(w.preventDefault(),!n.trim()){g({title:"",description:"  ",variant:"destructive"});return}if(a===0){g({title:"",description:"  ",variant:"destructive"});return}try{await v.mutateAsync({visitorName:n.trim(),rating:a,comment:f.trim()||void 0}),g({title:" !",description:"   "}),s(""),u(0),h(""),t?.()}catch{g({title:"",description:"   ",variant:"destructive"})}};return l.jsxs("form",{onSubmit:y,className:"space-y-4 bg-muted/50 rounded-2xl p-4",children:[l.jsx("h4",{className:"font-bold text-lg",children:" "}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:""}),l.jsx(ht,{placeholder:" ",value:n,onChange:w=>s(w.target.value),className:"bg-background","data-testid":"input-reviewer-name"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:""}),l.jsx(qh,{rating:a,size:"lg",interactive:!0,onRatingChange:u})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:" ()"}),l.jsx(Kh,{placeholder:" ...",value:f,onChange:w=>h(w.target.value),className:"bg-background min-h-[80px] resize-none","data-testid":"input-review-comment"})]}),l.jsxs(Ze,{type:"submit",disabled:v.isPending,className:"w-full gap-2","data-testid":"button-submit-review",children:[v.isPending?l.jsx(St,{className:"w-4 h-4 animate-spin"}):l.jsx(RE,{className:"w-4 h-4"})," "]})]})}function WF({businessId:e}){const{data:t,isLoading:n}=BO(e);return n?l.jsx("div",{className:"flex justify-center py-8",children:l.jsx(St,{className:"w-6 h-6 animate-spin text-primary"})}):!t||t.length===0?l.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"   .    !"}):l.jsx("div",{className:"space-y-4",children:t.map(s=>l.jsxs("div",{className:"bg-muted/30 rounded-xl p-4 space-y-2","data-testid":`review-${s.id}`,children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:l.jsx(x1,{className:"w-5 h-5 text-primary"})}),l.jsxs("div",{children:[l.jsx("span",{className:"font-bold text-sm",children:s.visitorName}),l.jsx(qh,{rating:s.rating,size:"sm"})]})]}),s.createdAt&&l.jsx("span",{className:"text-xs text-muted-foreground",children:yN(new Date(s.createdAt),{addSuffix:!0,locale:xN})})]}),s.comment&&l.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed pr-12",children:s.comment})]},s.id))})}var PN={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},$w=on.createContext&&on.createContext(PN),HF=["attr","size","title"];function qF(e,t){if(e==null)return{};var n=KF(e,t),s,a;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(a=0;a<u.length;a++)s=u[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function KF(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function yh(){return yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},yh.apply(this,arguments)}function Zw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function xh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zw(Object(n),!0).forEach(function(s){GF(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zw(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function GF(e,t,n){return t=QF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QF(e){var t=XF(e,"string");return typeof t=="symbol"?t:t+""}function XF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NN(e){return e&&e.map((t,n)=>on.createElement(t.tag,xh({key:n},t.attr),NN(t.child)))}function YF(e){return t=>on.createElement(JF,yh({attr:xh({},e.attr)},t),NN(e.child))}function JF(e){var t=n=>{var{attr:s,size:a,title:u}=e,f=qF(e,HF),h=a||n.size||"1em",g;return n.className&&(g=n.className),e.className&&(g=(g?g+" ":"")+e.className),on.createElement("svg",yh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,f,{className:g,style:xh(xh({color:e.color||n.color},n.style),e.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),u&&on.createElement("title",null,u),e.children)};return $w!==void 0?on.createElement($w.Consumer,null,n=>t(n)):t(PN)}function ez(e){return YF({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"},child:[]}]})(e)}function CN(e,t){const n=S.useRef(t);S.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const tz=1;function nz(e){return Object.freeze({__version:tz,map:e})}function rz(e,t){return Object.freeze({...e,...t})}const jN=S.createContext(null),TN=jN.Provider;function wy(){const e=S.useContext(jN);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function iz(e){function t(n,s){const{instance:a,context:u}=e(n).current;return S.useImperativeHandle(s,()=>a),n.children==null?null:on.createElement(TN,{value:u},n.children)}return S.forwardRef(t)}function sz(e){function t(n,s){const[a,u]=S.useState(!1),{instance:f}=e(n,u).current;S.useImperativeHandle(s,()=>f),S.useEffect(function(){a&&f.update()},[f,a,n.children]);const h=f._contentNode;return h?ha.createPortal(n.children,h):null}return S.forwardRef(t)}function oz(e){function t(n,s){const{instance:a}=e(n).current;return S.useImperativeHandle(s,()=>a),null}return S.forwardRef(t)}function kN(e,t){const n=S.useRef();S.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function by(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function az(e,t){return function(s,a){const u=wy(),f=e(by(s,u),u);return CN(u.map,s.attribution),kN(f.current,s.eventHandlers),t(f.current,u,s,a),f}}var uu={exports:{}};var lz=uu.exports,Ww;function cz(){return Ww||(Ww=1,(function(e,t){(function(n,s){s(t)})(lz,(function(n){var s="1.9.4";function a(i){var c,m,x,P;for(m=1,x=arguments.length;m<x;m++){P=arguments[m];for(c in P)i[c]=P[c]}return i}var u=Object.create||(function(){function i(){}return function(c){return i.prototype=c,new i}})();function f(i,c){var m=Array.prototype.slice;if(i.bind)return i.bind.apply(i,m.call(arguments,1));var x=m.call(arguments,2);return function(){return i.apply(c,x.length?x.concat(m.call(arguments)):arguments)}}var h=0;function g(i){return"_leaflet_id"in i||(i._leaflet_id=++h),i._leaflet_id}function v(i,c,m){var x,P,E,F;return F=function(){x=!1,P&&(E.apply(m,P),P=!1)},E=function(){x?P=arguments:(i.apply(m,arguments),setTimeout(F,c),x=!0)},E}function y(i,c,m){var x=c[1],P=c[0],E=x-P;return i===x&&m?i:((i-P)%E+E)%E+P}function w(){return!1}function N(i,c){if(c===!1)return i;var m=Math.pow(10,c===void 0?6:c);return Math.round(i*m)/m}function T(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function A(i){return T(i).split(/\s+/)}function C(i,c){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?u(i.options):{});for(var m in c)i.options[m]=c[m];return i.options}function j(i,c,m){var x=[];for(var P in i)x.push(encodeURIComponent(m?P.toUpperCase():P)+"="+encodeURIComponent(i[P]));return(!c||c.indexOf("?")===-1?"?":"&")+x.join("&")}var M=/\{ *([\w_ -]+) *\}/g;function R(i,c){return i.replace(M,function(m,x){var P=c[x];if(P===void 0)throw new Error("No value provided for variable "+m);return typeof P=="function"&&(P=P(c)),P})}var D=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function O(i,c){for(var m=0;m<i.length;m++)if(i[m]===c)return m;return-1}var V="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Z(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var q=0;function J(i){var c=+new Date,m=Math.max(0,16-(c-q));return q=c+m,window.setTimeout(i,m)}var he=window.requestAnimationFrame||Z("RequestAnimationFrame")||J,me=window.cancelAnimationFrame||Z("CancelAnimationFrame")||Z("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function _e(i,c,m){if(m&&he===J)i.call(c);else return he.call(window,f(i,c))}function le(i){i&&me.call(window,i)}var Re={__proto__:null,extend:a,create:u,bind:f,get lastId(){return h},stamp:g,throttle:v,wrapNum:y,falseFn:w,formatNum:N,trim:T,splitWords:A,setOptions:C,getParamString:j,template:R,isArray:D,indexOf:O,emptyImageUrl:V,requestFn:he,cancelFn:me,requestAnimFrame:_e,cancelAnimFrame:le};function te(){}te.extend=function(i){var c=function(){C(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=c.__super__=this.prototype,x=u(m);x.constructor=c,c.prototype=x;for(var P in this)Object.prototype.hasOwnProperty.call(this,P)&&P!=="prototype"&&P!=="__super__"&&(c[P]=this[P]);return i.statics&&a(c,i.statics),i.includes&&(ge(i.includes),a.apply(null,[x].concat(i.includes))),a(x,i),delete x.statics,delete x.includes,x.options&&(x.options=m.options?u(m.options):{},a(x.options,i.options)),x._initHooks=[],x.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var E=0,F=x._initHooks.length;E<F;E++)x._initHooks[E].call(this)}},c},te.include=function(i){var c=this.prototype.options;return a(this.prototype,i),i.options&&(this.prototype.options=c,this.mergeOptions(i.options)),this},te.mergeOptions=function(i){return a(this.prototype.options,i),this},te.addInitHook=function(i){var c=Array.prototype.slice.call(arguments,1),m=typeof i=="function"?i:function(){this[i].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function ge(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=D(i)?i:[i];for(var c=0;c<i.length;c++)i[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var de={on:function(i,c,m){if(typeof i=="object")for(var x in i)this._on(x,i[x],c);else{i=A(i);for(var P=0,E=i.length;P<E;P++)this._on(i[P],c,m)}return this},off:function(i,c,m){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var x in i)this._off(x,i[x],c);else{i=A(i);for(var P=arguments.length===1,E=0,F=i.length;E<F;E++)P?this._off(i[E]):this._off(i[E],c,m)}return this},_on:function(i,c,m,x){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(i,c,m)===!1){m===this&&(m=void 0);var P={fn:c,ctx:m};x&&(P.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(P)}},_off:function(i,c,m){var x,P,E;if(this._events&&(x=this._events[i],!!x)){if(arguments.length===1){if(this._firingCount)for(P=0,E=x.length;P<E;P++)x[P].fn=w;delete this._events[i];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var F=this._listens(i,c,m);if(F!==!1){var W=x[F];this._firingCount&&(W.fn=w,this._events[i]=x=x.slice()),x.splice(F,1)}}},fire:function(i,c,m){if(!this.listens(i,m))return this;var x=a({},c,{type:i,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var P=this._events[i];if(P){this._firingCount=this._firingCount+1||1;for(var E=0,F=P.length;E<F;E++){var W=P[E],G=W.fn;W.once&&this.off(i,G,W.ctx),G.call(W.ctx||this,x)}this._firingCount--}}return m&&this._propagateEvent(x),this},listens:function(i,c,m,x){typeof i!="string"&&console.warn('"string" type argument expected');var P=c;typeof c!="function"&&(x=!!c,P=void 0,m=void 0);var E=this._events&&this._events[i];if(E&&E.length&&this._listens(i,P,m)!==!1)return!0;if(x){for(var F in this._eventParents)if(this._eventParents[F].listens(i,c,m,x))return!0}return!1},_listens:function(i,c,m){if(!this._events)return!1;var x=this._events[i]||[];if(!c)return!!x.length;m===this&&(m=void 0);for(var P=0,E=x.length;P<E;P++)if(x[P].fn===c&&x[P].ctx===m)return P;return!1},once:function(i,c,m){if(typeof i=="object")for(var x in i)this._on(x,i[x],c,!0);else{i=A(i);for(var P=0,E=i.length;P<E;P++)this._on(i[P],c,m,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[g(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[g(i)],this},_propagateEvent:function(i){for(var c in this._eventParents)this._eventParents[c].fire(i.type,a({layer:i.target,propagatedFrom:i.target},i),!0)}};de.addEventListener=de.on,de.removeEventListener=de.clearAllEventListeners=de.off,de.addOneTimeEventListener=de.once,de.fireEvent=de.fire,de.hasEventListeners=de.listens;var ce=te.extend(de);function $(i,c,m){this.x=m?Math.round(i):i,this.y=m?Math.round(c):c}var oe=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};$.prototype={clone:function(){return new $(this.x,this.y)},add:function(i){return this.clone()._add(X(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(X(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new $(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new $(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=oe(this.x),this.y=oe(this.y),this},distanceTo:function(i){i=X(i);var c=i.x-this.x,m=i.y-this.y;return Math.sqrt(c*c+m*m)},equals:function(i){return i=X(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=X(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+N(this.x)+", "+N(this.y)+")"}};function X(i,c,m){return i instanceof $?i:D(i)?new $(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new $(i.x,i.y):new $(i,c,m)}function z(i,c){if(i)for(var m=c?[i,c]:i,x=0,P=m.length;x<P;x++)this.extend(m[x])}z.prototype={extend:function(i){var c,m;if(!i)return this;if(i instanceof $||typeof i[0]=="number"||"x"in i)c=m=X(i);else if(i=Y(i),c=i.min,m=i.max,!c||!m)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=m.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(i){return X((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return X(this.min.x,this.max.y)},getTopRight:function(){return X(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var c,m;return typeof i[0]=="number"||i instanceof $?i=X(i):i=Y(i),i instanceof z?(c=i.min,m=i.max):c=m=i,c.x>=this.min.x&&m.x<=this.max.x&&c.y>=this.min.y&&m.y<=this.max.y},intersects:function(i){i=Y(i);var c=this.min,m=this.max,x=i.min,P=i.max,E=P.x>=c.x&&x.x<=m.x,F=P.y>=c.y&&x.y<=m.y;return E&&F},overlaps:function(i){i=Y(i);var c=this.min,m=this.max,x=i.min,P=i.max,E=P.x>c.x&&x.x<m.x,F=P.y>c.y&&x.y<m.y;return E&&F},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var c=this.min,m=this.max,x=Math.abs(c.x-m.x)*i,P=Math.abs(c.y-m.y)*i;return Y(X(c.x-x,c.y-P),X(m.x+x,m.y+P))},equals:function(i){return i?(i=Y(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function Y(i,c){return!i||i instanceof z?i:new z(i,c)}function Ne(i,c){if(i)for(var m=c?[i,c]:i,x=0,P=m.length;x<P;x++)this.extend(m[x])}Ne.prototype={extend:function(i){var c=this._southWest,m=this._northEast,x,P;if(i instanceof we)x=i,P=i;else if(i instanceof Ne){if(x=i._southWest,P=i._northEast,!x||!P)return this}else return i?this.extend(pe(i)||ye(i)):this;return!c&&!m?(this._southWest=new we(x.lat,x.lng),this._northEast=new we(P.lat,P.lng)):(c.lat=Math.min(x.lat,c.lat),c.lng=Math.min(x.lng,c.lng),m.lat=Math.max(P.lat,m.lat),m.lng=Math.max(P.lng,m.lng)),this},pad:function(i){var c=this._southWest,m=this._northEast,x=Math.abs(c.lat-m.lat)*i,P=Math.abs(c.lng-m.lng)*i;return new Ne(new we(c.lat-x,c.lng-P),new we(m.lat+x,m.lng+P))},getCenter:function(){return new we((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new we(this.getNorth(),this.getWest())},getSouthEast:function(){return new we(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof we||"lat"in i?i=pe(i):i=ye(i);var c=this._southWest,m=this._northEast,x,P;return i instanceof Ne?(x=i.getSouthWest(),P=i.getNorthEast()):x=P=i,x.lat>=c.lat&&P.lat<=m.lat&&x.lng>=c.lng&&P.lng<=m.lng},intersects:function(i){i=ye(i);var c=this._southWest,m=this._northEast,x=i.getSouthWest(),P=i.getNorthEast(),E=P.lat>=c.lat&&x.lat<=m.lat,F=P.lng>=c.lng&&x.lng<=m.lng;return E&&F},overlaps:function(i){i=ye(i);var c=this._southWest,m=this._northEast,x=i.getSouthWest(),P=i.getNorthEast(),E=P.lat>c.lat&&x.lat<m.lat,F=P.lng>c.lng&&x.lng<m.lng;return E&&F},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,c){return i?(i=ye(i),this._southWest.equals(i.getSouthWest(),c)&&this._northEast.equals(i.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ye(i,c){return i instanceof Ne?i:new Ne(i,c)}function we(i,c,m){if(isNaN(i)||isNaN(c))throw new Error("Invalid LatLng object: ("+i+", "+c+")");this.lat=+i,this.lng=+c,m!==void 0&&(this.alt=+m)}we.prototype={equals:function(i,c){if(!i)return!1;i=pe(i);var m=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return m<=(c===void 0?1e-9:c)},toString:function(i){return"LatLng("+N(this.lat,i)+", "+N(this.lng,i)+")"},distanceTo:function(i){return Se.distance(this,pe(i))},wrap:function(){return Se.wrapLatLng(this)},toBounds:function(i){var c=180*i/40075017,m=c/Math.cos(Math.PI/180*this.lat);return ye([this.lat-c,this.lng-m],[this.lat+c,this.lng+m])},clone:function(){return new we(this.lat,this.lng,this.alt)}};function pe(i,c,m){return i instanceof we?i:D(i)&&typeof i[0]!="object"?i.length===3?new we(i[0],i[1],i[2]):i.length===2?new we(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new we(i.lat,"lng"in i?i.lng:i.lon,i.alt):c===void 0?null:new we(i,c,m)}var fe={latLngToPoint:function(i,c){var m=this.projection.project(i),x=this.scale(c);return this.transformation._transform(m,x)},pointToLatLng:function(i,c){var m=this.scale(c),x=this.transformation.untransform(i,m);return this.projection.unproject(x)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var c=this.projection.bounds,m=this.scale(i),x=this.transformation.transform(c.min,m),P=this.transformation.transform(c.max,m);return new z(x,P)},infinite:!1,wrapLatLng:function(i){var c=this.wrapLng?y(i.lng,this.wrapLng,!0):i.lng,m=this.wrapLat?y(i.lat,this.wrapLat,!0):i.lat,x=i.alt;return new we(m,c,x)},wrapLatLngBounds:function(i){var c=i.getCenter(),m=this.wrapLatLng(c),x=c.lat-m.lat,P=c.lng-m.lng;if(x===0&&P===0)return i;var E=i.getSouthWest(),F=i.getNorthEast(),W=new we(E.lat-x,E.lng-P),G=new we(F.lat-x,F.lng-P);return new Ne(W,G)}},Se=a({},fe,{wrapLng:[-180,180],R:6371e3,distance:function(i,c){var m=Math.PI/180,x=i.lat*m,P=c.lat*m,E=Math.sin((c.lat-i.lat)*m/2),F=Math.sin((c.lng-i.lng)*m/2),W=E*E+Math.cos(x)*Math.cos(P)*F*F,G=2*Math.atan2(Math.sqrt(W),Math.sqrt(1-W));return this.R*G}}),qe=6378137,Fe={R:qe,MAX_LATITUDE:85.0511287798,project:function(i){var c=Math.PI/180,m=this.MAX_LATITUDE,x=Math.max(Math.min(m,i.lat),-m),P=Math.sin(x*c);return new $(this.R*i.lng*c,this.R*Math.log((1+P)/(1-P))/2)},unproject:function(i){var c=180/Math.PI;return new we((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*c,i.x*c/this.R)},bounds:(function(){var i=qe*Math.PI;return new z([-i,-i],[i,i])})()};function Je(i,c,m,x){if(D(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=c,this._c=m,this._d=x}Je.prototype={transform:function(i,c){return this._transform(i.clone(),c)},_transform:function(i,c){return c=c||1,i.x=c*(this._a*i.x+this._b),i.y=c*(this._c*i.y+this._d),i},untransform:function(i,c){return c=c||1,new $((i.x/c-this._b)/this._a,(i.y/c-this._d)/this._c)}};function lt(i,c,m,x){return new Je(i,c,m,x)}var kt=a({},Se,{code:"EPSG:3857",projection:Fe,transformation:(function(){var i=.5/(Math.PI*Fe.R);return lt(i,.5,-i,.5)})()}),hn=a({},kt,{code:"EPSG:900913"});function Zn(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function Tr(i,c){var m="",x,P,E,F,W,G;for(x=0,E=i.length;x<E;x++){for(W=i[x],P=0,F=W.length;P<F;P++)G=W[P],m+=(P?"L":"M")+G.x+" "+G.y;m+=c?Ee.svg?"z":"x":""}return m||"M0 0"}var jn=document.documentElement.style,Ci="ActiveXObject"in window,xo=Ci&&!document.addEventListener,ei="msLaunchUri"in navigator&&!("documentMode"in document),dr=mn("webkit"),je=mn("android"),Et=mn("android 2")||mn("android 3"),Wn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),_o=je&&mn("Google")&&Wn<537&&!("AudioNode"in window),ya=!!window.opera,xa=!ei&&mn("chrome"),wo=mn("gecko")&&!dr&&!ya&&!Ci,ed=!xa&&mn("safari"),ds=mn("phantom"),fs="OTransition"in jn,Jh=navigator.platform.indexOf("Win")===0,sc=Ci&&"transition"in jn,_a="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Et,td="MozPerspective"in jn,oc=!window.L_DISABLE_3D&&(sc||_a||td)&&!fs&&!ds,ji=typeof orientation<"u"||mn("mobile"),ac=ji&&dr,lc=ji&&_a,wa=!window.PointerEvent&&window.MSPointerEvent,Ti=!!(window.PointerEvent||wa),ki="ontouchstart"in window||!!window.TouchEvent,nd=!window.L_NO_TOUCH&&(ki||Ti),rd=ji&&ya,id=ji&&wo,sd=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,od=(function(){var i=!1;try{var c=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",w,c),window.removeEventListener("testPassiveEventSupport",w,c)}catch{}return i})(),cc=(function(){return!!document.createElement("canvas").getContext})(),ba=!!(document.createElementNS&&Zn("svg").createSVGRect),bo=!!ba&&(function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),uc=!ba&&(function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var c=i.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}})(),So=navigator.platform.indexOf("Mac")===0,em=navigator.platform.indexOf("Linux")===0;function mn(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var Ee={ie:Ci,ielt9:xo,edge:ei,webkit:dr,android:je,android23:Et,androidStock:_o,opera:ya,chrome:xa,gecko:wo,safari:ed,phantom:ds,opera12:fs,win:Jh,ie3d:sc,webkit3d:_a,gecko3d:td,any3d:oc,mobile:ji,mobileWebkit:ac,mobileWebkit3d:lc,msPointer:wa,pointer:Ti,touch:nd,touchNative:ki,mobileOpera:rd,mobileGecko:id,retina:sd,passiveEvents:od,canvas:cc,svg:ba,vml:uc,inlineSvg:bo,mac:So,linux:em},Po=Ee.msPointer?"MSPointerDown":"pointerdown",Sa=Ee.msPointer?"MSPointerMove":"pointermove",ad=Ee.msPointer?"MSPointerUp":"pointerup",ld=Ee.msPointer?"MSPointerCancel":"pointercancel",dc={touchstart:Po,touchmove:Sa,touchend:ad,touchcancel:ld},ti={touchstart:At,touchmove:Pa,touchend:Pa,touchcancel:Pa},Ei={},fc=!1;function tm(i,c,m){return c==="touchstart"&&nm(),ti[c]?(m=ti[c].bind(this,m),i.addEventListener(dc[c],m,!1),m):(console.warn("wrong event specified:",c),w)}function cd(i,c,m){if(!dc[c]){console.warn("wrong event specified:",c);return}i.removeEventListener(dc[c],m,!1)}function ud(i){Ei[i.pointerId]=i}function dd(i){Ei[i.pointerId]&&(Ei[i.pointerId]=i)}function hc(i){delete Ei[i.pointerId]}function nm(){fc||(document.addEventListener(Po,ud,!0),document.addEventListener(Sa,dd,!0),document.addEventListener(ad,hc,!0),document.addEventListener(ld,hc,!0),fc=!0)}function Pa(i,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var m in Ei)c.touches.push(Ei[m]);c.changedTouches=[c],i(c)}}function At(i,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&Lt(c),Pa(i,c)}function rm(i){var c={},m,x;for(x in i)m=i[x],c[x]=m&&m.bind?m.bind(i):m;return i=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var mc=200;function fd(i,c){i.addEventListener("dblclick",c);var m=0,x;function P(E){if(E.detail!==1){x=E.detail;return}if(!(E.pointerType==="mouse"||E.sourceCapabilities&&!E.sourceCapabilities.firesTouchEvents)){var F=Mi(E);if(!(F.some(function(G){return G instanceof HTMLLabelElement&&G.attributes.for})&&!F.some(function(G){return G instanceof HTMLInputElement||G instanceof HTMLSelectElement}))){var W=Date.now();W-m<=mc?(x++,x===2&&c(rm(E))):x=1,m=W}}}return i.addEventListener("click",P),{dblclick:c,simDblclick:P}}function Na(i,c){i.removeEventListener("dblclick",c.dblclick),i.removeEventListener("click",c.simDblclick)}var pc=gs(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),hs=gs(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),No=hs==="webkitTransition"||hs==="OTransition"?hs+"End":"transitionend";function Hn(i){return typeof i=="string"?document.getElementById(i):i}function Co(i,c){var m=i.style[c]||i.currentStyle&&i.currentStyle[c];if((!m||m==="auto")&&document.defaultView){var x=document.defaultView.getComputedStyle(i,null);m=x?x[c]:null}return m==="auto"?null:m}function Ge(i,c,m){var x=document.createElement(i);return x.className=c||"",m&&m.appendChild(x),x}function Pt(i){var c=i.parentNode;c&&c.removeChild(i)}function Ca(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function ms(i){var c=i.parentNode;c&&c.lastChild!==i&&c.appendChild(i)}function kr(i){var c=i.parentNode;c&&c.firstChild!==i&&c.insertBefore(i,c.firstChild)}function ps(i,c){if(i.classList!==void 0)return i.classList.contains(c);var m=ja(i);return m.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(m)}function He(i,c){if(i.classList!==void 0)for(var m=A(c),x=0,P=m.length;x<P;x++)i.classList.add(m[x]);else if(!ps(i,c)){var E=ja(i);gc(i,(E?E+" ":"")+c)}}function wt(i,c){i.classList!==void 0?i.classList.remove(c):gc(i,T((" "+ja(i)+" ").replace(" "+c+" "," ")))}function gc(i,c){i.className.baseVal===void 0?i.className=c:i.className.baseVal=c}function ja(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function pn(i,c){"opacity"in i.style?i.style.opacity=c:"filter"in i.style&&hd(i,c)}function hd(i,c){var m=!1,x="DXImageTransform.Microsoft.Alpha";try{m=i.filters.item(x)}catch{if(c===1)return}c=Math.round(c*100),m?(m.Enabled=c!==100,m.Opacity=c):i.style.filter+=" progid:"+x+"(opacity="+c+")"}function gs(i){for(var c=document.documentElement.style,m=0;m<i.length;m++)if(i[m]in c)return i[m];return!1}function qn(i,c,m){var x=c||new $(0,0);i.style[pc]=(Ee.ie3d?"translate("+x.x+"px,"+x.y+"px)":"translate3d("+x.x+"px,"+x.y+"px,0)")+(m?" scale("+m+")":"")}function Ft(i,c){i._leaflet_pos=c,Ee.any3d?qn(i,c):(i.style.left=c.x+"px",i.style.top=c.y+"px")}function Er(i){return i._leaflet_pos||new $(0,0)}var ct,vs,Ta;if("onselectstart"in document)ct=function(){Ue(window,"selectstart",Lt)},vs=function(){yt(window,"selectstart",Lt)};else{var Ai=gs(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ct=function(){if(Ai){var i=document.documentElement.style;Ta=i[Ai],i[Ai]="none"}},vs=function(){Ai&&(document.documentElement.style[Ai]=Ta,Ta=void 0)}}function ka(){Ue(window,"dragstart",Lt)}function Ea(){yt(window,"dragstart",Lt)}var jo,To;function ys(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(Kn(),jo=i,To=i.style.outlineStyle,i.style.outlineStyle="none",Ue(window,"keydown",Kn))}function Kn(){jo&&(jo.style.outlineStyle=To,jo=void 0,To=void 0,yt(window,"keydown",Kn))}function Ar(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function fr(i){var c=i.getBoundingClientRect();return{x:c.width/i.offsetWidth||1,y:c.height/i.offsetHeight||1,boundingClientRect:c}}var ko={__proto__:null,TRANSFORM:pc,TRANSITION:hs,TRANSITION_END:No,get:Hn,getStyle:Co,create:Ge,remove:Pt,empty:Ca,toFront:ms,toBack:kr,hasClass:ps,addClass:He,removeClass:wt,setClass:gc,getClass:ja,setOpacity:pn,testProp:gs,setTransform:qn,setPosition:Ft,getPosition:Er,get disableTextSelection(){return ct},get enableTextSelection(){return vs},disableImageDrag:ka,enableImageDrag:Ea,preventOutline:ys,restoreOutline:Kn,getSizedParentNode:Ar,getScale:fr};function Ue(i,c,m,x){if(c&&typeof c=="object")for(var P in c)yc(i,P,c[P],m);else{c=A(c);for(var E=0,F=c.length;E<F;E++)yc(i,c[E],m,x)}return this}var Xt="_leaflet_events";function yt(i,c,m,x){if(arguments.length===1)vc(i),delete i[Xt];else if(c&&typeof c=="object")for(var P in c)Aa(i,P,c[P],m);else if(c=A(c),arguments.length===2)vc(i,function(W){return O(c,W)!==-1});else for(var E=0,F=c.length;E<F;E++)Aa(i,c[E],m,x);return this}function vc(i,c){for(var m in i[Xt]){var x=m.split(/\d/)[0];(!c||c(x))&&Aa(i,x,null,null,m)}}var Li={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function yc(i,c,m,x){var P=c+g(m)+(x?"_"+g(x):"");if(i[Xt]&&i[Xt][P])return this;var E=function(W){return m.call(x||i,W||window.event)},F=E;!Ee.touchNative&&Ee.pointer&&c.indexOf("touch")===0?E=tm(i,c,E):Ee.touch&&c==="dblclick"?E=fd(i,E):"addEventListener"in i?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?i.addEventListener(Li[c]||c,E,Ee.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(E=function(W){W=W||window.event,Lo(i,W)&&F(W)},i.addEventListener(Li[c],E,!1)):i.addEventListener(c,F,!1):i.attachEvent("on"+c,E),i[Xt]=i[Xt]||{},i[Xt][P]=E}function Aa(i,c,m,x,P){P=P||c+g(m)+(x?"_"+g(x):"");var E=i[Xt]&&i[Xt][P];if(!E)return this;!Ee.touchNative&&Ee.pointer&&c.indexOf("touch")===0?cd(i,c,E):Ee.touch&&c==="dblclick"?Na(i,E):"removeEventListener"in i?i.removeEventListener(Li[c]||c,E,!1):i.detachEvent("on"+c,E),i[Xt][P]=null}function hr(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function La(i){return yc(i,"wheel",hr),this}function Eo(i){return Ue(i,"mousedown touchstart dblclick contextmenu",hr),i._leaflet_disable_click=!0,this}function Lt(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function Gn(i){return Lt(i),hr(i),this}function Mi(i){if(i.composedPath)return i.composedPath();for(var c=[],m=i.target;m;)c.push(m),m=m.parentNode;return c}function Ao(i,c){if(!c)return new $(i.clientX,i.clientY);var m=fr(c),x=m.boundingClientRect;return new $((i.clientX-x.left)/m.x-c.clientLeft,(i.clientY-x.top)/m.y-c.clientTop)}var im=Ee.linux&&Ee.chrome?window.devicePixelRatio:Ee.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function md(i){return Ee.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/im:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function Lo(i,c){var m=c.relatedTarget;if(!m)return!0;try{for(;m&&m!==i;)m=m.parentNode}catch{return!1}return m!==i}var Ma={__proto__:null,on:Ue,off:yt,stopPropagation:hr,disableScrollPropagation:La,disableClickPropagation:Eo,preventDefault:Lt,stop:Gn,getPropagationPath:Mi,getMousePosition:Ao,getWheelDelta:md,isExternalTarget:Lo,addListener:Ue,removeListener:yt},Ra=ce.extend({run:function(i,c,m,x){this.stop(),this._el=i,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(x||.5,.2),this._startPos=Er(i),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=_e(this._animate,this),this._step()},_step:function(i){var c=+new Date-this._startTime,m=this._duration*1e3;c<m?this._runFrame(this._easeOut(c/m),i):(this._runFrame(1),this._complete())},_runFrame:function(i,c){var m=this._startPos.add(this._offset.multiplyBy(i));c&&m._round(),Ft(this._el,m),this.fire("step")},_complete:function(){le(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),st=ce.extend({options:{crs:kt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,c){c=C(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(pe(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=hs&&Ee.any3d&&!Ee.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ue(this._proxy,No,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,c,m){if(c=c===void 0?this._zoom:this._limitZoom(c),i=this._limitCenter(pe(i),c,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=a({animate:m.animate},m.zoom),m.pan=a({animate:m.animate,duration:m.duration},m.pan));var x=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,c,m.zoom):this._tryAnimatedPan(i,m.pan);if(x)return clearTimeout(this._sizeTimer),this}return this._resetView(i,c,m.pan&&m.pan.noMoveStart),this},setZoom:function(i,c){return this._loaded?this.setView(this.getCenter(),i,{zoom:c}):(this._zoom=i,this)},zoomIn:function(i,c){return i=i||(Ee.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,c)},zoomOut:function(i,c){return i=i||(Ee.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,c)},setZoomAround:function(i,c,m){var x=this.getZoomScale(c),P=this.getSize().divideBy(2),E=i instanceof $?i:this.latLngToContainerPoint(i),F=E.subtract(P).multiplyBy(1-1/x),W=this.containerPointToLatLng(P.add(F));return this.setView(W,c,{zoom:m})},_getBoundsCenterZoom:function(i,c){c=c||{},i=i.getBounds?i.getBounds():ye(i);var m=X(c.paddingTopLeft||c.padding||[0,0]),x=X(c.paddingBottomRight||c.padding||[0,0]),P=this.getBoundsZoom(i,!1,m.add(x));if(P=typeof c.maxZoom=="number"?Math.min(c.maxZoom,P):P,P===1/0)return{center:i.getCenter(),zoom:P};var E=x.subtract(m).divideBy(2),F=this.project(i.getSouthWest(),P),W=this.project(i.getNorthEast(),P),G=this.unproject(F.add(W).divideBy(2).add(E),P);return{center:G,zoom:P}},fitBounds:function(i,c){if(i=ye(i),!i.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(i,c);return this.setView(m.center,m.zoom,c)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,c){return this.setView(i,this._zoom,{pan:c})},panBy:function(i,c){if(i=X(i).round(),c=c||{},!i.x&&!i.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ra,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){He(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,m,c.duration||.25,c.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,c,m){if(m=m||{},m.animate===!1||!Ee.any3d)return this.setView(i,c,m);this._stop();var x=this.project(this.getCenter()),P=this.project(i),E=this.getSize(),F=this._zoom;i=pe(i),c=c===void 0?F:c;var W=Math.max(E.x,E.y),G=W*this.getZoomScale(F,c),ee=P.distanceTo(x)||1,xe=1.42,Oe=xe*xe;function Qe(gt){var Ms=gt?-1:1,ym=gt?G:W,xm=G*G-W*W+Ms*Oe*Oe*ee*ee,Bi=2*ym*Oe*ee,Vi=xm/Bi,Ui=Math.sqrt(Vi*Vi+1)-Vi,Ka=Ui<1e-9?-18:Math.log(Ui);return Ka}function Yt(gt){return(Math.exp(gt)-Math.exp(-gt))/2}function Ht(gt){return(Math.exp(gt)+Math.exp(-gt))/2}function En(gt){return Yt(gt)/Ht(gt)}var vn=Qe(0);function As(gt){return W*(Ht(vn)/Ht(vn+xe*gt))}function zc(gt){return W*(Ht(vn)*En(vn+xe*gt)-Yt(vn))/Oe}function ci(gt){return 1-Math.pow(1-gt,1.5)}var Od=Date.now(),zi=(Qe(1)-vn)/xe,vr=m.duration?1e3*m.duration:1e3*zi*.8;function Ls(){var gt=(Date.now()-Od)/vr,Ms=ci(gt)*zi;gt<=1?(this._flyToFrame=_e(Ls,this),this._move(this.unproject(x.add(P.subtract(x).multiplyBy(zc(Ms)/ee)),F),this.getScaleZoom(W/As(Ms),F),{flyTo:!0})):this._move(i,c)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),Ls.call(this),this},flyToBounds:function(i,c){var m=this._getBoundsCenterZoom(i,c);return this.flyTo(m.center,m.zoom,c)},setMaxBounds:function(i){return i=ye(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var c=this.options.minZoom;return this.options.minZoom=i,this._loaded&&c!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var c=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&c!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,c){this._enforcingBounds=!0;var m=this.getCenter(),x=this._limitCenter(m,this._zoom,ye(i));return m.equals(x)||this.panTo(x,c),this._enforcingBounds=!1,this},panInside:function(i,c){c=c||{};var m=X(c.paddingTopLeft||c.padding||[0,0]),x=X(c.paddingBottomRight||c.padding||[0,0]),P=this.project(this.getCenter()),E=this.project(i),F=this.getPixelBounds(),W=Y([F.min.add(m),F.max.subtract(x)]),G=W.getSize();if(!W.contains(E)){this._enforcingBounds=!0;var ee=E.subtract(W.getCenter()),xe=W.extend(E).getSize().subtract(G);P.x+=ee.x<0?-xe.x:xe.x,P.y+=ee.y<0?-xe.y:xe.y,this.panTo(this.unproject(P),c),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=a({animate:!1,pan:!0},i===!0?{animate:!0}:i);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),x=c.divideBy(2).round(),P=m.divideBy(2).round(),E=x.subtract(P);return!E.x&&!E.y?this:(i.animate&&i.pan?this.panBy(E):(i.pan&&this._rawPanBy(E),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=a({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=f(this._handleGeolocationResponse,this),m=f(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,m,i):navigator.geolocation.getCurrentPosition(c,m,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var c=i.code,m=i.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var c=i.coords.latitude,m=i.coords.longitude,x=new we(c,m),P=x.toBounds(i.coords.accuracy*2),E=this._locateOptions;if(E.setView){var F=this.getBoundsZoom(P);this.setView(x,E.maxZoom?Math.min(F,E.maxZoom):F)}var W={latlng:x,bounds:P,timestamp:i.timestamp};for(var G in i.coords)typeof i.coords[G]=="number"&&(W[G]=i.coords[G]);this.fire("locationfound",W)}},addHandler:function(i,c){if(!c)return this;var m=this[i]=new c(this);return this._handlers.push(m),this.options[i]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Pt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(le(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)Pt(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,c){var m="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),x=Ge("div",m,c||this._mapPane);return i&&(this._panes[i]=x),x},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),c=this.unproject(i.getBottomLeft()),m=this.unproject(i.getTopRight());return new Ne(c,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,c,m){i=ye(i),m=X(m||[0,0]);var x=this.getZoom()||0,P=this.getMinZoom(),E=this.getMaxZoom(),F=i.getNorthWest(),W=i.getSouthEast(),G=this.getSize().subtract(m),ee=Y(this.project(W,x),this.project(F,x)).getSize(),xe=Ee.any3d?this.options.zoomSnap:1,Oe=G.x/ee.x,Qe=G.y/ee.y,Yt=c?Math.max(Oe,Qe):Math.min(Oe,Qe);return x=this.getScaleZoom(Yt,x),xe&&(x=Math.round(x/(xe/100))*(xe/100),x=c?Math.ceil(x/xe)*xe:Math.floor(x/xe)*xe),Math.max(P,Math.min(E,x))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new $(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,c){var m=this._getTopLeftPoint(i,c);return new z(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,c){var m=this.options.crs;return c=c===void 0?this._zoom:c,m.scale(i)/m.scale(c)},getScaleZoom:function(i,c){var m=this.options.crs;c=c===void 0?this._zoom:c;var x=m.zoom(i*m.scale(c));return isNaN(x)?1/0:x},project:function(i,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(pe(i),c)},unproject:function(i,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(X(i),c)},layerPointToLatLng:function(i){var c=X(i).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(i){var c=this.project(pe(i))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(pe(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(ye(i))},distance:function(i,c){return this.options.crs.distance(pe(i),pe(c))},containerPointToLayerPoint:function(i){return X(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return X(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var c=this.containerPointToLayerPoint(X(i));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(pe(i)))},mouseEventToContainerPoint:function(i){return Ao(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var c=this._container=Hn(i);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ue(c,"scroll",this._onScroll,this),this._containerId=g(c)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ee.any3d,He(i,"leaflet-container"+(Ee.touch?" leaflet-touch":"")+(Ee.retina?" leaflet-retina":"")+(Ee.ielt9?" leaflet-oldie":"")+(Ee.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=Co(i,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ft(this._mapPane,new $(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(He(i.markerPane,"leaflet-zoom-hide"),He(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,c,m){Ft(this._mapPane,new $(0,0));var x=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var P=this._zoom!==c;this._moveStart(P,m)._move(i,c)._moveEnd(P),this.fire("viewreset"),x&&this.fire("load")},_moveStart:function(i,c){return i&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(i,c,m,x){c===void 0&&(c=this._zoom);var P=this._zoom!==c;return this._zoom=c,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),x?m&&m.pinch&&this.fire("zoom",m):((P||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return le(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){Ft(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[g(this._container)]=this;var c=i?yt:Ue;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),Ee.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){le(this._resizeRequest),this._resizeRequest=_e(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,c){for(var m=[],x,P=c==="mouseout"||c==="mouseover",E=i.target||i.srcElement,F=!1;E;){if(x=this._targets[g(E)],x&&(c==="click"||c==="preclick")&&this._draggableMoved(x)){F=!0;break}if(x&&x.listens(c,!0)&&(P&&!Lo(E,i)||(m.push(x),P))||E===this._container)break;E=E.parentNode}return!m.length&&!F&&!P&&this.listens(c,!0)&&(m=[this]),m},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var c=i.target||i.srcElement;if(!(!this._loaded||c._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(c))){var m=i.type;m==="mousedown"&&ys(c),this._fireDOMEvent(i,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,c,m){if(i.type==="click"){var x=a({},i);x.type="preclick",this._fireDOMEvent(x,x.type,m)}var P=this._findEventTargets(i,c);if(m){for(var E=[],F=0;F<m.length;F++)m[F].listens(c,!0)&&E.push(m[F]);P=E.concat(P)}if(P.length){c==="contextmenu"&&Lt(i);var W=P[0],G={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var ee=W.getLatLng&&(!W._radius||W._radius<=10);G.containerPoint=ee?this.latLngToContainerPoint(W.getLatLng()):this.mouseEventToContainerPoint(i),G.layerPoint=this.containerPointToLayerPoint(G.containerPoint),G.latlng=ee?W.getLatLng():this.layerPointToLatLng(G.layerPoint)}for(F=0;F<P.length;F++)if(P[F].fire(c,G,!0),G.originalEvent._stopped||P[F].options.bubblingMouseEvents===!1&&O(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,c=this._handlers.length;i<c;i++)this._handlers[i].disable()},whenReady:function(i,c){return this._loaded?i.call(c||this,{target:this}):this.on("load",i,c),this},_getMapPanePos:function(){return Er(this._mapPane)||new $(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,c){var m=i&&c!==void 0?this._getNewPixelOrigin(i,c):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,c){var m=this.getSize()._divideBy(2);return this.project(i,c)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,c,m){var x=this._getNewPixelOrigin(m,c);return this.project(i,c)._subtract(x)},_latLngBoundsToNewLayerBounds:function(i,c,m){var x=this._getNewPixelOrigin(m,c);return Y([this.project(i.getSouthWest(),c)._subtract(x),this.project(i.getNorthWest(),c)._subtract(x),this.project(i.getSouthEast(),c)._subtract(x),this.project(i.getNorthEast(),c)._subtract(x)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,c,m){if(!m)return i;var x=this.project(i,c),P=this.getSize().divideBy(2),E=new z(x.subtract(P),x.add(P)),F=this._getBoundsOffset(E,m,c);return Math.abs(F.x)<=1&&Math.abs(F.y)<=1?i:this.unproject(x.add(F),c)},_limitOffset:function(i,c){if(!c)return i;var m=this.getPixelBounds(),x=new z(m.min.add(i),m.max.add(i));return i.add(this._getBoundsOffset(x,c))},_getBoundsOffset:function(i,c,m){var x=Y(this.project(c.getNorthEast(),m),this.project(c.getSouthWest(),m)),P=x.min.subtract(i.min),E=x.max.subtract(i.max),F=this._rebound(P.x,-E.x),W=this._rebound(P.y,-E.y);return new $(F,W)},_rebound:function(i,c){return i+c>0?Math.round(i-c)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(c))},_limitZoom:function(i){var c=this.getMinZoom(),m=this.getMaxZoom(),x=Ee.any3d?this.options.zoomSnap:1;return x&&(i=Math.round(i/x)*x),Math.max(c,Math.min(m,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){wt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,c){var m=this._getCenterOffset(i)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,c),!0)},_createAnimProxy:function(){var i=this._proxy=Ge("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(c){var m=pc,x=this._proxy.style[m];qn(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),x===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Pt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),c=this.getZoom();qn(this._proxy,this.project(i,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,c,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var x=this.getZoomScale(c),P=this._getCenterOffset(i)._divideBy(1-1/x);return m.animate!==!0&&!this.getSize().contains(P)?!1:(_e(function(){this._moveStart(!0,m.noMoveStart||!1)._animateZoom(i,c,!0)},this),!0)},_animateZoom:function(i,c,m,x){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=c,He(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:c,noUpdate:x}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&wt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ni(i,c){return new st(i,c)}var Tn=te.extend({options:{position:"topright"},initialize:function(i){C(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var c=this._map;return c&&c.removeControl(this),this.options.position=i,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var c=this._container=this.onAdd(i),m=this.getPosition(),x=i._controlCorners[m];return He(c,"leaflet-control"),m.indexOf("bottom")!==-1?x.insertBefore(c,x.firstChild):x.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Pt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),ri=function(i){return new Tn(i)};st.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},c="leaflet-",m=this._controlContainer=Ge("div",c+"control-container",this._container);function x(P,E){var F=c+P+" "+c+E;i[P+E]=Ge("div",F,m)}x("top","left"),x("top","right"),x("bottom","left"),x("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)Pt(this._controlCorners[i]);Pt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var xc=Tn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,c,m,x){return m<x?-1:x<m?1:0}},initialize:function(i,c,m){C(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var x in i)this._addLayer(i[x],x);for(x in c)this._addLayer(c[x],x,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return Tn.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,c){return this._addLayer(i,c),this._map?this._update():this},addOverlay:function(i,c){return this._addLayer(i,c,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var c=this._getLayer(g(i));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){He(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(He(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):wt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return wt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",c=this._container=Ge("div",i),m=this.options.collapsed;c.setAttribute("aria-haspopup",!0),Eo(c),La(c);var x=this._section=Ge("section",i+"-list");m&&(this._map.on("click",this.collapse,this),Ue(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var P=this._layersLink=Ge("a",i+"-toggle",c);P.href="#",P.title="Layers",P.setAttribute("role","button"),Ue(P,{keydown:function(E){E.keyCode===13&&this._expandSafely()},click:function(E){Lt(E),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=Ge("div",i+"-base",x),this._separator=Ge("div",i+"-separator",x),this._overlaysList=Ge("div",i+"-overlays",x),c.appendChild(x)},_getLayer:function(i){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&g(this._layers[c].layer)===i)return this._layers[c]},_addLayer:function(i,c,m){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:c,overlay:m}),this.options.sortLayers&&this._layers.sort(f(function(x,P){return this.options.sortFunction(x.layer,P.layer,x.name,P.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ca(this._baseLayersList),Ca(this._overlaysList),this._layerControlInputs=[];var i,c,m,x,P=0;for(m=0;m<this._layers.length;m++)x=this._layers[m],this._addItem(x),c=c||x.overlay,i=i||!x.overlay,P+=x.overlay?0:1;return this.options.hideSingleBase&&(i=i&&P>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=c&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var c=this._getLayer(g(i.target)),m=c.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;m&&this._map.fire(m,c)},_createRadioElement:function(i,c){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(c?' checked="checked"':"")+"/>",x=document.createElement("div");return x.innerHTML=m,x.firstChild},_addItem:function(i){var c=document.createElement("label"),m=this._map.hasLayer(i.layer),x;i.overlay?(x=document.createElement("input"),x.type="checkbox",x.className="leaflet-control-layers-selector",x.defaultChecked=m):x=this._createRadioElement("leaflet-base-layers_"+g(this),m),this._layerControlInputs.push(x),x.layerId=g(i.layer),Ue(x,"click",this._onInputClick,this);var P=document.createElement("span");P.innerHTML=" "+i.name;var E=document.createElement("span");c.appendChild(E),E.appendChild(x),E.appendChild(P);var F=i.overlay?this._overlaysList:this._baseLayersList;return F.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,c,m,x=[],P=[];this._handlingClick=!0;for(var E=i.length-1;E>=0;E--)c=i[E],m=this._getLayer(c.layerId).layer,c.checked?x.push(m):c.checked||P.push(m);for(E=0;E<P.length;E++)this._map.hasLayer(P[E])&&this._map.removeLayer(P[E]);for(E=0;E<x.length;E++)this._map.hasLayer(x[E])||this._map.addLayer(x[E]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,c,m,x=this._map.getZoom(),P=i.length-1;P>=0;P--)c=i[P],m=this._getLayer(c.layerId).layer,c.disabled=m.options.minZoom!==void 0&&x<m.options.minZoom||m.options.maxZoom!==void 0&&x>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,Ue(i,"click",Lt),this.expand();var c=this;setTimeout(function(){yt(i,"click",Lt),c._preventClick=!1})}}),Oa=function(i,c,m){return new xc(i,c,m)},xs=Tn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var c="leaflet-control-zoom",m=Ge("div",c+" leaflet-bar"),x=this.options;return this._zoomInButton=this._createButton(x.zoomInText,x.zoomInTitle,c+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(x.zoomOutText,x.zoomOutTitle,c+"-out",m,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,c,m,x,P){var E=Ge("a",m,x);return E.innerHTML=i,E.href="#",E.title=c,E.setAttribute("role","button"),E.setAttribute("aria-label",c),Eo(E),Ue(E,"click",Gn),Ue(E,"click",P,this),Ue(E,"click",this._refocusOnMap,this),E},_updateDisabled:function(){var i=this._map,c="leaflet-disabled";wt(this._zoomInButton,c),wt(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(He(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(He(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});st.mergeOptions({zoomControl:!0}),st.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new xs,this.addControl(this.zoomControl))});var pd=function(i){return new xs(i)},gn=Tn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var c="leaflet-control-scale",m=Ge("div",c),x=this.options;return this._addScales(x,c+"-line",m),i.on(x.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),m},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,c,m){i.metric&&(this._mScale=Ge("div",c,m)),i.imperial&&(this._iScale=Ge("div",c,m))},_update:function(){var i=this._map,c=i.getSize().y/2,m=i.distance(i.containerPointToLatLng([0,c]),i.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(m)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var c=this._getRoundNum(i),m=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,m,c/i)},_updateImperial:function(i){var c=i*3.2808399,m,x,P;c>5280?(m=c/5280,x=this._getRoundNum(m),this._updateScale(this._iScale,x+" mi",x/m)):(P=this._getRoundNum(c),this._updateScale(this._iScale,P+" ft",P/c))},_updateScale:function(i,c,m){i.style.width=Math.round(this.options.maxWidth*m)+"px",i.innerHTML=c},_getRoundNum:function(i){var c=Math.pow(10,(Math.floor(i)+"").length-1),m=i/c;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,c*m}}),_s=function(i){return new gn(i)},_c='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ri=Tn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ee.inlineSvg?_c+" ":"")+"Leaflet</a>"},initialize:function(i){C(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=Ge("div","leaflet-control-attribution"),Eo(this._container);for(var c in i._layers)i._layers[c].getAttribution&&this.addAttribution(i._layers[c].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var c in this._attributions)this._attributions[c]&&i.push(c);var m=[];this.options.prefix&&m.push(this.options.prefix),i.length&&m.push(i.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});st.mergeOptions({attributionControl:!0}),st.addInitHook(function(){this.options.attributionControl&&new Ri().addTo(this)});var sm=function(i){return new Ri(i)};Tn.Layers=xc,Tn.Zoom=xs,Tn.Scale=gn,Tn.Attribution=Ri,ri.layers=Oa,ri.zoom=pd,ri.scale=_s,ri.attribution=sm;var On=te.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});On.addTo=function(i,c){return i.addHandler(c,this),this};var wc={Events:de},ws=Ee.touch?"touchstart mousedown":"mousedown",Qn=ce.extend({options:{clickTolerance:3},initialize:function(i,c,m,x){C(this,x),this._element=i,this._dragStartTarget=c||i,this._preventOutline=m},enable:function(){this._enabled||(Ue(this._dragStartTarget,ws,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Qn._dragging===this&&this.finishDrag(!0),yt(this._dragStartTarget,ws,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!ps(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){Qn._dragging===this&&this.finishDrag();return}if(!(Qn._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(Qn._dragging=this,this._preventOutline&&ys(this._element),ka(),ct(),!this._moving)){this.fire("down");var c=i.touches?i.touches[0]:i,m=Ar(this._element);this._startPoint=new $(c.clientX,c.clientY),this._startPos=Er(this._element),this._parentScale=fr(m);var x=i.type==="mousedown";Ue(document,x?"mousemove":"touchmove",this._onMove,this),Ue(document,x?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var c=i.touches&&i.touches.length===1?i.touches[0]:i,m=new $(c.clientX,c.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,Lt(i),this._moved||(this.fire("dragstart"),this._moved=!0,He(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),He(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),Ft(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){wt(document.body,"leaflet-dragging"),this._lastTarget&&(wt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),yt(document,"mousemove touchmove",this._onMove,this),yt(document,"mouseup touchend touchcancel",this._onUp,this),Ea(),vs();var c=this._moved&&this._moving;this._moving=!1,Qn._dragging=!1,c&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function bc(i,c,m){var x,P=[1,4,2,8],E,F,W,G,ee,xe,Oe,Qe;for(E=0,xe=i.length;E<xe;E++)i[E]._code=Oi(i[E],c);for(W=0;W<4;W++){for(Oe=P[W],x=[],E=0,xe=i.length,F=xe-1;E<xe;F=E++)G=i[E],ee=i[F],G._code&Oe?ee._code&Oe||(Qe=Da(ee,G,Oe,c,m),Qe._code=Oi(Qe,c),x.push(Qe)):(ee._code&Oe&&(Qe=Da(ee,G,Oe,c,m),Qe._code=Oi(Qe,c),x.push(Qe)),x.push(G));i=x}return i}function gd(i,c){var m,x,P,E,F,W,G,ee,xe;if(!i||i.length===0)throw new Error("latlngs not passed");In(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var Oe=pe([0,0]),Qe=ye(i),Yt=Qe.getNorthWest().distanceTo(Qe.getSouthWest())*Qe.getNorthEast().distanceTo(Qe.getNorthWest());Yt<1700&&(Oe=Sc(i));var Ht=i.length,En=[];for(m=0;m<Ht;m++){var vn=pe(i[m]);En.push(c.project(pe([vn.lat-Oe.lat,vn.lng-Oe.lng])))}for(W=G=ee=0,m=0,x=Ht-1;m<Ht;x=m++)P=En[m],E=En[x],F=P.y*E.x-E.y*P.x,G+=(P.x+E.x)*F,ee+=(P.y+E.y)*F,W+=F*3;W===0?xe=En[0]:xe=[G/W,ee/W];var As=c.unproject(X(xe));return pe([As.lat+Oe.lat,As.lng+Oe.lng])}function Sc(i){for(var c=0,m=0,x=0,P=0;P<i.length;P++){var E=pe(i[P]);c+=E.lat,m+=E.lng,x++}return pe([c/x,m/x])}var om={__proto__:null,clipPolygon:bc,polygonCenter:gd,centroid:Sc};function Ia(i,c){if(!c||!i.length)return i.slice();var m=c*c;return i=cm(i,m),i=lm(i,m),i}function vd(i,c,m){return Math.sqrt(Ii(i,c,m,!0))}function am(i,c,m){return Ii(i,c,m)}function lm(i,c){var m=i.length,x=typeof Uint8Array<"u"?Uint8Array:Array,P=new x(m);P[0]=P[m-1]=1,Pc(i,P,c,0,m-1);var E,F=[];for(E=0;E<m;E++)P[E]&&F.push(i[E]);return F}function Pc(i,c,m,x,P){var E=0,F,W,G;for(W=x+1;W<=P-1;W++)G=Ii(i[W],i[x],i[P],!0),G>E&&(F=W,E=G);E>m&&(c[F]=1,Pc(i,c,m,x,F),Pc(i,c,m,F,P))}function cm(i,c){for(var m=[i[0]],x=1,P=0,E=i.length;x<E;x++)um(i[x],i[P])>c&&(m.push(i[x]),P=x);return P<E-1&&m.push(i[E-1]),m}var Nc;function yd(i,c,m,x,P){var E=x?Nc:Oi(i,m),F=Oi(c,m),W,G,ee;for(Nc=F;;){if(!(E|F))return[i,c];if(E&F)return!1;W=E||F,G=Da(i,c,W,m,P),ee=Oi(G,m),W===E?(i=G,E=ee):(c=G,F=ee)}}function Da(i,c,m,x,P){var E=c.x-i.x,F=c.y-i.y,W=x.min,G=x.max,ee,xe;return m&8?(ee=i.x+E*(G.y-i.y)/F,xe=G.y):m&4?(ee=i.x+E*(W.y-i.y)/F,xe=W.y):m&2?(ee=G.x,xe=i.y+F*(G.x-i.x)/E):m&1&&(ee=W.x,xe=i.y+F*(W.x-i.x)/E),new $(ee,xe,P)}function Oi(i,c){var m=0;return i.x<c.min.x?m|=1:i.x>c.max.x&&(m|=2),i.y<c.min.y?m|=4:i.y>c.max.y&&(m|=8),m}function um(i,c){var m=c.x-i.x,x=c.y-i.y;return m*m+x*x}function Ii(i,c,m,x){var P=c.x,E=c.y,F=m.x-P,W=m.y-E,G=F*F+W*W,ee;return G>0&&(ee=((i.x-P)*F+(i.y-E)*W)/G,ee>1?(P=m.x,E=m.y):ee>0&&(P+=F*ee,E+=W*ee)),F=i.x-P,W=i.y-E,x?F*F+W*W:new $(P,E)}function In(i){return!D(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function xd(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),In(i)}function _d(i,c){var m,x,P,E,F,W,G,ee;if(!i||i.length===0)throw new Error("latlngs not passed");In(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var xe=pe([0,0]),Oe=ye(i),Qe=Oe.getNorthWest().distanceTo(Oe.getSouthWest())*Oe.getNorthEast().distanceTo(Oe.getNorthWest());Qe<1700&&(xe=Sc(i));var Yt=i.length,Ht=[];for(m=0;m<Yt;m++){var En=pe(i[m]);Ht.push(c.project(pe([En.lat-xe.lat,En.lng-xe.lng])))}for(m=0,x=0;m<Yt-1;m++)x+=Ht[m].distanceTo(Ht[m+1])/2;if(x===0)ee=Ht[0];else for(m=0,E=0;m<Yt-1;m++)if(F=Ht[m],W=Ht[m+1],P=F.distanceTo(W),E+=P,E>x){G=(E-x)/P,ee=[W.x-G*(W.x-F.x),W.y-G*(W.y-F.y)];break}var vn=c.unproject(X(ee));return pe([vn.lat+xe.lat,vn.lng+xe.lng])}var wd={__proto__:null,simplify:Ia,pointToSegmentDistance:vd,closestPointOnSegment:am,clipSegment:yd,_getEdgeIntersection:Da,_getBitCode:Oi,_sqClosestPointOnSegment:Ii,isFlat:In,_flat:xd,polylineCenter:_d},Cc={project:function(i){return new $(i.lng,i.lat)},unproject:function(i){return new we(i.y,i.x)},bounds:new z([-180,-90],[180,90])},jc={R:6378137,R_MINOR:6356752314245179e-9,bounds:new z([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var c=Math.PI/180,m=this.R,x=i.lat*c,P=this.R_MINOR/m,E=Math.sqrt(1-P*P),F=E*Math.sin(x),W=Math.tan(Math.PI/4-x/2)/Math.pow((1-F)/(1+F),E/2);return x=-m*Math.log(Math.max(W,1e-10)),new $(i.lng*c*m,x)},unproject:function(i){for(var c=180/Math.PI,m=this.R,x=this.R_MINOR/m,P=Math.sqrt(1-x*x),E=Math.exp(-i.y/m),F=Math.PI/2-2*Math.atan(E),W=0,G=.1,ee;W<15&&Math.abs(G)>1e-7;W++)ee=P*Math.sin(F),ee=Math.pow((1-ee)/(1+ee),P/2),G=Math.PI/2-2*Math.atan(E*ee)-F,F+=G;return new we(F*c,i.x*c/m)}},dm={__proto__:null,LonLat:Cc,Mercator:jc,SphericalMercator:Fe},fm=a({},Se,{code:"EPSG:3395",projection:jc,transformation:(function(){var i=.5/(Math.PI*jc.R);return lt(i,.5,-i,.5)})()}),bd=a({},Se,{code:"EPSG:4326",projection:Cc,transformation:lt(1/180,1,-1/180,.5)}),hm=a({},fe,{projection:Cc,transformation:lt(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,c){var m=c.lng-i.lng,x=c.lat-i.lat;return Math.sqrt(m*m+x*x)},infinite:!0});fe.Earth=Se,fe.EPSG3395=fm,fe.EPSG3857=kt,fe.EPSG900913=hn,fe.EPSG4326=bd,fe.Simple=hm;var Xn=ce.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[g(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[g(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var c=i.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var m=this.getEvents();c.on(m,this),this.once("remove",function(){c.off(m,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});st.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var c=g(i);return this._layers[c]?this:(this._layers[c]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var c=g(i);return this._layers[c]?(this._loaded&&i.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return g(i)in this._layers},eachLayer:function(i,c){for(var m in this._layers)i.call(c,this._layers[m]);return this},_addLayers:function(i){i=i?D(i)?i:[i]:[];for(var c=0,m=i.length;c<m;c++)this.addLayer(i[c])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[g(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var c=g(i);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,c=-1/0,m=this._getZoomSpan();for(var x in this._zoomBoundLayers){var P=this._zoomBoundLayers[x].options;i=P.minZoom===void 0?i:Math.min(i,P.minZoom),c=P.maxZoom===void 0?c:Math.max(c,P.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=i===1/0?void 0:i,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ii=Xn.extend({initialize:function(i,c){C(this,c),this._layers={};var m,x;if(i)for(m=0,x=i.length;m<x;m++)this.addLayer(i[m])},addLayer:function(i){var c=this.getLayerId(i);return this._layers[c]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var c=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(i){var c=typeof i=="number"?i:this.getLayerId(i);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var c=Array.prototype.slice.call(arguments,1),m,x;for(m in this._layers)x=this._layers[m],x[i]&&x[i].apply(x,c);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,c){for(var m in this._layers)i.call(c,this._layers[m]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return g(i)}}),Mo=function(i,c){return new ii(i,c)},Lr=ii.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),ii.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),ii.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new Ne;for(var c in this._layers){var m=this._layers[c];i.extend(m.getBounds?m.getBounds():m.getLatLng())}return i}}),Sd=function(i,c){return new Lr(i,c)},Di=te.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){C(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,c){var m=this._getIconUrl(i);if(!m){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var x=this._createImg(m,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(x,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(x.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),x},_setIconStyles:function(i,c){var m=this.options,x=m[c+"Size"];typeof x=="number"&&(x=[x,x]);var P=X(x),E=X(c==="shadow"&&m.shadowAnchor||m.iconAnchor||P&&P.divideBy(2,!0));i.className="leaflet-marker-"+c+" "+(m.className||""),E&&(i.style.marginLeft=-E.x+"px",i.style.marginTop=-E.y+"px"),P&&(i.style.width=P.x+"px",i.style.height=P.y+"px")},_createImg:function(i,c){return c=c||document.createElement("img"),c.src=i,c},_getIconUrl:function(i){return Ee.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function Pd(i){return new Di(i)}var bs=Di.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof bs.imagePath!="string"&&(bs.imagePath=this._detectIconPath()),(this.options.imagePath||bs.imagePath)+Di.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var c=function(m,x,P){var E=x.exec(m);return E&&E[P]};return i=c(i,/^url\((['"])?(.+)\1\)$/,2),i&&c(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=Ge("div","leaflet-default-icon-path",document.body),c=Co(i,"background-image")||Co(i,"backgroundImage");if(document.body.removeChild(i),c=this._stripUrl(c),c)return c;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),Tc=On.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new Qn(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),He(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&wt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var c=this._marker,m=c._map,x=this._marker.options.autoPanSpeed,P=this._marker.options.autoPanPadding,E=Er(c._icon),F=m.getPixelBounds(),W=m.getPixelOrigin(),G=Y(F.min._subtract(W).add(P),F.max._subtract(W).subtract(P));if(!G.contains(E)){var ee=X((Math.max(G.max.x,E.x)-G.max.x)/(F.max.x-G.max.x)-(Math.min(G.min.x,E.x)-G.min.x)/(F.min.x-G.min.x),(Math.max(G.max.y,E.y)-G.max.y)/(F.max.y-G.max.y)-(Math.min(G.min.y,E.y)-G.min.y)/(F.min.y-G.min.y)).multiplyBy(x);m.panBy(ee,{animate:!1}),this._draggable._newPos._add(ee),this._draggable._startPos._add(ee),Ft(c._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=_e(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(le(this._panRequest),this._panRequest=_e(this._adjustPan.bind(this,i)))},_onDrag:function(i){var c=this._marker,m=c._shadow,x=Er(c._icon),P=c._map.layerPointToLatLng(x);m&&Ft(m,x),c._latlng=P,i.latlng=P,i.oldLatLng=this._oldLatLng,c.fire("move",i).fire("drag",i)},_onDragEnd:function(i){le(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),Mr=Xn.extend({options:{icon:new bs,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,c){C(this,c),this._latlng=pe(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var c=this._latlng;return this._latlng=pe(i),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=i.icon.createIcon(this._icon),x=!1;m!==this._icon&&(this._icon&&this._removeIcon(),x=!0,i.title&&(m.title=i.title),m.tagName==="IMG"&&(m.alt=i.alt||"")),He(m,c),i.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ue(m,"focus",this._panOnFocus,this);var P=i.icon.createShadow(this._shadow),E=!1;P!==this._shadow&&(this._removeShadow(),E=!0),P&&(He(P,c),P.alt=""),this._shadow=P,i.opacity<1&&this._updateOpacity(),x&&this.getPane().appendChild(this._icon),this._initInteraction(),P&&E&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&yt(this._icon,"focus",this._panOnFocus,this),Pt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Pt(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&Ft(this._icon,i),this._shadow&&Ft(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var c=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(He(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Tc)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Tc(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&pn(this._icon,i),this._shadow&&pn(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var c=this.options.icon.options,m=c.iconSize?X(c.iconSize):X(0,0),x=c.iconAnchor?X(c.iconAnchor):X(0,0);i.panInside(this._latlng,{paddingTopLeft:x,paddingBottomRight:m.subtract(x)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function mm(i,c){return new Mr(i,c)}var si=Xn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return C(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Fa=si.extend({options:{fill:!0,radius:10},initialize:function(i,c){C(this,c),this._latlng=pe(i),this._radius=this.options.radius},setLatLng:function(i){var c=this._latlng;return this._latlng=pe(i),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var c=i&&i.radius||this._radius;return si.prototype.setStyle.call(this,i),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,c=this._radiusY||i,m=this._clickTolerance(),x=[i+m,c+m];this._pxBounds=new z(this._point.subtract(x),this._point.add(x))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Nd(i,c){return new Fa(i,c)}var za=Fa.extend({initialize:function(i,c,m){if(typeof c=="number"&&(c=a({},m,{radius:c})),C(this,c),this._latlng=pe(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new Ne(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:si.prototype.setStyle,_project:function(){var i=this._latlng.lng,c=this._latlng.lat,m=this._map,x=m.options.crs;if(x.distance===Se.distance){var P=Math.PI/180,E=this._mRadius/Se.R/P,F=m.project([c+E,i]),W=m.project([c-E,i]),G=F.add(W).divideBy(2),ee=m.unproject(G).lat,xe=Math.acos((Math.cos(E*P)-Math.sin(c*P)*Math.sin(ee*P))/(Math.cos(c*P)*Math.cos(ee*P)))/P;(isNaN(xe)||xe===0)&&(xe=E/Math.cos(Math.PI/180*c)),this._point=G.subtract(m.getPixelOrigin()),this._radius=isNaN(xe)?0:G.x-m.project([ee,i-xe]).x,this._radiusY=G.y-F.y}else{var Oe=x.unproject(x.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint(Oe).x}this._updateBounds()}});function Ro(i,c,m){return new za(i,c,m)}var kn=si.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,c){C(this,c),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var c=1/0,m=null,x=Ii,P,E,F=0,W=this._parts.length;F<W;F++)for(var G=this._parts[F],ee=1,xe=G.length;ee<xe;ee++){P=G[ee-1],E=G[ee];var Oe=x(i,P,E,!0);Oe<c&&(c=Oe,m=x(i,P,E))}return m&&(m.distance=Math.sqrt(c)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return _d(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,c){return c=c||this._defaultShape(),i=pe(i),c.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new Ne,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return In(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var c=[],m=In(i),x=0,P=i.length;x<P;x++)m?(c[x]=pe(i[x]),this._bounds.extend(c[x])):c[x]=this._convertLatLngs(i[x]);return c},_project:function(){var i=new z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),c=new $(i,i);this._rawPxBounds&&(this._pxBounds=new z([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(i,c,m){var x=i[0]instanceof we,P=i.length,E,F;if(x){for(F=[],E=0;E<P;E++)F[E]=this._map.latLngToLayerPoint(i[E]),m.extend(F[E]);c.push(F)}else for(E=0;E<P;E++)this._projectLatlngs(i[E],c,m)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,m,x,P,E,F,W,G;for(m=0,P=0,E=this._rings.length;m<E;m++)for(G=this._rings[m],x=0,F=G.length;x<F-1;x++)W=yd(G[x],G[x+1],i,x,!0),W&&(c[P]=c[P]||[],c[P].push(W[0]),(W[1]!==G[x+1]||x===F-2)&&(c[P].push(W[1]),P++))}},_simplifyPoints:function(){for(var i=this._parts,c=this.options.smoothFactor,m=0,x=i.length;m<x;m++)i[m]=Ia(i[m],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,c){var m,x,P,E,F,W,G=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(m=0,E=this._parts.length;m<E;m++)for(W=this._parts[m],x=0,F=W.length,P=F-1;x<F;P=x++)if(!(!c&&x===0)&&vd(i,W[P],W[x])<=G)return!0;return!1}});function pm(i,c){return new kn(i,c)}kn._flat=xd;var Rr=kn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return gd(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var c=kn.prototype._convertLatLngs.call(this,i),m=c.length;return m>=2&&c[0]instanceof we&&c[0].equals(c[m-1])&&c.pop(),c},_setLatLngs:function(i){kn.prototype._setLatLngs.call(this,i),In(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return In(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,c=this.options.weight,m=new $(c,c);if(i=new z(i.min.subtract(m),i.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var x=0,P=this._rings.length,E;x<P;x++)E=bc(this._rings[x],i,!0),E.length&&this._parts.push(E)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var c=!1,m,x,P,E,F,W,G,ee;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(E=0,G=this._parts.length;E<G;E++)for(m=this._parts[E],F=0,ee=m.length,W=ee-1;F<ee;W=F++)x=m[F],P=m[W],x.y>i.y!=P.y>i.y&&i.x<(P.x-x.x)*(i.y-x.y)/(P.y-x.y)+x.x&&(c=!c);return c||kn.prototype._containsPoint.call(this,i,!0)}});function gm(i,c){return new Rr(i,c)}var mr=Lr.extend({initialize:function(i,c){C(this,c),this._layers={},i&&this.addData(i)},addData:function(i){var c=D(i)?i:i.features,m,x,P;if(c){for(m=0,x=c.length;m<x;m++)P=c[m],(P.geometries||P.geometry||P.features||P.coordinates)&&this.addData(P);return this}var E=this.options;if(E.filter&&!E.filter(i))return this;var F=Ss(i,E);return F?(F.feature=Za(i),F.defaultOptions=F.options,this.resetStyle(F),E.onEachFeature&&E.onEachFeature(i,F),this.addLayer(F)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=a({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(c){this._setLayerStyle(c,i)},this)},_setLayerStyle:function(i,c){i.setStyle&&(typeof c=="function"&&(c=c(i.feature)),i.setStyle(c))}});function Ss(i,c){var m=i.type==="Feature"?i.geometry:i,x=m?m.coordinates:null,P=[],E=c&&c.pointToLayer,F=c&&c.coordsToLatLng||Va,W,G,ee,xe;if(!x&&!m)return null;switch(m.type){case"Point":return W=F(x),Ba(E,i,W,c);case"MultiPoint":for(ee=0,xe=x.length;ee<xe;ee++)W=F(x[ee]),P.push(Ba(E,i,W,c));return new Lr(P);case"LineString":case"MultiLineString":return G=Oo(x,m.type==="LineString"?0:1,F),new kn(G,c);case"Polygon":case"MultiPolygon":return G=Oo(x,m.type==="Polygon"?1:2,F),new Rr(G,c);case"GeometryCollection":for(ee=0,xe=m.geometries.length;ee<xe;ee++){var Oe=Ss({geometry:m.geometries[ee],type:"Feature",properties:i.properties},c);Oe&&P.push(Oe)}return new Lr(P);case"FeatureCollection":for(ee=0,xe=m.features.length;ee<xe;ee++){var Qe=Ss(m.features[ee],c);Qe&&P.push(Qe)}return new Lr(P);default:throw new Error("Invalid GeoJSON object.")}}function Ba(i,c,m,x){return i?i(c,m):new Mr(m,x&&x.markersInheritOptions&&x)}function Va(i){return new we(i[1],i[0],i[2])}function Oo(i,c,m){for(var x=[],P=0,E=i.length,F;P<E;P++)F=c?Oo(i[P],c-1,m):(m||Va)(i[P]),x.push(F);return x}function Ua(i,c){return i=pe(i),i.alt!==void 0?[N(i.lng,c),N(i.lat,c),N(i.alt,c)]:[N(i.lng,c),N(i.lat,c)]}function $a(i,c,m,x){for(var P=[],E=0,F=i.length;E<F;E++)P.push(c?$a(i[E],In(i[E])?0:c-1,m,x):Ua(i[E],x));return!c&&m&&P.length>0&&P.push(P[0].slice()),P}function Ps(i,c){return i.feature?a({},i.feature,{geometry:c}):Za(c)}function Za(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var kc={toGeoJSON:function(i){return Ps(this,{type:"Point",coordinates:Ua(this.getLatLng(),i)})}};Mr.include(kc),za.include(kc),Fa.include(kc),kn.include({toGeoJSON:function(i){var c=!In(this._latlngs),m=$a(this._latlngs,c?1:0,!1,i);return Ps(this,{type:(c?"Multi":"")+"LineString",coordinates:m})}}),Rr.include({toGeoJSON:function(i){var c=!In(this._latlngs),m=c&&!In(this._latlngs[0]),x=$a(this._latlngs,m?2:c?1:0,!0,i);return c||(x=[x]),Ps(this,{type:(m?"Multi":"")+"Polygon",coordinates:x})}}),ii.include({toMultiPoint:function(i){var c=[];return this.eachLayer(function(m){c.push(m.toGeoJSON(i).geometry.coordinates)}),Ps(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(i){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(i);var m=c==="GeometryCollection",x=[];return this.eachLayer(function(P){if(P.toGeoJSON){var E=P.toGeoJSON(i);if(m)x.push(E.geometry);else{var F=Za(E);F.type==="FeatureCollection"?x.push.apply(x,F.features):x.push(F)}}}),m?Ps(this,{geometries:x,type:"GeometryCollection"}):{type:"FeatureCollection",features:x}}});function Cd(i,c){return new mr(i,c)}var Yn=Cd,oi=Xn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,c,m){this._url=i,this._bounds=ye(c),C(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(He(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Pt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&ms(this._image),this},bringToBack:function(){return this._map&&kr(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=ye(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",c=this._image=i?this._url:Ge("img");if(He(c,"leaflet-image-layer"),this._zoomAnimated&&He(c,"leaflet-zoom-animated"),this.options.className&&He(c,this.options.className),c.onselectstart=w,c.onmousemove=w,c.onload=f(this.fire,this,"load"),c.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(i){var c=this._map.getZoomScale(i.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;qn(this._image,m,c)},_reset:function(){var i=this._image,c=new z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=c.getSize();Ft(i,c.min),i.style.width=m.x+"px",i.style.height=m.y+"px"},_updateOpacity:function(){pn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),jd=function(i,c,m){return new oi(i,c,m)},Ec=oi.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",c=this._image=i?this._url:Ge("video");if(He(c,"leaflet-image-layer"),this._zoomAnimated&&He(c,"leaflet-zoom-animated"),this.options.className&&He(c,this.options.className),c.onselectstart=w,c.onmousemove=w,c.onloadeddata=f(this.fire,this,"load"),i){for(var m=c.getElementsByTagName("source"),x=[],P=0;P<m.length;P++)x.push(m[P].src);this._url=m.length>0?x:[c.src];return}D(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var E=0;E<this._url.length;E++){var F=Ge("source");F.src=this._url[E],c.appendChild(F)}}});function Td(i,c,m){return new Ec(i,c,m)}var Ac=oi.extend({_initImage:function(){var i=this._image=this._url;He(i,"leaflet-image-layer"),this._zoomAnimated&&He(i,"leaflet-zoom-animated"),this.options.className&&He(i,this.options.className),i.onselectstart=w,i.onmousemove=w}});function Lc(i,c,m){return new Ac(i,c,m)}var pr=Xn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,c){i&&(i instanceof we||D(i))?(this._latlng=pe(i),C(this,c)):(C(this,i),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&pn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&pn(this._container,1),this.bringToFront(),this.options.interactive&&(He(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(pn(this._container,0),this._removeTimeout=setTimeout(f(Pt,void 0,this._container),200)):Pt(this._container),this.options.interactive&&(wt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=pe(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ms(this._container),this},bringToBack:function(){return this._map&&kr(this._container),this},_prepareOpen:function(i){var c=this._source;if(!c._map)return!1;if(c instanceof Lr){c=null;var m=this._source._layers;for(var x in m)if(m[x]._map){c=m[x];break}if(!c)return!1;this._source=c}if(!i)if(c.getCenter)i=c.getCenter();else if(c.getLatLng)i=c.getLatLng();else if(c.getBounds)i=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")i.innerHTML=c;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),c=X(this.options.offset),m=this._getAnchor();this._zoomAnimated?Ft(this._container,i.add(m)):c=c.add(i).add(m);var x=this._containerBottom=-c.y,P=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=x+"px",this._container.style.left=P+"px"}},_getAnchor:function(){return[0,0]}});st.include({_initOverlay:function(i,c,m,x){var P=c;return P instanceof i||(P=new i(x).setContent(c)),m&&P.setLatLng(m),P}}),Xn.include({_initOverlay:function(i,c,m,x){var P=m;return P instanceof i?(C(P,x),P._source=this):(P=c&&!x?c:new i(x,this),P.setContent(m)),P}});var Wa=pr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,pr.prototype.openOn.call(this,i)},onAdd:function(i){pr.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof si||this._source.on("preclick",hr))},onRemove:function(i){pr.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof si||this._source.off("preclick",hr))},getEvents:function(){var i=pr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",c=this._container=Ge("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=Ge("div",i+"-content-wrapper",c);if(this._contentNode=Ge("div",i+"-content",m),Eo(c),La(this._contentNode),Ue(c,"contextmenu",hr),this._tipContainer=Ge("div",i+"-tip-container",c),this._tip=Ge("div",i+"-tip",this._tipContainer),this.options.closeButton){var x=this._closeButton=Ge("a",i+"-close-button",c);x.setAttribute("role","button"),x.setAttribute("aria-label","Close popup"),x.href="#close",x.innerHTML='<span aria-hidden="true">&#215;</span>',Ue(x,"click",function(P){Lt(P),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,c=i.style;c.width="",c.whiteSpace="nowrap";var m=i.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),c.width=m+1+"px",c.whiteSpace="",c.height="";var x=i.offsetHeight,P=this.options.maxHeight,E="leaflet-popup-scrolled";P&&x>P?(c.height=P+"px",He(i,E)):wt(i,E),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var c=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),m=this._getAnchor();Ft(this._container,c.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,c=parseInt(Co(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+c,x=this._containerWidth,P=new $(this._containerLeft,-m-this._containerBottom);P._add(Er(this._container));var E=i.layerPointToContainerPoint(P),F=X(this.options.autoPanPadding),W=X(this.options.autoPanPaddingTopLeft||F),G=X(this.options.autoPanPaddingBottomRight||F),ee=i.getSize(),xe=0,Oe=0;E.x+x+G.x>ee.x&&(xe=E.x+x-ee.x+G.x),E.x-xe-W.x<0&&(xe=E.x-W.x),E.y+m+G.y>ee.y&&(Oe=E.y+m-ee.y+G.y),E.y-Oe-W.y<0&&(Oe=E.y-W.y),(xe||Oe)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([xe,Oe]))}},_getAnchor:function(){return X(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ns=function(i,c){return new Wa(i,c)};st.mergeOptions({closePopupOnClick:!0}),st.include({openPopup:function(i,c,m){return this._initOverlay(Wa,i,c,m).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),Xn.include({bindPopup:function(i,c){return this._popup=this._initOverlay(Wa,this._popup,i,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof Lr||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){Gn(i);var c=i.layer||i.target;if(this._popup._source===c&&!(c instanceof si)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=c,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var Cs=pr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){pr.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){pr.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=pr.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",c=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ge("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+g(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var c,m,x=this._map,P=this._container,E=x.latLngToContainerPoint(x.getCenter()),F=x.layerPointToContainerPoint(i),W=this.options.direction,G=P.offsetWidth,ee=P.offsetHeight,xe=X(this.options.offset),Oe=this._getAnchor();W==="top"?(c=G/2,m=ee):W==="bottom"?(c=G/2,m=0):W==="center"?(c=G/2,m=ee/2):W==="right"?(c=0,m=ee/2):W==="left"?(c=G,m=ee/2):F.x<E.x?(W="right",c=0,m=ee/2):(W="left",c=G+(xe.x+Oe.x)*2,m=ee/2),i=i.subtract(X(c,m,!0)).add(xe).add(Oe),wt(P,"leaflet-tooltip-right"),wt(P,"leaflet-tooltip-left"),wt(P,"leaflet-tooltip-top"),wt(P,"leaflet-tooltip-bottom"),He(P,"leaflet-tooltip-"+W),Ft(P,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&pn(this._container,i)},_animateZoom:function(i){var c=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(c)},_getAnchor:function(){return X(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Io=function(i,c){return new Cs(i,c)};st.include({openTooltip:function(i,c,m){return this._initOverlay(Cs,i,c,m).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),Xn.include({bindTooltip:function(i,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Cs,this._tooltip,i,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var c=i?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[c](m),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof Lr||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var c=typeof i.getElement=="function"&&i.getElement();c&&(Ue(c,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),Ue(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var c=typeof i.getElement=="function"&&i.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var c=i.latlng,m,x;this._tooltip.options.sticky&&i.originalEvent&&(m=this._map.mouseEventToContainerPoint(i.originalEvent),x=this._map.containerPointToLayerPoint(m),c=this._map.layerPointToLatLng(x)),this._tooltip.setLatLng(c)}});var Ha=Di.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var c=i&&i.tagName==="DIV"?i:document.createElement("div"),m=this.options;if(m.html instanceof Element?(Ca(c),c.appendChild(m.html)):c.innerHTML=m.html!==!1?m.html:"",m.bgPos){var x=X(m.bgPos);c.style.backgroundPosition=-x.x+"px "+-x.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function kd(i){return new Ha(i)}Di.Default=bs;var ai=Xn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ee.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){C(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),Pt(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ms(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(kr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof $?i:new $(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var c=this.getPane().children,m=-i(-1/0,1/0),x=0,P=c.length,E;x<P;x++)E=c[x].style.zIndex,c[x]!==this._container&&E&&(m=i(m,+E));isFinite(m)&&(this.options.zIndex=m+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ee.ielt9){pn(this._container,this.options.opacity);var i=+new Date,c=!1,m=!1;for(var x in this._tiles){var P=this._tiles[x];if(!(!P.current||!P.loaded)){var E=Math.min(1,(i-P.loaded)/200);pn(P.el,E),E<1?c=!0:(P.active?m=!0:this._onOpaqueTile(P),P.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),c&&(le(this._fadeFrame),this._fadeFrame=_e(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=Ge("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,c=this.options.maxZoom;if(i!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===i?(this._levels[m].el.style.zIndex=c-Math.abs(i-m),this._onUpdateLevel(m)):(Pt(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var x=this._levels[i],P=this._map;return x||(x=this._levels[i]={},x.el=Ge("div","leaflet-tile-container leaflet-zoom-animated",this._container),x.el.style.zIndex=c,x.origin=P.project(P.unproject(P.getPixelOrigin()),i).round(),x.zoom=i,this._setZoomTransform(x,P.getCenter(),P.getZoom()),w(x.el.offsetWidth),this._onCreateLevel(x)),this._level=x,x}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var i,c,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)c=this._tiles[i],c.retain=c.current;for(i in this._tiles)if(c=this._tiles[i],c.current&&!c.active){var x=c.coords;this._retainParent(x.x,x.y,x.z,x.z-5)||this._retainChildren(x.x,x.y,x.z,x.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var c in this._tiles)this._tiles[c].coords.z===i&&this._removeTile(c)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)Pt(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,c,m,x){var P=Math.floor(i/2),E=Math.floor(c/2),F=m-1,W=new $(+P,+E);W.z=+F;var G=this._tileCoordsToKey(W),ee=this._tiles[G];return ee&&ee.active?(ee.retain=!0,!0):(ee&&ee.loaded&&(ee.retain=!0),F>x?this._retainParent(P,E,F,x):!1)},_retainChildren:function(i,c,m,x){for(var P=2*i;P<2*i+2;P++)for(var E=2*c;E<2*c+2;E++){var F=new $(P,E);F.z=m+1;var W=this._tileCoordsToKey(F),G=this._tiles[W];if(G&&G.active){G.retain=!0;continue}else G&&G.loaded&&(G.retain=!0);m+1<x&&this._retainChildren(P,E,m+1,x)}},_resetView:function(i){var c=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var c=this.options;return c.minNativeZoom!==void 0&&i<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<i?c.maxNativeZoom:i},_setView:function(i,c,m,x){var P=Math.round(c);this.options.maxZoom!==void 0&&P>this.options.maxZoom||this.options.minZoom!==void 0&&P<this.options.minZoom?P=void 0:P=this._clampZoom(P);var E=this.options.updateWhenZooming&&P!==this._tileZoom;(!x||E)&&(this._tileZoom=P,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),P!==void 0&&this._update(i),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(i,c)},_setZoomTransforms:function(i,c){for(var m in this._levels)this._setZoomTransform(this._levels[m],i,c)},_setZoomTransform:function(i,c,m){var x=this._map.getZoomScale(m,i.zoom),P=i.origin.multiplyBy(x).subtract(this._map._getNewPixelOrigin(c,m)).round();Ee.any3d?qn(i.el,P,x):Ft(i.el,P)},_resetGrid:function(){var i=this._map,c=i.options.crs,m=this._tileSize=this.getTileSize(),x=this._tileZoom,P=this._map.getPixelWorldBounds(this._tileZoom);P&&(this._globalTileRange=this._pxBoundsToTileRange(P)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,c.wrapLng[0]],x).x/m.x),Math.ceil(i.project([0,c.wrapLng[1]],x).x/m.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([c.wrapLat[0],0],x).y/m.x),Math.ceil(i.project([c.wrapLat[1],0],x).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var c=this._map,m=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),x=c.getZoomScale(m,this._tileZoom),P=c.project(i,this._tileZoom).floor(),E=c.getSize().divideBy(x*2);return new z(P.subtract(E),P.add(E))},_update:function(i){var c=this._map;if(c){var m=this._clampZoom(c.getZoom());if(i===void 0&&(i=c.getCenter()),this._tileZoom!==void 0){var x=this._getTiledPixelBounds(i),P=this._pxBoundsToTileRange(x),E=P.getCenter(),F=[],W=this.options.keepBuffer,G=new z(P.getBottomLeft().subtract([W,-W]),P.getTopRight().add([W,-W]));if(!(isFinite(P.min.x)&&isFinite(P.min.y)&&isFinite(P.max.x)&&isFinite(P.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ee in this._tiles){var xe=this._tiles[ee].coords;(xe.z!==this._tileZoom||!G.contains(new $(xe.x,xe.y)))&&(this._tiles[ee].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(i,m);return}for(var Oe=P.min.y;Oe<=P.max.y;Oe++)for(var Qe=P.min.x;Qe<=P.max.x;Qe++){var Yt=new $(Qe,Oe);if(Yt.z=this._tileZoom,!!this._isValidTile(Yt)){var Ht=this._tiles[this._tileCoordsToKey(Yt)];Ht?Ht.current=!0:F.push(Yt)}}if(F.sort(function(vn,As){return vn.distanceTo(E)-As.distanceTo(E)}),F.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var En=document.createDocumentFragment();for(Qe=0;Qe<F.length;Qe++)this._addTile(F[Qe],En);this._level.el.appendChild(En)}}}},_isValidTile:function(i){var c=this._map.options.crs;if(!c.infinite){var m=this._globalTileRange;if(!c.wrapLng&&(i.x<m.min.x||i.x>m.max.x)||!c.wrapLat&&(i.y<m.min.y||i.y>m.max.y))return!1}if(!this.options.bounds)return!0;var x=this._tileCoordsToBounds(i);return ye(this.options.bounds).overlaps(x)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var c=this._map,m=this.getTileSize(),x=i.scaleBy(m),P=x.add(m),E=c.unproject(x,i.z),F=c.unproject(P,i.z);return[E,F]},_tileCoordsToBounds:function(i){var c=this._tileCoordsToNwSe(i),m=new Ne(c[0],c[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var c=i.split(":"),m=new $(+c[0],+c[1]);return m.z=+c[2],m},_removeTile:function(i){var c=this._tiles[i];c&&(Pt(c.el),delete this._tiles[i],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){He(i,"leaflet-tile");var c=this.getTileSize();i.style.width=c.x+"px",i.style.height=c.y+"px",i.onselectstart=w,i.onmousemove=w,Ee.ielt9&&this.options.opacity<1&&pn(i,this.options.opacity)},_addTile:function(i,c){var m=this._getTilePos(i),x=this._tileCoordsToKey(i),P=this.createTile(this._wrapCoords(i),f(this._tileReady,this,i));this._initTile(P),this.createTile.length<2&&_e(f(this._tileReady,this,i,null,P)),Ft(P,m),this._tiles[x]={el:P,coords:i,current:!0},c.appendChild(P),this.fire("tileloadstart",{tile:P,coords:i})},_tileReady:function(i,c,m){c&&this.fire("tileerror",{error:c,tile:m,coords:i});var x=this._tileCoordsToKey(i);m=this._tiles[x],m&&(m.loaded=+new Date,this._map._fadeAnimated?(pn(m.el,0),le(this._fadeFrame),this._fadeFrame=_e(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),c||(He(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ee.ielt9||!this._map._fadeAnimated?_e(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var c=new $(this._wrapX?y(i.x,this._wrapX):i.x,this._wrapY?y(i.y,this._wrapY):i.y);return c.z=i.z,c},_pxBoundsToTileRange:function(i){var c=this.getTileSize();return new z(i.min.unscaleBy(c).floor(),i.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function js(i){return new ai(i)}var li=ai.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,c){this._url=i,c=C(this,c),c.detectRetina&&Ee.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,c){return this._url===i&&c===void 0&&(c=!0),this._url=i,c||this.redraw(),this},createTile:function(i,c){var m=document.createElement("img");return Ue(m,"load",f(this._tileOnLoad,this,c,m)),Ue(m,"error",f(this._tileOnError,this,c,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(i),m},getTileUrl:function(i){var c={r:Ee.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-i.y;this.options.tms&&(c.y=m),c["-y"]=m}return R(this._url,a(c,this.options))},_tileOnLoad:function(i,c){Ee.ielt9?setTimeout(f(i,this,null,c),0):i(null,c)},_tileOnError:function(i,c,m){var x=this.options.errorTileUrl;x&&c.getAttribute("src")!==x&&(c.src=x),i(m,c)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,c=this.options.maxZoom,m=this.options.zoomReverse,x=this.options.zoomOffset;return m&&(i=c-i),i+x},_getSubdomain:function(i){var c=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var i,c;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(c=this._tiles[i].el,c.onload=w,c.onerror=w,!c.complete)){c.src=V;var m=this._tiles[i].coords;Pt(c),delete this._tiles[i],this.fire("tileabort",{tile:c,coords:m})}},_removeTile:function(i){var c=this._tiles[i];if(c)return c.el.setAttribute("src",V),ai.prototype._removeTile.call(this,i)},_tileReady:function(i,c,m){if(!(!this._map||m&&m.getAttribute("src")===V))return ai.prototype._tileReady.call(this,i,c,m)}});function Mc(i,c){return new li(i,c)}var Do=li.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,c){this._url=i;var m=a({},this.defaultWmsParams);for(var x in c)x in this.options||(m[x]=c[x]);c=C(this,c);var P=c.detectRetina&&Ee.retina?2:1,E=this.getTileSize();m.width=E.x*P,m.height=E.y*P,this.wmsParams=m},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,li.prototype.onAdd.call(this,i)},getTileUrl:function(i){var c=this._tileCoordsToNwSe(i),m=this._crs,x=Y(m.project(c[0]),m.project(c[1])),P=x.min,E=x.max,F=(this._wmsVersion>=1.3&&this._crs===bd?[P.y,P.x,E.y,E.x]:[P.x,P.y,E.x,E.y]).join(","),W=li.prototype.getTileUrl.call(this,i);return W+j(this.wmsParams,W,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+F},setParams:function(i,c){return a(this.wmsParams,i),c||this.redraw(),this}});function Ed(i,c){return new Do(i,c)}li.WMS=Do,Mc.wms=Ed;var gr=Xn.extend({options:{padding:.1},initialize:function(i){C(this,i),g(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),He(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,c){var m=this._map.getZoomScale(c,this._zoom),x=this._map.getSize().multiplyBy(.5+this.options.padding),P=this._map.project(this._center,c),E=x.multiplyBy(-m).add(P).subtract(this._map._getNewPixelOrigin(i,c));Ee.any3d?qn(this._container,E,m):Ft(this._container,E)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,c=this._map.getSize(),m=this._map.containerPointToLayerPoint(c.multiplyBy(-i)).round();this._bounds=new z(m,m.add(c.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Rc=gr.extend({options:{tolerance:0},getEvents:function(){var i=gr.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){gr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");Ue(i,"mousemove",this._onMouseMove,this),Ue(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ue(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){le(this._redrawRequest),delete this._ctx,Pt(this._container),yt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var c in this._layers)i=this._layers[c],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){gr.prototype._update.call(this);var i=this._bounds,c=this._container,m=i.getSize(),x=Ee.retina?2:1;Ft(c,i.min),c.width=x*m.x,c.height=x*m.y,c.style.width=m.x+"px",c.style.height=m.y+"px",Ee.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){gr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[g(i)]=i;var c=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var c=i._order,m=c.next,x=c.prev;m?m.prev=x:this._drawLast=x,x?x.next=m:this._drawFirst=m,delete i._order,delete this._layers[g(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var c=i.options.dashArray.split(/[, ]+/),m=[],x,P;for(P=0;P<c.length;P++){if(x=Number(c[P]),isNaN(x))return;m.push(x)}i.options._dashArray=m}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||_e(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var c=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new z,this._redrawBounds.extend(i._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(i._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var c=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,c=this._redrawBounds;if(this._ctx.save(),c){var m=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var x=this._drawFirst;x;x=x.next)i=x.layer,(!c||i._pxBounds&&i._pxBounds.intersects(c))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,c){if(this._drawing){var m,x,P,E,F=i._parts,W=F.length,G=this._ctx;if(W){for(G.beginPath(),m=0;m<W;m++){for(x=0,P=F[m].length;x<P;x++)E=F[m][x],G[x?"lineTo":"moveTo"](E.x,E.y);c&&G.closePath()}this._fillStroke(G,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var c=i._point,m=this._ctx,x=Math.max(Math.round(i._radius),1),P=(Math.max(Math.round(i._radiusY),1)||x)/x;P!==1&&(m.save(),m.scale(1,P)),m.beginPath(),m.arc(c.x,c.y/P,x,0,Math.PI*2,!1),P!==1&&m.restore(),this._fillStroke(m,i)}},_fillStroke:function(i,c){var m=c.options;m.fill&&(i.globalAlpha=m.fillOpacity,i.fillStyle=m.fillColor||m.color,i.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(i.setLineDash&&i.setLineDash(c.options&&c.options._dashArray||[]),i.globalAlpha=m.opacity,i.lineWidth=m.weight,i.strokeStyle=m.color,i.lineCap=m.lineCap,i.lineJoin=m.lineJoin,i.stroke())},_onClick:function(i){for(var c=this._map.mouseEventToLayerPoint(i),m,x,P=this._drawFirst;P;P=P.next)m=P.layer,m.options.interactive&&m._containsPoint(c)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(m))&&(x=m);this._fireEvent(x?[x]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,c)}},_handleMouseOut:function(i){var c=this._hoveredLayer;c&&(wt(this._container,"leaflet-interactive"),this._fireEvent([c],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,c){if(!this._mouseHoverThrottled){for(var m,x,P=this._drawFirst;P;P=P.next)m=P.layer,m.options.interactive&&m._containsPoint(c)&&(x=m);x!==this._hoveredLayer&&(this._handleMouseOut(i),x&&(He(this._container,"leaflet-interactive"),this._fireEvent([x],i,"mouseover"),this._hoveredLayer=x)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,c,m){this._map._fireDOMEvent(c,m||c.type,i)},_bringToFront:function(i){var c=i._order;if(c){var m=c.next,x=c.prev;if(m)m.prev=x;else return;x?x.next=m:m&&(this._drawFirst=m),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(i)}},_bringToBack:function(i){var c=i._order;if(c){var m=c.next,x=c.prev;if(x)x.next=m;else return;m?m.prev=x:x&&(this._drawLast=x),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(i)}}});function Oc(i){return Ee.canvas?new Rc(i):null}var Ts=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Ad={_initContainer:function(){this._container=Ge("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(gr.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var c=i._container=Ts("shape");He(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",i._path=Ts("path"),c.appendChild(i._path),this._updateStyle(i),this._layers[g(i)]=i},_addPath:function(i){var c=i._container;this._container.appendChild(c),i.options.interactive&&i.addInteractiveTarget(c)},_removePath:function(i){var c=i._container;Pt(c),i.removeInteractiveTarget(c),delete this._layers[g(i)]},_updateStyle:function(i){var c=i._stroke,m=i._fill,x=i.options,P=i._container;P.stroked=!!x.stroke,P.filled=!!x.fill,x.stroke?(c||(c=i._stroke=Ts("stroke")),P.appendChild(c),c.weight=x.weight+"px",c.color=x.color,c.opacity=x.opacity,x.dashArray?c.dashStyle=D(x.dashArray)?x.dashArray.join(" "):x.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=x.lineCap.replace("butt","flat"),c.joinstyle=x.lineJoin):c&&(P.removeChild(c),i._stroke=null),x.fill?(m||(m=i._fill=Ts("fill")),P.appendChild(m),m.color=x.fillColor||x.color,m.opacity=x.fillOpacity):m&&(P.removeChild(m),i._fill=null)},_updateCircle:function(i){var c=i._point.round(),m=Math.round(i._radius),x=Math.round(i._radiusY||m);this._setPath(i,i._empty()?"M0 0":"AL "+c.x+","+c.y+" "+m+","+x+" 0,"+65535*360)},_setPath:function(i,c){i._path.v=c},_bringToFront:function(i){ms(i._container)},_bringToBack:function(i){kr(i._container)}},Jn=Ee.vml?Ts:Zn,Fi=gr.extend({_initContainer:function(){this._container=Jn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Jn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Pt(this._container),yt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){gr.prototype._update.call(this);var i=this._bounds,c=i.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,m.setAttribute("width",c.x),m.setAttribute("height",c.y)),Ft(m,i.min),m.setAttribute("viewBox",[i.min.x,i.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(i){var c=i._path=Jn("path");i.options.className&&He(c,i.options.className),i.options.interactive&&He(c,"leaflet-interactive"),this._updateStyle(i),this._layers[g(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){Pt(i._path),i.removeInteractiveTarget(i._path),delete this._layers[g(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var c=i._path,m=i.options;c&&(m.stroke?(c.setAttribute("stroke",m.color),c.setAttribute("stroke-opacity",m.opacity),c.setAttribute("stroke-width",m.weight),c.setAttribute("stroke-linecap",m.lineCap),c.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?c.setAttribute("stroke-dasharray",m.dashArray):c.removeAttribute("stroke-dasharray"),m.dashOffset?c.setAttribute("stroke-dashoffset",m.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),m.fill?(c.setAttribute("fill",m.fillColor||m.color),c.setAttribute("fill-opacity",m.fillOpacity),c.setAttribute("fill-rule",m.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(i,c){this._setPath(i,Tr(i._parts,c))},_updateCircle:function(i){var c=i._point,m=Math.max(Math.round(i._radius),1),x=Math.max(Math.round(i._radiusY),1)||m,P="a"+m+","+x+" 0 1,0 ",E=i._empty()?"M0 0":"M"+(c.x-m)+","+c.y+P+m*2+",0 "+P+-m*2+",0 ";this._setPath(i,E)},_setPath:function(i,c){i._path.setAttribute("d",c)},_bringToFront:function(i){ms(i._path)},_bringToBack:function(i){kr(i._path)}});Ee.vml&&Fi.include(Ad);function qa(i){return Ee.svg||Ee.vml?new Fi(i):null}st.include({getRenderer:function(i){var c=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var c=this._paneRenderers[i];return c===void 0&&(c=this._createRenderer({pane:i}),this._paneRenderers[i]=c),c},_createRenderer:function(i){return this.options.preferCanvas&&Oc(i)||qa(i)}});var Ld=Rr.extend({initialize:function(i,c){Rr.prototype.initialize.call(this,this._boundsToLatLngs(i),c)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=ye(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function vm(i,c){return new Ld(i,c)}Fi.create=Jn,Fi.pointsToPath=Tr,mr.geometryToLayer=Ss,mr.coordsToLatLng=Va,mr.coordsToLatLngs=Oo,mr.latLngToCoords=Ua,mr.latLngsToCoords=$a,mr.getFeature=Ps,mr.asFeature=Za,st.mergeOptions({boxZoom:!0});var ks=On.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){Ue(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){yt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Pt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ct(),ka(),this._startPoint=this._map.mouseEventToContainerPoint(i),Ue(document,{contextmenu:Gn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=Ge("div","leaflet-zoom-box",this._container),He(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var c=new z(this._point,this._startPoint),m=c.getSize();Ft(this._box,c.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(Pt(this._box),wt(this._container,"leaflet-crosshair")),vs(),Ea(),yt(document,{contextmenu:Gn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var c=new Ne(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});st.addInitHook("addHandler","boxZoom",ks),st.mergeOptions({doubleClickZoom:!0});var Md=On.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var c=this._map,m=c.getZoom(),x=c.options.zoomDelta,P=i.originalEvent.shiftKey?m-x:m+x;c.options.doubleClickZoom==="center"?c.setZoom(P):c.setZoomAround(i.containerPoint,P)}});st.addInitHook("addHandler","doubleClickZoom",Md),st.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ic=On.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new Qn(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}He(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){wt(this._map._container,"leaflet-grab"),wt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=ye(this._map.options.maxBounds);this._offsetLimit=Y(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var c=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(c),this._prunePositions(c)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,c){return i-(i-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;i.x<c.min.x&&(i.x=this._viscousLimit(i.x,c.min.x)),i.y<c.min.y&&(i.y=this._viscousLimit(i.y,c.min.y)),i.x>c.max.x&&(i.x=this._viscousLimit(i.x,c.max.x)),i.y>c.max.y&&(i.y=this._viscousLimit(i.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,c=Math.round(i/2),m=this._initialWorldOffset,x=this._draggable._newPos.x,P=(x-c+m)%i+c-m,E=(x+c+m)%i-c-m,F=Math.abs(P+m)<Math.abs(E+m)?P:E;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=F},_onDragEnd:function(i){var c=this._map,m=c.options,x=!m.inertia||i.noInertia||this._times.length<2;if(c.fire("dragend",i),x)c.fire("moveend");else{this._prunePositions(+new Date);var P=this._lastPos.subtract(this._positions[0]),E=(this._lastTime-this._times[0])/1e3,F=m.easeLinearity,W=P.multiplyBy(F/E),G=W.distanceTo([0,0]),ee=Math.min(m.inertiaMaxSpeed,G),xe=W.multiplyBy(ee/G),Oe=ee/(m.inertiaDeceleration*F),Qe=xe.multiplyBy(-Oe/2).round();!Qe.x&&!Qe.y?c.fire("moveend"):(Qe=c._limitOffset(Qe,c.options.maxBounds),_e(function(){c.panBy(Qe,{duration:Oe,easeLinearity:F,noMoveStart:!0,animate:!0})}))}}});st.addInitHook("addHandler","dragging",Ic),st.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Dc=On.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),Ue(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),yt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,c=document.documentElement,m=i.scrollTop||c.scrollTop,x=i.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(x,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var c=this._panKeys={},m=this.keyCodes,x,P;for(x=0,P=m.left.length;x<P;x++)c[m.left[x]]=[-1*i,0];for(x=0,P=m.right.length;x<P;x++)c[m.right[x]]=[i,0];for(x=0,P=m.down.length;x<P;x++)c[m.down[x]]=[0,i];for(x=0,P=m.up.length;x<P;x++)c[m.up[x]]=[0,-1*i]},_setZoomDelta:function(i){var c=this._zoomKeys={},m=this.keyCodes,x,P;for(x=0,P=m.zoomIn.length;x<P;x++)c[m.zoomIn[x]]=i;for(x=0,P=m.zoomOut.length;x<P;x++)c[m.zoomOut[x]]=-i},_addHooks:function(){Ue(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){yt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var c=i.keyCode,m=this._map,x;if(c in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(x=this._panKeys[c],i.shiftKey&&(x=X(x).multiplyBy(3)),m.options.maxBounds&&(x=m._limitOffset(X(x),m.options.maxBounds)),m.options.worldCopyJump){var P=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(x)));m.panTo(P)}else m.panBy(x)}else if(c in this._zoomKeys)m.setZoom(m.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;Gn(i)}}});st.addInitHook("addHandler","keyboard",Dc),st.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var xt=On.extend({addHooks:function(){Ue(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){yt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var c=md(i),m=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var x=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),x),Gn(i)},_performZoom:function(){var i=this._map,c=i.getZoom(),m=this._map.options.zoomSnap||0;i._stop();var x=this._delta/(this._map.options.wheelPxPerZoomLevel*4),P=4*Math.log(2/(1+Math.exp(-Math.abs(x))))/Math.LN2,E=m?Math.ceil(P/m)*m:P,F=i._limitZoom(c+(this._delta>0?E:-E))-c;this._delta=0,this._startTime=null,F&&(i.options.scrollWheelZoom==="center"?i.setZoom(c+F):i.setZoomAround(this._lastMousePos,c+F))}});st.addInitHook("addHandler","scrollWheelZoom",xt);var Fc=600;st.mergeOptions({tapHold:Ee.touchNative&&Ee.safari&&Ee.mobile,tapTolerance:15});var Fo=On.extend({addHooks:function(){Ue(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){yt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var c=i.touches[0];this._startPos=this._newPos=new $(c.clientX,c.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(Ue(document,"touchend",Lt),Ue(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),Fc),Ue(document,"touchend touchcancel contextmenu",this._cancel,this),Ue(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){yt(document,"touchend",Lt),yt(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),yt(document,"touchend touchcancel contextmenu",this._cancel,this),yt(document,"touchmove",this._onMove,this)},_onMove:function(i){var c=i.touches[0];this._newPos=new $(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,c){var m=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});m._simulated=!0,c.target.dispatchEvent(m)}});st.addInitHook("addHandler","tapHold",Fo),st.mergeOptions({touchZoom:Ee.touch,bounceAtZoomLimits:!0});var Es=On.extend({addHooks:function(){He(this._map._container,"leaflet-touch-zoom"),Ue(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){wt(this._map._container,"leaflet-touch-zoom"),yt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var c=this._map;if(!(!i.touches||i.touches.length!==2||c._animatingZoom||this._zooming)){var m=c.mouseEventToContainerPoint(i.touches[0]),x=c.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(m.add(x)._divideBy(2))),this._startDist=m.distanceTo(x),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),Ue(document,"touchmove",this._onTouchMove,this),Ue(document,"touchend touchcancel",this._onTouchEnd,this),Lt(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var c=this._map,m=c.mouseEventToContainerPoint(i.touches[0]),x=c.mouseEventToContainerPoint(i.touches[1]),P=m.distanceTo(x)/this._startDist;if(this._zoom=c.getScaleZoom(P,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&P<1||this._zoom>c.getMaxZoom()&&P>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,P===1)return}else{var E=m._add(x)._divideBy(2)._subtract(this._centerPoint);if(P===1&&E.x===0&&E.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(E),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),le(this._animRequest);var F=f(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=_e(F,this,!0),Lt(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,le(this._animRequest),yt(document,"touchmove",this._onTouchMove,this),yt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});st.addInitHook("addHandler","touchZoom",Es),st.BoxZoom=ks,st.DoubleClickZoom=Md,st.Drag=Ic,st.Keyboard=Dc,st.ScrollWheelZoom=xt,st.TapHold=Fo,st.TouchZoom=Es,n.Bounds=z,n.Browser=Ee,n.CRS=fe,n.Canvas=Rc,n.Circle=za,n.CircleMarker=Fa,n.Class=te,n.Control=Tn,n.DivIcon=Ha,n.DivOverlay=pr,n.DomEvent=Ma,n.DomUtil=ko,n.Draggable=Qn,n.Evented=ce,n.FeatureGroup=Lr,n.GeoJSON=mr,n.GridLayer=ai,n.Handler=On,n.Icon=Di,n.ImageOverlay=oi,n.LatLng=we,n.LatLngBounds=Ne,n.Layer=Xn,n.LayerGroup=ii,n.LineUtil=wd,n.Map=st,n.Marker=Mr,n.Mixin=wc,n.Path=si,n.Point=$,n.PolyUtil=om,n.Polygon=Rr,n.Polyline=kn,n.Popup=Wa,n.PosAnimation=Ra,n.Projection=dm,n.Rectangle=Ld,n.Renderer=gr,n.SVG=Fi,n.SVGOverlay=Ac,n.TileLayer=li,n.Tooltip=Cs,n.Transformation=Je,n.Util=Re,n.VideoOverlay=Ec,n.bind=f,n.bounds=Y,n.canvas=Oc,n.circle=Ro,n.circleMarker=Nd,n.control=ri,n.divIcon=kd,n.extend=a,n.featureGroup=Sd,n.geoJSON=Cd,n.geoJson=Yn,n.gridLayer=js,n.icon=Pd,n.imageOverlay=jd,n.latLng=pe,n.latLngBounds=ye,n.layerGroup=Mo,n.map=ni,n.marker=mm,n.point=X,n.polygon=gm,n.polyline=pm,n.popup=Ns,n.rectangle=vm,n.setOptions=C,n.stamp=g,n.svg=qa,n.svgOverlay=Lc,n.tileLayer=Mc,n.tooltip=Io,n.transformation=lt,n.version=s,n.videoOverlay=Td;var Rd=window.L;n.noConflict=function(){return window.L=Rd,this},window.L=n}))})(uu,uu.exports)),uu.exports}var Qu=cz();const Sy=rv(Qu);function Py(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function Ny(e,t){return t==null?function(s,a){const u=S.useRef();return u.current||(u.current=e(s,a)),u}:function(s,a){const u=S.useRef();u.current||(u.current=e(s,a));const f=S.useRef(s),{instance:h}=u.current;return S.useEffect(function(){f.current!==s&&(t(h,s,f.current),f.current=s)},[h,s,a]),u}}function uz(e,t){S.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function EN(e){return function(n){const s=wy(),a=e(by(n,s),s);return CN(s.map,n.attribution),kN(a.current,n.eventHandlers),uz(a.current,s),a}}function dz(e,t){const n=Ny(e,t),s=EN(n);return iz(s)}function fz(e,t){const n=Ny(e),s=az(n,t);return sz(s)}function hz(e,t){const n=Ny(e,t),s=EN(n);return oz(s)}function mz(e,t,n){const{opacity:s,zIndex:a}=t;s!=null&&s!==n.opacity&&e.setOpacity(s),a!=null&&a!==n.zIndex&&e.setZIndex(a)}function pz(){return wy().map}function gz(e){const t=pz();return S.useEffect(function(){return t.on(e),function(){t.off(e)}},[t,e]),t}function Qg(){return Qg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Qg.apply(this,arguments)}function vz({bounds:e,boundsOptions:t,center:n,children:s,className:a,id:u,placeholder:f,style:h,whenReady:g,zoom:v,...y},w){const[N]=S.useState({className:a,id:u,style:h}),[T,A]=S.useState(null);S.useImperativeHandle(w,()=>T?.map??null,[T]);const C=S.useCallback(M=>{if(M!==null&&T===null){const R=new Qu.Map(M,y);n!=null&&v!=null?R.setView(n,v):e!=null&&R.fitBounds(e,t),g!=null&&R.whenReady(g),A(nz(R))}},[]);S.useEffect(()=>()=>{T?.map.remove()},[T]);const j=T?on.createElement(TN,{value:T},s):f??null;return on.createElement("div",Qg({},N,{ref:C}),j)}const Cy=S.forwardRef(vz),jy=dz(function({position:t,...n},s){const a=new Qu.Marker(t,n);return Py(a,rz(s,{overlayContainer:a}))},function(t,n,s){n.position!==s.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==s.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==s.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==s.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==s.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),AN=fz(function(t,n){const s=new Qu.Popup(t,n.overlayContainer);return Py(s,n)},function(t,n,{position:s},a){S.useEffect(function(){const{instance:f}=t;function h(v){v.popup===f&&(f.update(),a(!0))}function g(v){v.popup===f&&a(!1)}return n.map.on({popupopen:h,popupclose:g}),n.overlayContainer==null?(s!=null&&f.setLatLng(s),f.openOn(n.map)):n.overlayContainer.bindPopup(f),function(){n.map.off({popupopen:h,popupclose:g}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(f)}},[t,n,a,s])}),Ty=hz(function({url:t,...n},s){const a=new Qu.TileLayer(t,by(n,s));return Py(a,s)},function(t,n,s){mz(t,n,s);const{url:a}=n;a!=null&&a!==s.url&&t.setUrl(a)}),yz=new Sy.Icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});function LN(){const[,e]=Hf("/businesses/:id"),[,t]=Hf("/preview/businesses/:id"),n=e?.id?parseInt(e.id):t?.id?parseInt(t.id):0,{prefixLink:s}=ls(),{data:a,isLoading:u}=FO(n),{data:f}=UO(n),{isFavorite:h,toggleFavorite:g}=xy(),{toast:v}=Rn(),[y,w]=S.useState(!1),[N,T]=S.useState(0),A=async()=>{const q=window.location.href;try{await navigator.clipboard.writeText(q),v({title:" ",description:"   "})}catch{v({title:"",description:"   ",variant:"destructive"})}};if(u)return l.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-background",children:l.jsx(St,{className:"w-10 h-10 animate-spin text-primary"})});if(!a)return l.jsxs("div",{className:"h-screen flex flex-col items-center justify-center gap-4 p-4",children:[l.jsx("h2",{className:"text-xl font-bold",children:"  "}),l.jsx(Ut,{href:s("/"),className:"text-primary hover:underline",children:" "})]});const C=a.storefrontImageUrl||a.imageUrl||`https://placehold.co/800x600/1a1a2e/d4a655?text=${encodeURIComponent(a.name)}`,j=a.galleryImages||[],M=a.latitude&&a.longitude,R=[C,...j].filter(Boolean),D=q=>{T(q),w(!0)},O=()=>w(!1),V=()=>{T(q=>(q+1)%R.length)},Z=()=>{T(q=>(q-1+R.length)%R.length)};return l.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[l.jsxs("div",{className:"relative h-[40vh] w-full cursor-pointer",onClick:()=>D(0),children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background via-transparent to-transparent z-10"}),l.jsx(Ut,{href:s("/"),className:"absolute top-4 right-4 z-20 bg-black/30 backdrop-blur-md p-2 rounded-full text-white hover:bg-black/50 transition-colors","data-testid":"button-back",onClick:q=>q.stopPropagation(),children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M5 12h14"}),l.jsx("path",{d:"m12 5 7 7-7 7"})]})}),R.length>1&&l.jsxs("div",{className:"absolute bottom-4 left-4 z-20 bg-black/50 backdrop-blur-md px-3 py-1.5 rounded-full text-white text-sm flex items-center gap-1.5",children:[l.jsx(yg,{className:"w-4 h-4"}),l.jsxs("span",{children:[R.length," "]})]}),l.jsx("img",{src:C,alt:a.name,className:"w-full h-full object-cover"})]}),l.jsxs("div",{className:"container mx-auto px-4 -mt-10 relative z-20 space-y-6",children:[l.jsxs(sr.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},className:"bg-card rounded-3xl shadow-xl p-6 border border-border/40",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsxs("div",{children:[a.category&&l.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-primary/10 text-primary text-xs font-bold mb-2",children:a.category.name}),l.jsxs("h1",{className:"text-2xl md:text-3xl font-display font-bold flex items-center gap-2",children:[a.name,a.subscriptionTier==="vip"&&l.jsx(vg,{className:"w-6 h-6 text-blue-500 fill-blue-50"})]})]}),l.jsx("div",{className:"flex flex-col items-end",children:l.jsx(qh,{rating:a.averageRating||0,showValue:!0,reviewCount:a.reviewCount})})]}),l.jsxs("div",{className:"flex items-start gap-2 text-muted-foreground mb-4",children:[l.jsx(_i,{className:"w-5 h-5 flex-shrink-0 mt-0.5 text-primary"}),l.jsx("p",{className:"leading-snug",children:a.address||"  "})]}),l.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[a.website&&l.jsxs("a",{href:a.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 px-3 py-1.5 bg-muted rounded-full text-sm hover:bg-muted/80 transition-colors","data-testid":"link-website",children:[l.jsx(m1,{className:"w-4 h-4 text-primary"}),l.jsx("span",{children:""})]}),a.instagram&&l.jsxs("a",{href:a.instagram.startsWith("http")?a.instagram:`https://instagram.com/${a.instagram}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 px-3 py-1.5 bg-muted rounded-full text-sm hover:bg-muted/80 transition-colors","data-testid":"link-instagram",children:[l.jsx(jE,{className:"w-4 h-4 text-pink-500"}),l.jsx("span",{children:""})]}),a.facebook&&l.jsxs("a",{href:a.facebook.startsWith("http")?a.facebook:`https://facebook.com/${a.facebook}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 px-3 py-1.5 bg-muted rounded-full text-sm hover:bg-muted/80 transition-colors","data-testid":"link-facebook",children:[l.jsx(PE,{className:"w-4 h-4 text-blue-600"}),l.jsx("span",{children:""})]}),a.tiktok&&l.jsxs("a",{href:a.tiktok.startsWith("http")?a.tiktok:`https://tiktok.com/@${a.tiktok}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 px-3 py-1.5 bg-muted rounded-full text-sm hover:bg-muted/80 transition-colors","data-testid":"link-tiktok",children:[l.jsx(ez,{className:"w-4 h-4"}),l.jsx("span",{children:" "})]}),l.jsxs("button",{onClick:A,className:"flex items-center gap-1 px-3 py-1.5 bg-muted rounded-full text-sm hover:bg-muted/80 transition-colors","data-testid":"button-copy-link",children:[l.jsx(bE,{className:"w-4 h-4 text-primary"}),l.jsx("span",{children:" "})]}),l.jsxs("button",{onClick:()=>g(n),className:`flex items-center gap-1 px-3 py-1.5 rounded-full text-sm transition-colors ${h(n)?"bg-red-100 dark:bg-red-900/30":"bg-muted hover:bg-muted/80"}`,"data-testid":"button-favorite-detail",children:[l.jsx(Al,{className:`w-4 h-4 ${h(n)?"fill-red-500 text-red-500":"text-muted-foreground"}`}),l.jsx("span",{children:h(n)?" ":" "})]})]}),l.jsxs("div",{className:"space-y-3 pt-4 border-t border-border/50",children:[l.jsxs("h3",{className:"font-bold text-lg",children:[" ",a.name]}),l.jsx("p",{className:"text-muted-foreground leading-relaxed",children:a.description||"      ."})]}),a.services&&a.services.length>0&&l.jsxs("div",{className:"mt-6 pt-4 border-t border-border/50",children:[l.jsx("h3",{className:"font-bold text-lg mb-3",children:""}),l.jsx("div",{className:"flex flex-wrap gap-2",children:a.services.map((q,J)=>l.jsxs("span",{className:"flex items-center gap-1 px-3 py-1.5 bg-primary/10 text-primary rounded-full text-sm",children:[l.jsx(_E,{className:"w-3 h-3"}),q]},J))})]})]}),j.length>0&&l.jsxs(sr.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},className:"bg-card rounded-3xl shadow-xl p-6 border border-border/40",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(yg,{className:"w-5 h-5 text-primary"}),l.jsx("h3",{className:"font-bold text-lg",children:" "})]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:j.map((q,J)=>l.jsx("div",{className:"relative aspect-square rounded-xl overflow-hidden cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>D(J+1),"data-testid":`gallery-image-${J}`,children:l.jsx("img",{src:q,alt:` ${J+1}`,className:"w-full h-full object-cover"})},J))})]}),f&&f.length>0&&l.jsxs(sr.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},className:"bg-card rounded-3xl shadow-xl p-6 border border-border/40",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(Xs,{className:"w-5 h-5 text-primary"}),l.jsx("h3",{className:"font-bold text-lg",children:" "})]}),l.jsx("div",{className:"space-y-3",children:f.map((q,J)=>l.jsx(_y,{offer:q,index:J,showBusiness:!1},q.id))})]}),M&&l.jsxs(sr.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"bg-card rounded-3xl shadow-xl p-6 border border-border/40",children:[l.jsx("h3",{className:"font-bold text-lg mb-4",children:"  "}),l.jsx("div",{className:"w-full h-64 rounded-2xl overflow-hidden border border-border",children:l.jsxs(Cy,{center:[a.latitude,a.longitude],zoom:15,style:{height:"100%",width:"100%"},scrollWheelZoom:!1,children:[l.jsx(Ty,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),l.jsx(jy,{position:[a.latitude,a.longitude],icon:yz,children:l.jsx(AN,{children:a.name})})]})})]}),l.jsxs(sr.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"bg-card rounded-3xl shadow-xl p-6 border border-border/40",children:[l.jsx("h3",{className:"font-bold text-lg mb-4",children:" "}),l.jsx(WF,{businessId:n}),l.jsx("div",{className:"mt-6 pt-4 border-t border-border/50",children:l.jsx(ZF,{businessId:n})})]})]}),l.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-card/95 backdrop-blur-lg border-t border-border z-30",children:l.jsxs("div",{className:"container mx-auto flex gap-3",children:[a.phone&&l.jsxs("button",{onClick:()=>{window.location.href=`tel:${a.phone}`},className:"flex-1 bg-primary hover:bg-primary/90 text-primary-foreground font-bold py-3.5 px-4 rounded-xl flex items-center justify-center gap-2 transition-transform active:scale-95 shadow-lg shadow-primary/25","data-testid":"button-call",children:[l.jsx(vv,{className:"w-5 h-5"}),l.jsx("span",{children:""})]}),a.whatsapp&&l.jsxs("a",{href:`https://wa.me/${a.whatsapp}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-[#25D366] hover:bg-[#20bd5a] text-white font-bold py-3.5 px-4 rounded-xl flex items-center justify-center gap-2 transition-transform active:scale-95 shadow-lg shadow-[#25D366]/25","data-testid":"button-whatsapp",children:[l.jsx(Eh,{className:"w-5 h-5"}),l.jsx("span",{children:""})]}),M&&l.jsx("a",{href:`https://www.google.com/maps/dir/?api=1&destination=${a.latitude},${a.longitude}`,target:"_blank",rel:"noopener noreferrer",className:"bg-blue-500 hover:bg-blue-600 text-white p-3.5 rounded-xl transition-colors shadow-lg shadow-blue-500/25","data-testid":"button-directions",children:l.jsx(Xf,{className:"w-5 h-5"})}),l.jsx("button",{onClick:async()=>{if(navigator.share)try{await navigator.share({title:a.name,text:a.description||"",url:window.location.href})}catch{}else try{await navigator.clipboard.writeText(window.location.href),v({title:" ",description:"   "})}catch{v({title:"",description:"   ",variant:"destructive"})}},className:"bg-muted hover:bg-muted/80 text-foreground p-3.5 rounded-xl transition-colors","data-testid":"button-share",children:l.jsx(OE,{className:"w-5 h-5"})})]})}),y&&l.jsxs("div",{className:"fixed inset-0 bg-black/95 z-50 flex items-center justify-center",onClick:O,children:[l.jsx("button",{className:"absolute top-4 right-4 text-white/80 hover:text-white p-2",onClick:O,"data-testid":"button-close-lightbox",children:l.jsx(ma,{className:"w-8 h-8"})}),R.length>1&&l.jsxs(l.Fragment,{children:[l.jsx("button",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-white/80 hover:text-white p-2 bg-black/30 rounded-full",onClick:q=>{q.stopPropagation(),V()},"data-testid":"button-next-image",children:l.jsx(yE,{className:"w-8 h-8"})}),l.jsx("button",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/80 hover:text-white p-2 bg-black/30 rounded-full",onClick:q=>{q.stopPropagation(),Z()},"data-testid":"button-prev-image",children:l.jsx(vE,{className:"w-8 h-8"})})]}),l.jsxs("div",{className:"max-w-4xl max-h-[80vh] p-4",onClick:q=>q.stopPropagation(),children:[l.jsx("img",{src:R[N],alt:` ${N+1}`,className:"max-w-full max-h-[75vh] object-contain rounded-lg"}),l.jsxs("p",{className:"text-center text-white/70 mt-2",children:[N+1," / ",R.length]})]})]})]})}function xz(){const[e,t]=S.useState({latitude:null,longitude:null,error:null,loading:!0,permissionDenied:!1});return S.useEffect(()=>{if(!navigator.geolocation){t(u=>({...u,error:"Geolocation is not supported",loading:!1}));return}const s=u=>{t({latitude:u.coords.latitude,longitude:u.coords.longitude,error:null,loading:!1,permissionDenied:!1})},a=u=>{t(f=>({...f,error:u.message,loading:!1,permissionDenied:u.code===u.PERMISSION_DENIED}))};navigator.geolocation.getCurrentPosition(s,a,{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})},[]),{...e,requestLocation:()=>{t(s=>({...s,loading:!0,error:null})),navigator.geolocation.getCurrentPosition(s=>{t({latitude:s.coords.latitude,longitude:s.coords.longitude,error:null,loading:!1,permissionDenied:!1})},s=>{t(a=>({...a,error:s.message,loading:!1,permissionDenied:s.code===s.PERMISSION_DENIED}))},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})}}}function MN(){const{t:e,language:t}=mo(),[n]=fa(),a=new URLSearchParams(n.split("?")[1]).get("q")||"",[u,f]=S.useState(!1),[h,g]=S.useState(void 0),[v,y]=S.useState(void 0),[w,N]=S.useState(!0),[T,A]=S.useState(!1),[C,j]=S.useState(!1),{latitude:M,longitude:R,loading:D,permissionDenied:O,requestLocation:V}=xz(),{data:Z}=IO(),{data:q,isLoading:J}=zh({search:a,minRating:h,cityId:v,userLat:M,userLng:R,sortByDistance:w}),he=[{value:void 0,label:t==="ar"?"":"All"},{value:4,label:t==="ar"?"4+ ":"4+ Stars"},{value:3,label:t==="ar"?"3+ ":"3+ Stars"},{value:2,label:t==="ar"?"2+ ":"2+ Stars"}],{data:me}=Dv(),_e=()=>{g(void 0),y(void 0),A(!1),j(!1)},le=h!==void 0||v!==void 0||T||C,Re=[h,v,T,C].filter(Boolean).length,te=S.useMemo(()=>{if(!q)return[];let ge=[...q];return T&&(ge=ge.filter(de=>{const ce=Iv(de.workingHoursJson);return ce?OS(ce):!1})),C&&ge.sort((de,ce)=>(ce.averageRating||0)-(de.averageRating||0)),ge},[q,T,C]);return l.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[l.jsx(va,{title:e("search.results"),backHref:"/"}),l.jsxs("main",{className:"container mx-auto px-4 py-6",children:[l.jsx("div",{className:"mb-4",children:l.jsx(mN,{initialValue:a})}),l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsxs(Ze,{variant:u?"default":"outline",size:"sm",onClick:()=>f(!u),className:"gap-1","data-testid":"button-toggle-filters",children:[l.jsx(NE,{className:"w-4 h-4"}),t==="ar"?"":"Filters",le&&l.jsx("span",{className:"w-5 h-5 rounded-full bg-primary-foreground text-primary text-xs flex items-center justify-center",children:Re})]}),le&&l.jsxs(Ze,{variant:"ghost",size:"sm",onClick:_e,className:"gap-1 text-muted-foreground","data-testid":"button-clear-filters",children:[l.jsx(ma,{className:"w-4 h-4"}),t==="ar"?"":"Clear"]})]}),l.jsx(BS,{children:u&&l.jsx(sr.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden mb-4",children:l.jsxs("div",{className:"bg-card rounded-2xl border border-border p-4 space-y-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"text-sm font-medium text-muted-foreground mb-2 flex items-center gap-1",children:[l.jsx(Xf,{className:"w-4 h-4 text-primary"}),t==="ar"?"  ":"Sort by Location"]}),l.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:M&&R?l.jsx("button",{onClick:()=>N(!w),className:`px-3 py-1.5 rounded-full text-sm transition-colors ${w?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"}`,"data-testid":"filter-sort-distance",children:t==="ar"?" ":"Nearest First"}):O?l.jsx("span",{className:"text-xs text-muted-foreground",children:t==="ar"?"   ":"Location access denied"}):D?l.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[l.jsx(St,{className:"w-3 h-3 animate-spin"}),t==="ar"?"  ...":"Getting location..."]}):l.jsx("button",{onClick:V,className:"px-3 py-1.5 rounded-full text-sm bg-muted text-muted-foreground hover:bg-muted/80","data-testid":"button-enable-location",children:t==="ar"?" ":"Enable Location"})})]}),Z&&Z.length>0&&l.jsxs("div",{children:[l.jsxs("label",{className:"text-sm font-medium text-muted-foreground mb-2 flex items-center gap-1",children:[l.jsx(_i,{className:"w-4 h-4 text-primary"}),e("city.selectCity")]}),l.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[l.jsx("button",{onClick:()=>y(void 0),className:`px-3 py-1.5 rounded-full text-sm transition-colors ${v===void 0?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"}`,"data-testid":"filter-city-all",children:e("city.allCities")}),Z.map(ge=>l.jsx("button",{onClick:()=>y(ge.id),className:`px-3 py-1.5 rounded-full text-sm transition-colors ${v===ge.id?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"}`,"data-testid":`filter-city-${ge.id}`,children:t==="ar"?ge.name:ge.nameEn},ge.id))]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"text-sm font-medium text-muted-foreground mb-2 flex items-center gap-1",children:[l.jsx(ts,{className:"w-4 h-4 text-primary"}),e("search.minRating")]}),l.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:he.map(ge=>l.jsx("button",{onClick:()=>g(ge.value),className:`px-3 py-1.5 rounded-full text-sm transition-colors ${h===ge.value?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"}`,"data-testid":`filter-rating-${ge.value??"all"}`,children:ge.label},ge.label))})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"text-sm font-medium text-muted-foreground mb-2 flex items-center gap-1",children:[l.jsx(Qs,{className:"w-4 h-4 text-primary"}),t==="ar"?" ":"Additional Options"]}),l.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[l.jsxs("button",{onClick:()=>A(!T),className:`px-3 py-1.5 rounded-full text-sm transition-colors flex items-center gap-1 ${T?"bg-green-500 text-white":"bg-muted text-muted-foreground hover:bg-muted/80"}`,"data-testid":"filter-open-now",children:[l.jsx(Qs,{className:"w-3 h-3"}),t==="ar"?" ":"Open Now"]}),l.jsxs("button",{onClick:()=>j(!C),className:`px-3 py-1.5 rounded-full text-sm transition-colors flex items-center gap-1 ${C?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"}`,"data-testid":"filter-sort-rating",children:[l.jsx(yv,{className:"w-3 h-3"}),t==="ar"?" ":"Highest Rated"]})]})]})]})})}),J?l.jsx("div",{className:"flex justify-center pt-20",children:l.jsx(St,{className:"w-8 h-8 animate-spin text-primary"})}):te&&te.length>0?l.jsxs("div",{className:"space-y-4",children:[l.jsx("h2",{className:"text-sm font-medium text-muted-foreground mb-2",children:t==="ar"?` ${te.length}  ${a?` "${a}"`:""}`:`Found ${te.length} result${te.length>1?"s":""} ${a?`for "${a}"`:""}`}),te.map((ge,de)=>l.jsx(Hh,{business:ge,layout:"list",index:de},ge.id))]}):l.jsxs("div",{className:"flex flex-col items-center justify-center pt-20 text-center text-muted-foreground",children:[l.jsx(g1,{className:"w-16 h-16 mb-4 opacity-20"}),l.jsx("h3",{className:"text-lg font-bold mb-2",children:e("search.noResults")}),l.jsx("p",{children:t==="ar"?"       .":"We couldn't find any results for your search."}),l.jsx("p",{className:"text-sm mt-1 mb-4",children:t==="ar"?"       .":"Try different keywords or change the filters."}),me&&me.length>0&&l.jsxs("div",{className:"mt-6 w-full max-w-md",children:[l.jsx("p",{className:"text-sm font-medium mb-3",children:t==="ar"?" :":"Browse categories:"}),l.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:me.slice(0,6).map(ge=>l.jsx(Ut,{href:`/categories/${ge.id}`,className:"px-3 py-1.5 rounded-full bg-muted text-sm hover:bg-primary hover:text-primary-foreground transition-colors","data-testid":`suggestion-category-${ge.id}`,children:ge.name},ge.id))})]})]})]}),l.jsx(ga,{})]})}const _z=new Sy.Icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});function RN(){const{data:e,isLoading:t}=zO(),[n,s]=S.useState(null),{prefixLink:a}=ls(),u=[31.9539,35.9106],f=e&&e.length>0?[e[0].latitude,e[0].longitude]:u;return t?l.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-background",children:l.jsx(St,{className:"w-10 h-10 animate-spin text-primary"})}):l.jsxs("div",{className:"h-screen flex flex-col bg-background",children:[l.jsx(va,{title:""}),l.jsxs("div",{className:"flex-1 relative",children:[l.jsxs(Cy,{center:f,zoom:13,style:{height:"100%",width:"100%"},className:"z-0",children:[l.jsx(Ty,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),e?.map(h=>l.jsx(jy,{position:[h.latitude,h.longitude],icon:_z,eventHandlers:{click:()=>s(h)},children:l.jsx(AN,{children:l.jsxs("div",{className:"text-center p-1",children:[l.jsx("strong",{children:h.name}),l.jsx("br",{}),l.jsx("span",{className:"text-sm text-gray-600",children:h.category?.name})]})})},h.id))]}),n&&l.jsxs(sr.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},className:"absolute bottom-20 left-4 right-4 bg-card rounded-2xl shadow-2xl border border-border p-4 z-[1000]",children:[l.jsx("button",{onClick:()=>s(null),className:"absolute top-2 left-2 p-1 rounded-full bg-muted hover:bg-muted/80","data-testid":"button-close-popup",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M18 6 6 18"}),l.jsx("path",{d:"m6 6 12 12"})]})}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("div",{className:"w-20 h-20 rounded-xl bg-muted overflow-hidden flex-shrink-0",children:l.jsx("img",{src:n.imageUrl||`https://placehold.co/200x200/1a1a2e/d4a655?text=${encodeURIComponent(n.name.charAt(0))}`,alt:n.name,className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("span",{className:"text-xs text-primary font-medium",children:n.category?.name}),l.jsx("h3",{className:"font-bold text-lg line-clamp-1",children:n.name}),l.jsx(qh,{rating:n.averageRating||0,size:"sm",reviewCount:n.reviewCount}),l.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground text-xs mt-1",children:[l.jsx(_i,{className:"w-3 h-3"}),l.jsx("span",{className:"line-clamp-1",children:n.address})]})]})]}),l.jsxs("div",{className:"flex gap-2 mt-3",children:[l.jsxs(Ut,{href:a(`/businesses/${n.id}`),className:"flex-1 bg-primary text-primary-foreground font-medium py-2 px-4 rounded-xl text-center flex items-center justify-center gap-1","data-testid":"link-view-details",children:["",l.jsx(Qf,{className:"w-4 h-4"})]}),n.phone&&l.jsx("a",{href:`tel:${n.phone}`,className:"bg-muted text-foreground p-2 rounded-xl","data-testid":"button-call-map",children:l.jsx(vv,{className:"w-5 h-5"})})]})]})]}),l.jsx(ga,{})]})}function ON(){const{data:e,isLoading:t}=DS();return l.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[l.jsx(va,{title:""}),l.jsxs("main",{className:"container mx-auto px-4 py-6",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[l.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/20 flex items-center justify-center",children:l.jsx(Xs,{className:"w-5 h-5 text-primary"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"font-display font-bold text-2xl",children:" "}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"   "})]})]}),t?l.jsx("div",{className:"flex justify-center py-12",children:l.jsx(St,{className:"w-8 h-8 animate-spin text-primary"})}):e&&e.length>0?l.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:e.map((n,s)=>l.jsx(_y,{offer:n,index:s},n.id))}):l.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[l.jsx(Xs,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),l.jsx("p",{children:"   "})]})]}),l.jsx(ga,{})]})}function IN(){const{t:e}=mo(),{data:t,isLoading:n}=zh(),{favorites:s}=xy(),a=t?.filter(u=>s.includes(u.id))||[];return l.jsxs("div",{className:"min-h-screen bg-background pb-20 font-sans",children:[l.jsx(va,{title:e("favorites.title")}),l.jsx("main",{className:"container mx-auto px-4 py-6",children:n?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx(St,{className:"w-10 h-10 animate-spin text-primary"})}):a.length===0?l.jsxs(sr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col items-center justify-center py-16 text-center",children:[l.jsx("div",{className:"w-20 h-20 rounded-full bg-muted flex items-center justify-center mb-6",children:l.jsx(Al,{className:"w-10 h-10 text-muted-foreground"})}),l.jsx("h3",{className:"text-xl font-bold mb-2",children:e("favorites.empty")}),l.jsx("p",{className:"text-muted-foreground mb-6 max-w-sm",children:e("favorites.emptyDescription")}),l.jsx(Ut,{href:"/categories",children:l.jsxs(Ze,{className:"gap-2","data-testid":"button-browse-categories",children:[l.jsx(g1,{className:"w-4 h-4"}),e("favorites.browseCategories")]})})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(Al,{className:"w-5 h-5 text-primary fill-primary"}),l.jsxs("span",{className:"text-muted-foreground",children:[a.length," ",e("favorites.count")]})]}),l.jsx("div",{className:"grid gap-4",children:a.map((u,f)=>l.jsx(Hh,{business:u,layout:"list",index:f},u.id))})]})}),l.jsx(ga,{})]})}const wz=mv("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function Jo({className:e,variant:t,...n}){return l.jsx("div",{className:rt(wz({variant:t}),e),...n})}function Hw(e,[t,n]){return Math.min(n,Math.max(t,e))}var bz=S.createContext(void 0);function Sz(e){const t=S.useContext(bz);return e||t||"ltr"}var eg=0;function DN(){S.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??qw()),document.body.insertAdjacentElement("beforeend",e[1]??qw()),eg++,()=>{eg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),eg--}},[])}function qw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var tg="focusScope.autoFocusOnMount",ng="focusScope.autoFocusOnUnmount",Kw={bubbles:!1,cancelable:!0},Pz="FocusScope",ky=S.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:u,...f}=e,[h,g]=S.useState(null),v=cr(a),y=cr(u),w=S.useRef(null),N=_t(t,C=>g(C)),T=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(s){let C=function(D){if(T.paused||!h)return;const O=D.target;h.contains(O)?w.current=O:Gs(w.current,{select:!0})},j=function(D){if(T.paused||!h)return;const O=D.relatedTarget;O!==null&&(h.contains(O)||Gs(w.current,{select:!0}))},M=function(D){if(document.activeElement===document.body)for(const V of D)V.removedNodes.length>0&&Gs(h)};document.addEventListener("focusin",C),document.addEventListener("focusout",j);const R=new MutationObserver(M);return h&&R.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",C),document.removeEventListener("focusout",j),R.disconnect()}}},[s,h,T.paused]),S.useEffect(()=>{if(h){Qw.add(T);const C=document.activeElement;if(!h.contains(C)){const M=new CustomEvent(tg,Kw);h.addEventListener(tg,v),h.dispatchEvent(M),M.defaultPrevented||(Nz(Ez(FN(h)),{select:!0}),document.activeElement===C&&Gs(h))}return()=>{h.removeEventListener(tg,v),setTimeout(()=>{const M=new CustomEvent(ng,Kw);h.addEventListener(ng,y),h.dispatchEvent(M),M.defaultPrevented||Gs(C??document.body,{select:!0}),h.removeEventListener(ng,y),Qw.remove(T)},0)}}},[h,v,y,T]);const A=S.useCallback(C=>{if(!n&&!s||T.paused)return;const j=C.key==="Tab"&&!C.altKey&&!C.ctrlKey&&!C.metaKey,M=document.activeElement;if(j&&M){const R=C.currentTarget,[D,O]=Cz(R);D&&O?!C.shiftKey&&M===O?(C.preventDefault(),n&&Gs(D,{select:!0})):C.shiftKey&&M===D&&(C.preventDefault(),n&&Gs(O,{select:!0})):M===R&&C.preventDefault()}},[n,s,T.paused]);return l.jsx(dt.div,{tabIndex:-1,...f,ref:N,onKeyDown:A})});ky.displayName=Pz;function Nz(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(Gs(s,{select:t}),document.activeElement!==n)return}function Cz(e){const t=FN(e),n=Gw(t,e),s=Gw(t.reverse(),e);return[n,s]}function FN(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Gw(e,t){for(const n of e)if(!jz(n,{upTo:t}))return n}function jz(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Tz(e){return e instanceof HTMLInputElement&&"select"in e}function Gs(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Tz(e)&&t&&e.select()}}var Qw=kz();function kz(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=Xw(e,t),e.unshift(t)},remove(t){e=Xw(e,t),e[0]?.resume()}}}function Xw(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function Ez(e){return e.filter(t=>t.tagName!=="A")}function Az(e){const t=S.useRef({value:e,previous:e});return S.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Lz=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},cl=new WeakMap,Af=new WeakMap,Lf={},rg=0,zN=function(e){return e&&(e.host||zN(e.parentNode))},Mz=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=zN(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Rz=function(e,t,n,s){var a=Mz(t,Array.isArray(e)?e:[e]);Lf[n]||(Lf[n]=new WeakMap);var u=Lf[n],f=[],h=new Set,g=new Set(a),v=function(w){!w||h.has(w)||(h.add(w),v(w.parentNode))};a.forEach(v);var y=function(w){!w||g.has(w)||Array.prototype.forEach.call(w.children,function(N){if(h.has(N))y(N);else try{var T=N.getAttribute(s),A=T!==null&&T!=="false",C=(cl.get(N)||0)+1,j=(u.get(N)||0)+1;cl.set(N,C),u.set(N,j),f.push(N),C===1&&A&&Af.set(N,!0),j===1&&N.setAttribute(n,"true"),A||N.setAttribute(s,"true")}catch(M){console.error("aria-hidden: cannot operate on ",N,M)}})};return y(t),h.clear(),rg++,function(){f.forEach(function(w){var N=cl.get(w)-1,T=u.get(w)-1;cl.set(w,N),u.set(w,T),N||(Af.has(w)||w.removeAttribute(s),Af.delete(w)),T||w.removeAttribute(n)}),rg--,rg||(cl=new WeakMap,cl=new WeakMap,Af=new WeakMap,Lf={})}},BN=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=Lz(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live]"))),Rz(s,a,n,"aria-hidden")):function(){return null}},pi=function(){return pi=Object.assign||function(t){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(t[u]=n[u])}return t},pi.apply(this,arguments)};function VN(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n}function Oz(e,t,n){if(n||arguments.length===2)for(var s=0,a=t.length,u;s<a;s++)(u||!(s in t))&&(u||(u=Array.prototype.slice.call(t,0,s)),u[s]=t[s]);return e.concat(u||Array.prototype.slice.call(t))}var $f="right-scroll-bar-position",Zf="width-before-scroll-bar",Iz="with-scroll-bars-hidden",Dz="--removed-body-scroll-bar-size";function ig(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Fz(e,t){var n=S.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var a=n.value;a!==s&&(n.value=s,n.callback(s,a))}}}})[0];return n.callback=t,n.facade}var zz=typeof window<"u"?S.useLayoutEffect:S.useEffect,Yw=new WeakMap;function Bz(e,t){var n=Fz(null,function(s){return e.forEach(function(a){return ig(a,s)})});return zz(function(){var s=Yw.get(n);if(s){var a=new Set(s),u=new Set(e),f=n.current;a.forEach(function(h){u.has(h)||ig(h,null)}),u.forEach(function(h){a.has(h)||ig(h,f)})}Yw.set(n,e)},[e]),n}function Vz(e){return e}function Uz(e,t){t===void 0&&(t=Vz);var n=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(u){var f=t(u,s);return n.push(f),function(){n=n.filter(function(h){return h!==f})}},assignSyncMedium:function(u){for(s=!0;n.length;){var f=n;n=[],f.forEach(u)}n={push:function(h){return u(h)},filter:function(){return n}}},assignMedium:function(u){s=!0;var f=[];if(n.length){var h=n;n=[],h.forEach(u),f=n}var g=function(){var y=f;f=[],y.forEach(u)},v=function(){return Promise.resolve().then(g)};v(),n={push:function(y){f.push(y),v()},filter:function(y){return f=f.filter(y),n}}}};return a}function $z(e){e===void 0&&(e={});var t=Uz(null);return t.options=pi({async:!0,ssr:!1},e),t}var UN=function(e){var t=e.sideCar,n=VN(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return S.createElement(s,pi({},n))};UN.isSideCarExport=!0;function Zz(e,t){return e.useMedium(t),UN}var $N=$z(),sg=function(){},Gh=S.forwardRef(function(e,t){var n=S.useRef(null),s=S.useState({onScrollCapture:sg,onWheelCapture:sg,onTouchMoveCapture:sg}),a=s[0],u=s[1],f=e.forwardProps,h=e.children,g=e.className,v=e.removeScrollBar,y=e.enabled,w=e.shards,N=e.sideCar,T=e.noIsolation,A=e.inert,C=e.allowPinchZoom,j=e.as,M=j===void 0?"div":j,R=e.gapMode,D=VN(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=N,V=Bz([n,t]),Z=pi(pi({},D),a);return S.createElement(S.Fragment,null,y&&S.createElement(O,{sideCar:$N,removeScrollBar:v,shards:w,noIsolation:T,inert:A,setCallbacks:u,allowPinchZoom:!!C,lockRef:n,gapMode:R}),f?S.cloneElement(S.Children.only(h),pi(pi({},Z),{ref:V})):S.createElement(M,pi({},Z,{className:g,ref:V}),h))});Gh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Gh.classNames={fullWidth:Zf,zeroRight:$f};var Wz=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Hz(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Wz();return t&&e.setAttribute("nonce",t),e}function qz(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Kz(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Gz=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Hz())&&(qz(t,n),Kz(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Qz=function(){var e=Gz();return function(t,n){S.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},ZN=function(){var e=Qz(),t=function(n){var s=n.styles,a=n.dynamic;return e(s,a),null};return t},Xz={left:0,top:0,right:0,gap:0},og=function(e){return parseInt(e||"",10)||0},Yz=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[og(n),og(s),og(a)]},Jz=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Xz;var t=Yz(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},eB=ZN(),Tl="data-scroll-locked",tB=function(e,t,n,s){var a=e.left,u=e.top,f=e.right,h=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Iz,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(h,"px ").concat(s,`;
  }
  body[`).concat(Tl,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(u,`px;
    padding-right: `).concat(f,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(h,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(h,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($f,` {
    right: `).concat(h,"px ").concat(s,`;
  }
  
  .`).concat(Zf,` {
    margin-right: `).concat(h,"px ").concat(s,`;
  }
  
  .`).concat($f," .").concat($f,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Zf," .").concat(Zf,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Tl,`] {
    `).concat(Dz,": ").concat(h,`px;
  }
`)},Jw=function(){var e=parseInt(document.body.getAttribute(Tl)||"0",10);return isFinite(e)?e:0},nB=function(){S.useEffect(function(){return document.body.setAttribute(Tl,(Jw()+1).toString()),function(){var e=Jw()-1;e<=0?document.body.removeAttribute(Tl):document.body.setAttribute(Tl,e.toString())}},[])},rB=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;nB();var u=S.useMemo(function(){return Jz(a)},[a]);return S.createElement(eB,{styles:tB(u,!t,a,n?"":"!important")})},Xg=!1;if(typeof window<"u")try{var Mf=Object.defineProperty({},"passive",{get:function(){return Xg=!0,!0}});window.addEventListener("test",Mf,Mf),window.removeEventListener("test",Mf,Mf)}catch{Xg=!1}var ul=Xg?{passive:!1}:!1,iB=function(e){return e.tagName==="TEXTAREA"},WN=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!iB(e)&&n[t]==="visible")},sB=function(e){return WN(e,"overflowY")},oB=function(e){return WN(e,"overflowX")},eb=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=HN(e,s);if(a){var u=qN(e,s),f=u[1],h=u[2];if(f>h)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},aB=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},lB=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},HN=function(e,t){return e==="v"?sB(t):oB(t)},qN=function(e,t){return e==="v"?aB(t):lB(t)},cB=function(e,t){return e==="h"&&t==="rtl"?-1:1},uB=function(e,t,n,s,a){var u=cB(e,window.getComputedStyle(t).direction),f=u*s,h=n.target,g=t.contains(h),v=!1,y=f>0,w=0,N=0;do{var T=qN(e,h),A=T[0],C=T[1],j=T[2],M=C-j-u*A;(A||M)&&HN(e,h)&&(w+=M,N+=A),h instanceof ShadowRoot?h=h.host:h=h.parentNode}while(!g&&h!==document.body||g&&(t.contains(h)||t===h));return(y&&Math.abs(w)<1||!y&&Math.abs(N)<1)&&(v=!0),v},Rf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},tb=function(e){return[e.deltaX,e.deltaY]},nb=function(e){return e&&"current"in e?e.current:e},dB=function(e,t){return e[0]===t[0]&&e[1]===t[1]},fB=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},hB=0,dl=[];function mB(e){var t=S.useRef([]),n=S.useRef([0,0]),s=S.useRef(),a=S.useState(hB++)[0],u=S.useState(ZN)[0],f=S.useRef(e);S.useEffect(function(){f.current=e},[e]),S.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var C=Oz([e.lockRef.current],(e.shards||[]).map(nb),!0).filter(Boolean);return C.forEach(function(j){return j.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),C.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var h=S.useCallback(function(C,j){if("touches"in C&&C.touches.length===2||C.type==="wheel"&&C.ctrlKey)return!f.current.allowPinchZoom;var M=Rf(C),R=n.current,D="deltaX"in C?C.deltaX:R[0]-M[0],O="deltaY"in C?C.deltaY:R[1]-M[1],V,Z=C.target,q=Math.abs(D)>Math.abs(O)?"h":"v";if("touches"in C&&q==="h"&&Z.type==="range")return!1;var J=eb(q,Z);if(!J)return!0;if(J?V=q:(V=q==="v"?"h":"v",J=eb(q,Z)),!J)return!1;if(!s.current&&"changedTouches"in C&&(D||O)&&(s.current=V),!V)return!0;var he=s.current||V;return uB(he,j,C,he==="h"?D:O)},[]),g=S.useCallback(function(C){var j=C;if(!(!dl.length||dl[dl.length-1]!==u)){var M="deltaY"in j?tb(j):Rf(j),R=t.current.filter(function(V){return V.name===j.type&&(V.target===j.target||j.target===V.shadowParent)&&dB(V.delta,M)})[0];if(R&&R.should){j.cancelable&&j.preventDefault();return}if(!R){var D=(f.current.shards||[]).map(nb).filter(Boolean).filter(function(V){return V.contains(j.target)}),O=D.length>0?h(j,D[0]):!f.current.noIsolation;O&&j.cancelable&&j.preventDefault()}}},[]),v=S.useCallback(function(C,j,M,R){var D={name:C,delta:j,target:M,should:R,shadowParent:pB(M)};t.current.push(D),setTimeout(function(){t.current=t.current.filter(function(O){return O!==D})},1)},[]),y=S.useCallback(function(C){n.current=Rf(C),s.current=void 0},[]),w=S.useCallback(function(C){v(C.type,tb(C),C.target,h(C,e.lockRef.current))},[]),N=S.useCallback(function(C){v(C.type,Rf(C),C.target,h(C,e.lockRef.current))},[]);S.useEffect(function(){return dl.push(u),e.setCallbacks({onScrollCapture:w,onWheelCapture:w,onTouchMoveCapture:N}),document.addEventListener("wheel",g,ul),document.addEventListener("touchmove",g,ul),document.addEventListener("touchstart",y,ul),function(){dl=dl.filter(function(C){return C!==u}),document.removeEventListener("wheel",g,ul),document.removeEventListener("touchmove",g,ul),document.removeEventListener("touchstart",y,ul)}},[]);var T=e.removeScrollBar,A=e.inert;return S.createElement(S.Fragment,null,A?S.createElement(u,{styles:fB(a)}):null,T?S.createElement(rB,{gapMode:e.gapMode}):null)}function pB(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const gB=Zz($N,mB);var Ey=S.forwardRef(function(e,t){return S.createElement(Gh,pi({},e,{ref:t,sideCar:gB}))});Ey.classNames=Gh.classNames;var vB=[" ","Enter","ArrowUp","ArrowDown"],yB=[" ","Enter"],Xu="Select",[Qh,Xh,xB]=Ib(Xu),[Xl]=ho(Xu,[xB,Rh]),Yh=Rh(),[_B,vo]=Xl(Xu),[wB,bB]=Xl(Xu),KN=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:a,onOpenChange:u,value:f,defaultValue:h,onValueChange:g,dir:v,name:y,autoComplete:w,disabled:N,required:T,form:A}=e,C=Yh(t),[j,M]=S.useState(null),[R,D]=S.useState(null),[O,V]=S.useState(!1),Z=Sz(v),[q=!1,J]=Gf({prop:s,defaultProp:a,onChange:u}),[he,me]=Gf({prop:f,defaultProp:h,onChange:g}),_e=S.useRef(null),le=j?A||!!j.closest("form"):!0,[Re,te]=S.useState(new Set),ge=Array.from(Re).map(de=>de.props.value).join(";");return l.jsx(jA,{...C,children:l.jsxs(_B,{required:T,scope:t,trigger:j,onTriggerChange:M,valueNode:R,onValueNodeChange:D,valueNodeHasChildren:O,onValueNodeHasChildrenChange:V,contentId:bl(),value:he,onValueChange:me,open:q,onOpenChange:J,dir:Z,triggerPointerDownPosRef:_e,disabled:N,children:[l.jsx(Qh.Provider,{scope:t,children:l.jsx(wB,{scope:e.__scopeSelect,onNativeOptionAdd:S.useCallback(de=>{te(ce=>new Set(ce).add(de))},[]),onNativeOptionRemove:S.useCallback(de=>{te(ce=>{const $=new Set(ce);return $.delete(de),$})},[]),children:n})}),le?l.jsxs(xC,{"aria-hidden":!0,required:T,tabIndex:-1,name:y,autoComplete:w,value:he,onChange:de=>me(de.target.value),disabled:N,form:A,children:[he===void 0?l.jsx("option",{value:""}):null,Array.from(Re)]},ge):null]})})};KN.displayName=Xu;var GN="SelectTrigger",QN=S.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...a}=e,u=Yh(n),f=vo(GN,n),h=f.disabled||s,g=_t(t,f.onTriggerChange),v=Xh(n),y=S.useRef("touch"),[w,N,T]=_C(C=>{const j=v().filter(D=>!D.disabled),M=j.find(D=>D.value===f.value),R=wC(j,C,M);R!==void 0&&f.onValueChange(R.value)}),A=C=>{h||(f.onOpenChange(!0),T()),C&&(f.triggerPointerDownPosRef.current={x:Math.round(C.pageX),y:Math.round(C.pageY)})};return l.jsx(Q1,{asChild:!0,...u,children:l.jsx(dt.button,{type:"button",role:"combobox","aria-controls":f.contentId,"aria-expanded":f.open,"aria-required":f.required,"aria-autocomplete":"none",dir:f.dir,"data-state":f.open?"open":"closed",disabled:h,"data-disabled":h?"":void 0,"data-placeholder":yC(f.value)?"":void 0,...a,ref:g,onClick:Xe(a.onClick,C=>{C.currentTarget.focus(),y.current!=="mouse"&&A(C)}),onPointerDown:Xe(a.onPointerDown,C=>{y.current=C.pointerType;const j=C.target;j.hasPointerCapture(C.pointerId)&&j.releasePointerCapture(C.pointerId),C.button===0&&C.ctrlKey===!1&&C.pointerType==="mouse"&&(A(C),C.preventDefault())}),onKeyDown:Xe(a.onKeyDown,C=>{const j=w.current!=="";!(C.ctrlKey||C.altKey||C.metaKey)&&C.key.length===1&&N(C.key),!(j&&C.key===" ")&&vB.includes(C.key)&&(A(),C.preventDefault())})})})});QN.displayName=GN;var XN="SelectValue",YN=S.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:a,children:u,placeholder:f="",...h}=e,g=vo(XN,n),{onValueNodeHasChildrenChange:v}=g,y=u!==void 0,w=_t(t,g.onValueNodeChange);return Nn(()=>{v(y)},[v,y]),l.jsx(dt.span,{...h,ref:w,style:{pointerEvents:"none"},children:yC(g.value)?l.jsx(l.Fragment,{children:f}):u})});YN.displayName=XN;var SB="SelectIcon",JN=S.forwardRef((e,t)=>{const{__scopeSelect:n,children:s,...a}=e;return l.jsx(dt.span,{"aria-hidden":!0,...a,ref:t,children:s||""})});JN.displayName=SB;var PB="SelectPortal",eC=e=>l.jsx(Nh,{asChild:!0,...e});eC.displayName=PB;var ca="SelectContent",tC=S.forwardRef((e,t)=>{const n=vo(ca,e.__scopeSelect),[s,a]=S.useState();if(Nn(()=>{a(new DocumentFragment)},[]),!n.open){const u=s;return u?ha.createPortal(l.jsx(nC,{scope:e.__scopeSelect,children:l.jsx(Qh.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),u):null}return l.jsx(rC,{...e,ref:t})});tC.displayName=ca;var Vr=10,[nC,yo]=Xl(ca),NB="SelectContentImpl",CB=El("SelectContent.RemoveScroll"),rC=S.forwardRef((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:u,onPointerDownOutside:f,side:h,sideOffset:g,align:v,alignOffset:y,arrowPadding:w,collisionBoundary:N,collisionPadding:T,sticky:A,hideWhenDetached:C,avoidCollisions:j,...M}=e,R=vo(ca,n),[D,O]=S.useState(null),[V,Z]=S.useState(null),q=_t(t,fe=>O(fe)),[J,he]=S.useState(null),[me,_e]=S.useState(null),le=Xh(n),[Re,te]=S.useState(!1),ge=S.useRef(!1);S.useEffect(()=>{if(D)return BN(D)},[D]),DN();const de=S.useCallback(fe=>{const[Se,...qe]=le().map(lt=>lt.ref.current),[Fe]=qe.slice(-1),Je=document.activeElement;for(const lt of fe)if(lt===Je||(lt?.scrollIntoView({block:"nearest"}),lt===Se&&V&&(V.scrollTop=0),lt===Fe&&V&&(V.scrollTop=V.scrollHeight),lt?.focus(),document.activeElement!==Je))return},[le,V]),ce=S.useCallback(()=>de([J,D]),[de,J,D]);S.useEffect(()=>{Re&&ce()},[Re,ce]);const{onOpenChange:$,triggerPointerDownPosRef:oe}=R;S.useEffect(()=>{if(D){let fe={x:0,y:0};const Se=Fe=>{fe={x:Math.abs(Math.round(Fe.pageX)-(oe.current?.x??0)),y:Math.abs(Math.round(Fe.pageY)-(oe.current?.y??0))}},qe=Fe=>{fe.x<=10&&fe.y<=10?Fe.preventDefault():D.contains(Fe.target)||$(!1),document.removeEventListener("pointermove",Se),oe.current=null};return oe.current!==null&&(document.addEventListener("pointermove",Se),document.addEventListener("pointerup",qe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Se),document.removeEventListener("pointerup",qe,{capture:!0})}}},[D,$,oe]),S.useEffect(()=>{const fe=()=>$(!1);return window.addEventListener("blur",fe),window.addEventListener("resize",fe),()=>{window.removeEventListener("blur",fe),window.removeEventListener("resize",fe)}},[$]);const[X,z]=_C(fe=>{const Se=le().filter(Je=>!Je.disabled),qe=Se.find(Je=>Je.ref.current===document.activeElement),Fe=wC(Se,fe,qe);Fe&&setTimeout(()=>Fe.ref.current.focus())}),Y=S.useCallback((fe,Se,qe)=>{const Fe=!ge.current&&!qe;(R.value!==void 0&&R.value===Se||Fe)&&(he(fe),Fe&&(ge.current=!0))},[R.value]),Ne=S.useCallback(()=>D?.focus(),[D]),ye=S.useCallback((fe,Se,qe)=>{const Fe=!ge.current&&!qe;(R.value!==void 0&&R.value===Se||Fe)&&_e(fe)},[R.value]),we=s==="popper"?Yg:iC,pe=we===Yg?{side:h,sideOffset:g,align:v,alignOffset:y,arrowPadding:w,collisionBoundary:N,collisionPadding:T,sticky:A,hideWhenDetached:C,avoidCollisions:j}:{};return l.jsx(nC,{scope:n,content:D,viewport:V,onViewportChange:Z,itemRefCallback:Y,selectedItem:J,onItemLeave:Ne,itemTextRefCallback:ye,focusSelectedItem:ce,selectedItemText:me,position:s,isPositioned:Re,searchRef:X,children:l.jsx(Ey,{as:CB,allowPinchZoom:!0,children:l.jsx(ky,{asChild:!0,trapped:R.open,onMountAutoFocus:fe=>{fe.preventDefault()},onUnmountAutoFocus:Xe(a,fe=>{R.trigger?.focus({preventScroll:!0}),fe.preventDefault()}),children:l.jsx(Bu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:fe=>fe.preventDefault(),onDismiss:()=>R.onOpenChange(!1),children:l.jsx(we,{role:"listbox",id:R.contentId,"data-state":R.open?"open":"closed",dir:R.dir,onContextMenu:fe=>fe.preventDefault(),...M,...pe,onPlaced:()=>te(!0),ref:q,style:{display:"flex",flexDirection:"column",outline:"none",...M.style},onKeyDown:Xe(M.onKeyDown,fe=>{const Se=fe.ctrlKey||fe.altKey||fe.metaKey;if(fe.key==="Tab"&&fe.preventDefault(),!Se&&fe.key.length===1&&z(fe.key),["ArrowUp","ArrowDown","Home","End"].includes(fe.key)){let Fe=le().filter(Je=>!Je.disabled).map(Je=>Je.ref.current);if(["ArrowUp","End"].includes(fe.key)&&(Fe=Fe.slice().reverse()),["ArrowUp","ArrowDown"].includes(fe.key)){const Je=fe.target,lt=Fe.indexOf(Je);Fe=Fe.slice(lt+1)}setTimeout(()=>de(Fe)),fe.preventDefault()}})})})})})})});rC.displayName=NB;var jB="SelectItemAlignedPosition",iC=S.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:s,...a}=e,u=vo(ca,n),f=yo(ca,n),[h,g]=S.useState(null),[v,y]=S.useState(null),w=_t(t,q=>y(q)),N=Xh(n),T=S.useRef(!1),A=S.useRef(!0),{viewport:C,selectedItem:j,selectedItemText:M,focusSelectedItem:R}=f,D=S.useCallback(()=>{if(u.trigger&&u.valueNode&&h&&v&&C&&j&&M){const q=u.trigger.getBoundingClientRect(),J=v.getBoundingClientRect(),he=u.valueNode.getBoundingClientRect(),me=M.getBoundingClientRect();if(u.dir!=="rtl"){const Je=me.left-J.left,lt=he.left-Je,kt=q.left-lt,hn=q.width+kt,Zn=Math.max(hn,J.width),Tr=window.innerWidth-Vr,jn=Hw(lt,[Vr,Math.max(Vr,Tr-Zn)]);h.style.minWidth=hn+"px",h.style.left=jn+"px"}else{const Je=J.right-me.right,lt=window.innerWidth-he.right-Je,kt=window.innerWidth-q.right-lt,hn=q.width+kt,Zn=Math.max(hn,J.width),Tr=window.innerWidth-Vr,jn=Hw(lt,[Vr,Math.max(Vr,Tr-Zn)]);h.style.minWidth=hn+"px",h.style.right=jn+"px"}const _e=N(),le=window.innerHeight-Vr*2,Re=C.scrollHeight,te=window.getComputedStyle(v),ge=parseInt(te.borderTopWidth,10),de=parseInt(te.paddingTop,10),ce=parseInt(te.borderBottomWidth,10),$=parseInt(te.paddingBottom,10),oe=ge+de+Re+$+ce,X=Math.min(j.offsetHeight*5,oe),z=window.getComputedStyle(C),Y=parseInt(z.paddingTop,10),Ne=parseInt(z.paddingBottom,10),ye=q.top+q.height/2-Vr,we=le-ye,pe=j.offsetHeight/2,fe=j.offsetTop+pe,Se=ge+de+fe,qe=oe-Se;if(Se<=ye){const Je=_e.length>0&&j===_e[_e.length-1].ref.current;h.style.bottom="0px";const lt=v.clientHeight-C.offsetTop-C.offsetHeight,kt=Math.max(we,pe+(Je?Ne:0)+lt+ce),hn=Se+kt;h.style.height=hn+"px"}else{const Je=_e.length>0&&j===_e[0].ref.current;h.style.top="0px";const kt=Math.max(ye,ge+C.offsetTop+(Je?Y:0)+pe)+qe;h.style.height=kt+"px",C.scrollTop=Se-ye+C.offsetTop}h.style.margin=`${Vr}px 0`,h.style.minHeight=X+"px",h.style.maxHeight=le+"px",s?.(),requestAnimationFrame(()=>T.current=!0)}},[N,u.trigger,u.valueNode,h,v,C,j,M,u.dir,s]);Nn(()=>D(),[D]);const[O,V]=S.useState();Nn(()=>{v&&V(window.getComputedStyle(v).zIndex)},[v]);const Z=S.useCallback(q=>{q&&A.current===!0&&(D(),R?.(),A.current=!1)},[D,R]);return l.jsx(kB,{scope:n,contentWrapper:h,shouldExpandOnScrollRef:T,onScrollButtonChange:Z,children:l.jsx("div",{ref:g,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:O},children:l.jsx(dt.div,{...a,ref:w,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});iC.displayName=jB;var TB="SelectPopperPosition",Yg=S.forwardRef((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:a=Vr,...u}=e,f=Yh(n);return l.jsx(X1,{...f,...u,ref:t,align:s,collisionPadding:a,style:{boxSizing:"border-box",...u.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Yg.displayName=TB;var[kB,Ay]=Xl(ca,{}),Jg="SelectViewport",sC=S.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:s,...a}=e,u=yo(Jg,n),f=Ay(Jg,n),h=_t(t,u.onViewportChange),g=S.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),l.jsx(Qh.Slot,{scope:n,children:l.jsx(dt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:h,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Xe(a.onScroll,v=>{const y=v.currentTarget,{contentWrapper:w,shouldExpandOnScrollRef:N}=f;if(N?.current&&w){const T=Math.abs(g.current-y.scrollTop);if(T>0){const A=window.innerHeight-Vr*2,C=parseFloat(w.style.minHeight),j=parseFloat(w.style.height),M=Math.max(C,j);if(M<A){const R=M+T,D=Math.min(A,R),O=R-D;w.style.height=D+"px",w.style.bottom==="0px"&&(y.scrollTop=O>0?O:0,w.style.justifyContent="flex-end")}}}g.current=y.scrollTop})})})]})});sC.displayName=Jg;var oC="SelectGroup",[EB,AB]=Xl(oC),LB=S.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=bl();return l.jsx(EB,{scope:n,id:a,children:l.jsx(dt.div,{role:"group","aria-labelledby":a,...s,ref:t})})});LB.displayName=oC;var aC="SelectLabel",lC=S.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=AB(aC,n);return l.jsx(dt.div,{id:a.id,...s,ref:t})});lC.displayName=aC;var _h="SelectItem",[MB,cC]=Xl(_h),uC=S.forwardRef((e,t)=>{const{__scopeSelect:n,value:s,disabled:a=!1,textValue:u,...f}=e,h=vo(_h,n),g=yo(_h,n),v=h.value===s,[y,w]=S.useState(u??""),[N,T]=S.useState(!1),A=_t(t,R=>g.itemRefCallback?.(R,s,a)),C=bl(),j=S.useRef("touch"),M=()=>{a||(h.onValueChange(s),h.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(MB,{scope:n,value:s,disabled:a,textId:C,isSelected:v,onItemTextChange:S.useCallback(R=>{w(D=>D||(R?.textContent??"").trim())},[]),children:l.jsx(Qh.ItemSlot,{scope:n,value:s,disabled:a,textValue:y,children:l.jsx(dt.div,{role:"option","aria-labelledby":C,"data-highlighted":N?"":void 0,"aria-selected":v&&N,"data-state":v?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...f,ref:A,onFocus:Xe(f.onFocus,()=>T(!0)),onBlur:Xe(f.onBlur,()=>T(!1)),onClick:Xe(f.onClick,()=>{j.current!=="mouse"&&M()}),onPointerUp:Xe(f.onPointerUp,()=>{j.current==="mouse"&&M()}),onPointerDown:Xe(f.onPointerDown,R=>{j.current=R.pointerType}),onPointerMove:Xe(f.onPointerMove,R=>{j.current=R.pointerType,a?g.onItemLeave?.():j.current==="mouse"&&R.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Xe(f.onPointerLeave,R=>{R.currentTarget===document.activeElement&&g.onItemLeave?.()}),onKeyDown:Xe(f.onKeyDown,R=>{g.searchRef?.current!==""&&R.key===" "||(yB.includes(R.key)&&M(),R.key===" "&&R.preventDefault())})})})})});uC.displayName=_h;var du="SelectItemText",dC=S.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:a,...u}=e,f=vo(du,n),h=yo(du,n),g=cC(du,n),v=bB(du,n),[y,w]=S.useState(null),N=_t(t,M=>w(M),g.onItemTextChange,M=>h.itemTextRefCallback?.(M,g.value,g.disabled)),T=y?.textContent,A=S.useMemo(()=>l.jsx("option",{value:g.value,disabled:g.disabled,children:T},g.value),[g.disabled,g.value,T]),{onNativeOptionAdd:C,onNativeOptionRemove:j}=v;return Nn(()=>(C(A),()=>j(A)),[C,j,A]),l.jsxs(l.Fragment,{children:[l.jsx(dt.span,{id:g.textId,...u,ref:N}),g.isSelected&&f.valueNode&&!f.valueNodeHasChildren?ha.createPortal(u.children,f.valueNode):null]})});dC.displayName=du;var fC="SelectItemIndicator",hC=S.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return cC(fC,n).isSelected?l.jsx(dt.span,{"aria-hidden":!0,...s,ref:t}):null});hC.displayName=fC;var ev="SelectScrollUpButton",mC=S.forwardRef((e,t)=>{const n=yo(ev,e.__scopeSelect),s=Ay(ev,e.__scopeSelect),[a,u]=S.useState(!1),f=_t(t,s.onScrollButtonChange);return Nn(()=>{if(n.viewport&&n.isPositioned){let h=function(){const v=g.scrollTop>0;u(v)};const g=n.viewport;return h(),g.addEventListener("scroll",h),()=>g.removeEventListener("scroll",h)}},[n.viewport,n.isPositioned]),a?l.jsx(gC,{...e,ref:f,onAutoScroll:()=>{const{viewport:h,selectedItem:g}=n;h&&g&&(h.scrollTop=h.scrollTop-g.offsetHeight)}}):null});mC.displayName=ev;var tv="SelectScrollDownButton",pC=S.forwardRef((e,t)=>{const n=yo(tv,e.__scopeSelect),s=Ay(tv,e.__scopeSelect),[a,u]=S.useState(!1),f=_t(t,s.onScrollButtonChange);return Nn(()=>{if(n.viewport&&n.isPositioned){let h=function(){const v=g.scrollHeight-g.clientHeight,y=Math.ceil(g.scrollTop)<v;u(y)};const g=n.viewport;return h(),g.addEventListener("scroll",h),()=>g.removeEventListener("scroll",h)}},[n.viewport,n.isPositioned]),a?l.jsx(gC,{...e,ref:f,onAutoScroll:()=>{const{viewport:h,selectedItem:g}=n;h&&g&&(h.scrollTop=h.scrollTop+g.offsetHeight)}}):null});pC.displayName=tv;var gC=S.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:s,...a}=e,u=yo("SelectScrollButton",n),f=S.useRef(null),h=Xh(n),g=S.useCallback(()=>{f.current!==null&&(window.clearInterval(f.current),f.current=null)},[]);return S.useEffect(()=>()=>g(),[g]),Nn(()=>{h().find(y=>y.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[h]),l.jsx(dt.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Xe(a.onPointerDown,()=>{f.current===null&&(f.current=window.setInterval(s,50))}),onPointerMove:Xe(a.onPointerMove,()=>{u.onItemLeave?.(),f.current===null&&(f.current=window.setInterval(s,50))}),onPointerLeave:Xe(a.onPointerLeave,()=>{g()})})}),RB="SelectSeparator",vC=S.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return l.jsx(dt.div,{"aria-hidden":!0,...s,ref:t})});vC.displayName=RB;var nv="SelectArrow",OB=S.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=Yh(n),u=vo(nv,n),f=yo(nv,n);return u.open&&f.position==="popper"?l.jsx(Y1,{...a,...s,ref:t}):null});OB.displayName=nv;function yC(e){return e===""||e===void 0}var xC=S.forwardRef((e,t)=>{const{value:n,...s}=e,a=S.useRef(null),u=_t(t,a),f=Az(n);return S.useEffect(()=>{const h=a.current,g=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(g,"value").set;if(f!==n&&y){const w=new Event("change",{bubbles:!0});y.call(h,n),h.dispatchEvent(w)}},[f,n]),l.jsx(Vu,{asChild:!0,children:l.jsx("select",{...s,ref:u,defaultValue:n})})});xC.displayName="BubbleSelect";function _C(e){const t=cr(e),n=S.useRef(""),s=S.useRef(0),a=S.useCallback(f=>{const h=n.current+f;t(h),(function g(v){n.current=v,window.clearTimeout(s.current),v!==""&&(s.current=window.setTimeout(()=>g(""),1e3))})(h)},[t]),u=S.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,a,u]}function wC(e,t,n){const a=t.length>1&&Array.from(t).every(v=>v===t[0])?t[0]:t,u=n?e.indexOf(n):-1;let f=IB(e,Math.max(u,0));a.length===1&&(f=f.filter(v=>v!==n));const g=f.find(v=>v.textValue.toLowerCase().startsWith(a.toLowerCase()));return g!==n?g:void 0}function IB(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var DB=KN,bC=QN,FB=YN,zB=JN,BB=eC,SC=tC,VB=sC,PC=lC,NC=uC,UB=dC,$B=hC,CC=mC,jC=pC,TC=vC;const ao=DB,lo=FB,os=S.forwardRef(({className:e,children:t,...n},s)=>l.jsxs(bC,{ref:s,className:rt("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,l.jsx(zB,{asChild:!0,children:l.jsx(u1,{className:"h-4 w-4 opacity-50"})})]}));os.displayName=bC.displayName;const kC=S.forwardRef(({className:e,...t},n)=>l.jsx(CC,{ref:n,className:rt("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(xE,{className:"h-4 w-4"})}));kC.displayName=CC.displayName;const EC=S.forwardRef(({className:e,...t},n)=>l.jsx(jC,{ref:n,className:rt("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(u1,{className:"h-4 w-4"})}));EC.displayName=jC.displayName;const as=S.forwardRef(({className:e,children:t,position:n="popper",...s},a)=>l.jsx(BB,{children:l.jsxs(SC,{ref:a,className:rt("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:[l.jsx(kC,{}),l.jsx(VB,{className:rt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx(EC,{})]})}));as.displayName=SC.displayName;const ZB=S.forwardRef(({className:e,...t},n)=>l.jsx(PC,{ref:n,className:rt("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));ZB.displayName=PC.displayName;const $n=S.forwardRef(({className:e,children:t,...n},s)=>l.jsxs(NC,{ref:s,className:rt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx($B,{children:l.jsx(gE,{className:"h-4 w-4"})})}),l.jsx(UB,{children:t})]}));$n.displayName=NC.displayName;const WB=S.forwardRef(({className:e,...t},n)=>l.jsx(TC,{ref:n,className:rt("-mx-1 my-1 h-px bg-muted",e),...t}));WB.displayName=TC.displayName;const rb="compare_businesses";function HB(){const{t:e,language:t}=mo(),[n,s]=S.useState([]);S.useEffect(()=>{const w=localStorage.getItem(rb);if(w)try{s(JSON.parse(w))}catch{}},[]),S.useEffect(()=>{localStorage.setItem(rb,JSON.stringify(n))},[n]);const{data:a}=vt({queryKey:["/api/categories"]}),{data:u,isLoading:f}=vt({queryKey:["/api/businesses"]}),h=u?.filter(w=>n.includes(w.id))||[],g=w=>{!n.includes(w)&&n.length<3&&s([...n,w])},v=w=>{s(n.filter(N=>N!==w))},y=()=>{s([])};return f?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx(St,{className:"w-8 h-8 animate-spin text-primary"})}):l.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[l.jsx("header",{className:"sticky top-0 bg-card/95 backdrop-blur-sm border-b border-border z-20",children:l.jsx("div",{className:"container mx-auto px-4 py-4",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(Ut,{href:"/",children:l.jsx(Ze,{variant:"ghost",size:"icon","data-testid":"button-back",children:l.jsx(Th,{className:"w-5 h-5"})})}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(J0,{className:"w-6 h-6 text-primary"}),l.jsx("h1",{className:"text-xl font-display font-bold",children:e("compare.title")})]})]})})}),l.jsxs("main",{className:"container mx-auto px-4 py-6",children:[l.jsxs(ot,{className:"mb-6",children:[l.jsx(Gt,{children:l.jsx(Qt,{className:"text-lg",children:e("compare.select")})}),l.jsxs(at,{children:[l.jsxs("div",{className:"flex flex-wrap gap-3",children:[l.jsxs(ao,{onValueChange:w=>g(parseInt(w)),children:[l.jsx(os,{className:"w-full sm:w-64","data-testid":"select-compare-business",children:l.jsx(lo,{placeholder:e("compare.select")})}),l.jsx(as,{children:u?.filter(w=>!n.includes(w.id)).map(w=>l.jsx($n,{value:w.id.toString(),children:t==="ar"?w.name:w.nameEn||w.name},w.id))})]}),n.length>0&&l.jsx(Ze,{variant:"outline",onClick:y,"data-testid":"button-clear-compare",children:e("compare.clear")})]}),n.length>0&&l.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:h.map(w=>l.jsxs(Jo,{variant:"secondary",className:"gap-1 px-3 py-1.5","data-testid":`badge-compare-${w.id}`,children:[t==="ar"?w.name:w.nameEn||w.name,l.jsx("button",{onClick:()=>v(w.id),className:"mr-1 hover:text-destructive","data-testid":`button-remove-compare-${w.id}`,children:l.jsx(pv,{className:"w-4 h-4"})})]},w.id))})]})]}),h.length>=2?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full border-collapse",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-3 border border-border bg-muted text-right font-medium",children:""}),h.map(w=>l.jsx("th",{className:"p-3 border border-border bg-muted min-w-[200px]",children:l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[w.imageUrl&&l.jsx("img",{src:w.imageUrl,alt:w.name,className:"w-16 h-16 rounded-lg object-cover"}),l.jsx("span",{className:"font-bold text-center",children:t==="ar"?w.name:w.nameEn||w.name}),w.isVerified&&l.jsxs(Jo,{variant:"default",className:"gap-1",children:[l.jsx(wE,{className:"w-3 h-3"}),""]})]})},w.id))]})}),l.jsxs("tbody",{children:[l.jsxs("tr",{children:[l.jsx("td",{className:"p-3 border border-border font-medium",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ts,{className:"w-4 h-4 text-primary"}),""]})}),h.map(w=>l.jsx("td",{className:"p-3 border border-border text-center",children:l.jsxs("div",{className:"flex items-center justify-center gap-1",children:[l.jsx(ts,{className:"w-5 h-5 text-primary fill-primary"}),l.jsx("span",{className:"font-bold",children:w.averageRating?.toFixed(1)||"-"}),l.jsxs("span",{className:"text-muted-foreground text-sm",children:["(",w.reviewCount||0,")"]})]})},w.id))]}),l.jsxs("tr",{children:[l.jsx("td",{className:"p-3 border border-border font-medium",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(_i,{className:"w-4 h-4 text-muted-foreground"}),""]})}),h.map(w=>l.jsx("td",{className:"p-3 border border-border text-center",children:t==="ar"?w.address:w.addressEn||w.address},w.id))]}),l.jsxs("tr",{children:[l.jsx("td",{className:"p-3 border border-border font-medium",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(vv,{className:"w-4 h-4 text-muted-foreground"}),""]})}),h.map(w=>l.jsx("td",{className:"p-3 border border-border text-center",dir:"ltr",children:w.phone||"-"},w.id))]}),l.jsxs("tr",{children:[l.jsx("td",{className:"p-3 border border-border font-medium",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Qs,{className:"w-4 h-4 text-muted-foreground"})," "]})}),h.map(w=>l.jsx("td",{className:"p-3 border border-border text-center",children:w.workingHoursJson||"-"},w.id))]}),l.jsxs("tr",{children:[l.jsx("td",{className:"p-3 border border-border font-medium",children:""}),h.map(w=>l.jsx("td",{className:"p-3 border border-border text-center",children:l.jsx(Jo,{variant:"outline",children:t==="ar"?w.category?.name:w.category?.nameEn||w.category?.name})},w.id))]}),l.jsxs("tr",{children:[l.jsx("td",{className:"p-3 border border-border font-medium",children:""}),h.map(w=>l.jsx("td",{className:"p-3 border border-border",children:l.jsxs("div",{className:"flex flex-wrap justify-center gap-1",children:[w.services?.slice(0,3).map((N,T)=>l.jsx(Jo,{variant:"secondary",className:"text-xs",children:N},T)),(w.services?.length||0)>3&&l.jsxs(Jo,{variant:"secondary",className:"text-xs",children:["+",(w.services?.length||0)-3]})]})},w.id))]}),l.jsxs("tr",{children:[l.jsx("td",{className:"p-3 border border-border font-medium",children:""}),h.map(w=>l.jsx("td",{className:"p-3 border border-border text-center",children:l.jsx(Ut,{href:`/business/${w.id}`,children:l.jsx(Ze,{size:"sm","data-testid":`button-view-${w.id}`,children:" "})})},w.id))]})]})]})}):l.jsx(ot,{children:l.jsxs(at,{className:"py-12 text-center",children:[l.jsx(J0,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),l.jsx("p",{className:"text-muted-foreground text-lg",children:e("compare.empty")}),l.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"        "})]})})]})]})}function qB(){const[,e]=fa(),{toast:t}=Rn(),[n,s]=S.useState(""),[a,u]=S.useState(""),[f,h]=S.useState(!1),[g,v]=S.useState(!1),y=async w=>{w.preventDefault(),v(!0);try{const N=await fetch("/api/admin/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,password:a}),credentials:"include"}),T=await N.json();N.ok?(t({title:"   "}),e("/admin")):t({title:"   ",description:T.message,variant:"destructive"})}catch{t({title:"  ",description:"   ",variant:"destructive"})}finally{v(!1)}};return l.jsxs("div",{className:"min-h-screen bg-background p-4",children:[l.jsx("div",{className:"mb-8",children:l.jsx(Ut,{href:"/",children:l.jsxs(Ze,{variant:"outline",className:"gap-2","data-testid":"button-back-to-site",children:[l.jsx(Th,{className:"w-4 h-4"})," "]})})}),l.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-120px)]",children:l.jsxs(ot,{className:"w-full max-w-md",children:[l.jsxs(Gt,{className:"text-center",children:[l.jsx("div",{className:"mx-auto w-28 h-28 mb-4",children:l.jsx("img",{src:_N,alt:"Delini",className:"w-full h-full object-cover rounded-2xl"})}),l.jsx(Qt,{className:"text-2xl font-display",children:" "}),l.jsx("p",{className:"text-muted-foreground text-sm mt-2",children:"     "})]}),l.jsx(at,{children:l.jsxs("form",{onSubmit:y,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:" "}),l.jsxs("div",{className:"relative",children:[l.jsx(x1,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),l.jsx(ht,{type:"text",placeholder:"admin",value:n,onChange:w=>s(w.target.value),className:"pr-10",required:!0,"data-testid":"input-admin-username"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:" "}),l.jsxs("div",{className:"relative",children:[l.jsx(kE,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),l.jsx(ht,{type:f?"text":"password",placeholder:"",value:a,onChange:w=>u(w.target.value),className:"pr-10 pl-10",required:!0,"data-testid":"input-admin-password"}),l.jsx("button",{type:"button",onClick:()=>h(!f),className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors","data-testid":"button-toggle-password",children:f?l.jsx(SE,{className:"w-5 h-5"}):l.jsx(h1,{className:"w-5 h-5"})})]})]}),l.jsx(Ze,{type:"submit",className:"w-full",disabled:g,"data-testid":"button-admin-login",children:g?l.jsx(St,{className:"w-4 h-4 animate-spin"}):" "})]})})]})})]})}var Ly="Progress",My=100,[KB]=ho(Ly),[GB,QB]=KB(Ly),AC=S.forwardRef((e,t)=>{const{__scopeProgress:n,value:s=null,max:a,getValueLabel:u=XB,...f}=e;(a||a===0)&&!ib(a)&&console.error(YB(`${a}`,"Progress"));const h=ib(a)?a:My;s!==null&&!sb(s,h)&&console.error(JB(`${s}`,"Progress"));const g=sb(s,h)?s:null,v=wh(g)?u(g,h):void 0;return l.jsx(GB,{scope:n,value:g,max:h,children:l.jsx(dt.div,{"aria-valuemax":h,"aria-valuemin":0,"aria-valuenow":wh(g)?g:void 0,"aria-valuetext":v,role:"progressbar","data-state":RC(g,h),"data-value":g??void 0,"data-max":h,...f,ref:t})})});AC.displayName=Ly;var LC="ProgressIndicator",MC=S.forwardRef((e,t)=>{const{__scopeProgress:n,...s}=e,a=QB(LC,n);return l.jsx(dt.div,{"data-state":RC(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...s,ref:t})});MC.displayName=LC;function XB(e,t){return`${Math.round(e/t*100)}%`}function RC(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function wh(e){return typeof e=="number"}function ib(e){return wh(e)&&!isNaN(e)&&e>0}function sb(e,t){return wh(e)&&!isNaN(e)&&e<=t&&e>=0}function YB(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${My}\`.`}function JB(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${My} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var OC=AC,eV=MC;const IC=S.forwardRef(({className:e,value:t,...n},s)=>l.jsx(OC,{ref:s,className:rt("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:l.jsx(eV,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));IC.displayName=OC.displayName;function tV(e={}){const[t,n]=S.useState(!1),[s,a]=S.useState(null),[u,f]=S.useState(0),h=S.useCallback(async w=>{const N=await fetch("/api/uploads/request-url",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:w.name,size:w.size,contentType:w.type||"application/octet-stream"})});if(!N.ok){const T=await N.json().catch(()=>({}));throw new Error(T.error||"Failed to get upload URL")}return N.json()},[]),g=S.useCallback(async(w,N)=>{if(!(await fetch(N,{method:"PUT",body:w,headers:{"Content-Type":w.type||"application/octet-stream"}})).ok)throw new Error("Failed to upload file to storage")},[]),v=S.useCallback(async w=>{n(!0),a(null),f(0);try{f(10);const N=await h(w);return f(30),await g(w,N.uploadURL),f(100),e.onSuccess?.(N),N}catch(N){const T=N instanceof Error?N:new Error("Upload failed");return a(T),e.onError?.(T),null}finally{n(!1)}},[h,g,e]),y=S.useCallback(async w=>{const N=await fetch("/api/uploads/request-url",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:w.name,size:w.size,contentType:w.type||"application/octet-stream"})});if(!N.ok)throw new Error("Failed to get upload URL");return{method:"PUT",url:(await N.json()).uploadURL,headers:{"Content-Type":w.type||"application/octet-stream"}}},[]);return{uploadFile:v,getUploadParameters:y,isUploading:t,error:s,progress:u}}function Wf({value:e,onChange:t,placeholder:n="https://...",testId:s,previewClassName:a="w-24 h-24",showPreview:u=!0}){const{toast:f}=Rn(),[h,g]=S.useState(!1),{uploadFile:v}=tV({onSuccess:w=>{t(w.objectPath),f({title:"   "})},onError:w=>{f({title:"   ",description:w.message,variant:"destructive"})}}),y=async w=>{const N=w.target.files?.[0];if(N){if(!N.type.startsWith("image/")){f({title:"   ",variant:"destructive"});return}if(N.size>5*1024*1024){f({title:"       5 ",variant:"destructive"});return}g(!0),await v(N),g(!1),w.target.value=""}};return l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ht,{value:e,onChange:w=>t(w.target.value),placeholder:n,"data-testid":s,disabled:h}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"file",accept:"image/*",onChange:y,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",disabled:h,"data-testid":s?`${s}-upload`:void 0}),l.jsx(Ze,{type:"button",variant:"outline",size:"icon",disabled:h,className:"pointer-events-none",children:h?l.jsx(St,{className:"w-4 h-4 animate-spin"}):l.jsx(IE,{className:"w-4 h-4"})})]}),e&&l.jsx(Ze,{type:"button",variant:"ghost",size:"icon",onClick:()=>t(""),className:"text-destructive hover:text-destructive",children:l.jsx(ma,{className:"w-4 h-4"})})]}),u&&e&&l.jsx("div",{className:`relative bg-muted rounded-lg overflow-hidden ${a}`,children:l.jsx("img",{src:e,alt:"",className:"w-full h-full object-cover"})})]})}var Ry="Dialog",[DC,FC]=ho(Ry),[nV,Jr]=DC(Ry),zC=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:a,onOpenChange:u,modal:f=!0}=e,h=S.useRef(null),g=S.useRef(null),[v=!1,y]=Gf({prop:s,defaultProp:a,onChange:u});return l.jsx(nV,{scope:t,triggerRef:h,contentRef:g,contentId:bl(),titleId:bl(),descriptionId:bl(),open:v,onOpenChange:y,onOpenToggle:S.useCallback(()=>y(w=>!w),[y]),modal:f,children:n})};zC.displayName=Ry;var BC="DialogTrigger",VC=S.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Jr(BC,n),u=_t(t,a.triggerRef);return l.jsx(dt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Dy(a.open),...s,ref:u,onClick:Xe(e.onClick,a.onOpenToggle)})});VC.displayName=BC;var Oy="DialogPortal",[rV,UC]=DC(Oy,{forceMount:void 0}),$C=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:a}=e,u=Jr(Oy,t);return l.jsx(rV,{scope:t,forceMount:n,children:S.Children.map(s,f=>l.jsx(Zl,{present:n||u.open,children:l.jsx(Nh,{asChild:!0,container:a,children:f})}))})};$C.displayName=Oy;var bh="DialogOverlay",ZC=S.forwardRef((e,t)=>{const n=UC(bh,e.__scopeDialog),{forceMount:s=n.forceMount,...a}=e,u=Jr(bh,e.__scopeDialog);return u.modal?l.jsx(Zl,{present:s||u.open,children:l.jsx(sV,{...a,ref:t})}):null});ZC.displayName=bh;var iV=El("DialogOverlay.RemoveScroll"),sV=S.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Jr(bh,n);return l.jsx(Ey,{as:iV,allowPinchZoom:!0,shards:[a.contentRef],children:l.jsx(dt.div,{"data-state":Dy(a.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),ua="DialogContent",WC=S.forwardRef((e,t)=>{const n=UC(ua,e.__scopeDialog),{forceMount:s=n.forceMount,...a}=e,u=Jr(ua,e.__scopeDialog);return l.jsx(Zl,{present:s||u.open,children:u.modal?l.jsx(oV,{...a,ref:t}):l.jsx(aV,{...a,ref:t})})});WC.displayName=ua;var oV=S.forwardRef((e,t)=>{const n=Jr(ua,e.__scopeDialog),s=S.useRef(null),a=_t(t,n.contentRef,s);return S.useEffect(()=>{const u=s.current;if(u)return BN(u)},[]),l.jsx(HC,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Xe(e.onCloseAutoFocus,u=>{u.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Xe(e.onPointerDownOutside,u=>{const f=u.detail.originalEvent,h=f.button===0&&f.ctrlKey===!0;(f.button===2||h)&&u.preventDefault()}),onFocusOutside:Xe(e.onFocusOutside,u=>u.preventDefault())})}),aV=S.forwardRef((e,t)=>{const n=Jr(ua,e.__scopeDialog),s=S.useRef(!1),a=S.useRef(!1);return l.jsx(HC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:u=>{e.onCloseAutoFocus?.(u),u.defaultPrevented||(s.current||n.triggerRef.current?.focus(),u.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:u=>{e.onInteractOutside?.(u),u.defaultPrevented||(s.current=!0,u.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const f=u.target;n.triggerRef.current?.contains(f)&&u.preventDefault(),u.detail.originalEvent.type==="focusin"&&a.current&&u.preventDefault()}})}),HC=S.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:u,...f}=e,h=Jr(ua,n),g=S.useRef(null),v=_t(t,g);return DN(),l.jsxs(l.Fragment,{children:[l.jsx(ky,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:u,children:l.jsx(Bu,{role:"dialog",id:h.contentId,"aria-describedby":h.descriptionId,"aria-labelledby":h.titleId,"data-state":Dy(h.open),...f,ref:v,onDismiss:()=>h.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(cV,{titleId:h.titleId}),l.jsx(dV,{contentRef:g,descriptionId:h.descriptionId})]})]})}),Iy="DialogTitle",qC=S.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Jr(Iy,n);return l.jsx(dt.h2,{id:a.titleId,...s,ref:t})});qC.displayName=Iy;var KC="DialogDescription",GC=S.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Jr(KC,n);return l.jsx(dt.p,{id:a.descriptionId,...s,ref:t})});GC.displayName=KC;var QC="DialogClose",XC=S.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Jr(QC,n);return l.jsx(dt.button,{type:"button",...s,ref:t,onClick:Xe(e.onClick,()=>a.onOpenChange(!1))})});XC.displayName=QC;function Dy(e){return e?"open":"closed"}var YC="DialogTitleWarning",[lV,JC]=Pk(YC,{contentName:ua,titleName:Iy,docsSlug:"dialog"}),cV=({titleId:e})=>{const t=JC(YC),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return S.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},uV="DialogDescriptionWarning",dV=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${JC(uV).contentName}}.`;return S.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},ej=zC,tj=VC,nj=$C,Fy=ZC,zy=WC,By=qC,Vy=GC,Uy=XC;const da=ej,Vl=tj,fV=nj,rj=S.forwardRef(({className:e,...t},n)=>l.jsx(Fy,{ref:n,className:rt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));rj.displayName=Fy.displayName;const co=S.forwardRef(({className:e,children:t,...n},s)=>l.jsxs(fV,{children:[l.jsx(rj,{}),l.jsxs(zy,{ref:s,className:rt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,l.jsxs(Uy,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(ma,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));co.displayName=zy.displayName;const uo=({className:e,...t})=>l.jsx("div",{className:rt("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});uo.displayName="DialogHeader";const fo=S.forwardRef(({className:e,...t},n)=>l.jsx(By,{ref:n,className:rt("text-lg font-semibold leading-none tracking-tight",e),...t}));fo.displayName=By.displayName;const hV=S.forwardRef(({className:e,...t},n)=>l.jsx(Vy,{ref:n,className:rt("text-sm text-muted-foreground",e),...t}));hV.displayName=Vy.displayName;var ij="AlertDialog",[mV]=ho(ij,[FC]),us=FC(),sj=e=>{const{__scopeAlertDialog:t,...n}=e,s=us(t);return l.jsx(ej,{...s,...n,modal:!0})};sj.displayName=ij;var pV="AlertDialogTrigger",oj=S.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,a=us(n);return l.jsx(tj,{...a,...s,ref:t})});oj.displayName=pV;var gV="AlertDialogPortal",aj=e=>{const{__scopeAlertDialog:t,...n}=e,s=us(t);return l.jsx(nj,{...s,...n})};aj.displayName=gV;var vV="AlertDialogOverlay",lj=S.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,a=us(n);return l.jsx(Fy,{...a,...s,ref:t})});lj.displayName=vV;var kl="AlertDialogContent",[yV,xV]=mV(kl),_V=Ob("AlertDialogContent"),cj=S.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:s,...a}=e,u=us(n),f=S.useRef(null),h=_t(t,f),g=S.useRef(null);return l.jsx(lV,{contentName:kl,titleName:uj,docsSlug:"alert-dialog",children:l.jsx(yV,{scope:n,cancelRef:g,children:l.jsxs(zy,{role:"alertdialog",...u,...a,ref:h,onOpenAutoFocus:Xe(a.onOpenAutoFocus,v=>{v.preventDefault(),g.current?.focus({preventScroll:!0})}),onPointerDownOutside:v=>v.preventDefault(),onInteractOutside:v=>v.preventDefault(),children:[l.jsx(_V,{children:s}),l.jsx(bV,{contentRef:f})]})})})});cj.displayName=kl;var uj="AlertDialogTitle",dj=S.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,a=us(n);return l.jsx(By,{...a,...s,ref:t})});dj.displayName=uj;var fj="AlertDialogDescription",hj=S.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,a=us(n);return l.jsx(Vy,{...a,...s,ref:t})});hj.displayName=fj;var wV="AlertDialogAction",mj=S.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,a=us(n);return l.jsx(Uy,{...a,...s,ref:t})});mj.displayName=wV;var pj="AlertDialogCancel",gj=S.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,{cancelRef:a}=xV(pj,n),u=us(n),f=_t(t,a);return l.jsx(Uy,{...u,...s,ref:f})});gj.displayName=pj;var bV=({contentRef:e})=>{const t=`\`${kl}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${kl}\` by passing a \`${fj}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${kl}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return S.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},SV=sj,PV=oj,NV=aj,vj=lj,yj=cj,xj=mj,_j=gj,wj=dj,bj=hj;const Yu=SV,Ju=PV,CV=NV,Sj=S.forwardRef(({className:e,...t},n)=>l.jsx(vj,{className:rt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));Sj.displayName=vj.displayName;const Yl=S.forwardRef(({className:e,...t},n)=>l.jsxs(CV,{children:[l.jsx(Sj,{}),l.jsx(yj,{ref:n,className:rt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Yl.displayName=yj.displayName;const Jl=({className:e,...t})=>l.jsx("div",{className:rt("flex flex-col space-y-2 text-center sm:text-left",e),...t});Jl.displayName="AlertDialogHeader";const ec=({className:e,...t})=>l.jsx("div",{className:rt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ec.displayName="AlertDialogFooter";const tc=S.forwardRef(({className:e,...t},n)=>l.jsx(wj,{ref:n,className:rt("text-lg font-semibold",e),...t}));tc.displayName=wj.displayName;const nc=S.forwardRef(({className:e,...t},n)=>l.jsx(bj,{ref:n,className:rt("text-sm text-muted-foreground",e),...t}));nc.displayName=bj.displayName;const rc=S.forwardRef(({className:e,...t},n)=>l.jsx(xj,{ref:n,className:rt(Av(),e),...t}));rc.displayName=xj.displayName;const ic=S.forwardRef(({className:e,...t},n)=>l.jsx(_j,{ref:n,className:rt(Av({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));ic.displayName=_j.displayName;function jV(){const[,e]=fa();Rn(),Xr();const[t,n]=S.useState("dashboard"),[s,a]=S.useState(!1),{data:u,isLoading:f,error:h}=vt({queryKey:["/api/admin/me"],queryFn:async()=>{const y=await fetch("/api/admin/me",{credentials:"include"});if(!y.ok)throw new Error("Not authenticated");return y.json()},retry:!1});S.useEffect(()=>{h&&e("/admin/login")},[h,e]);const g=Pn({mutationFn:async()=>{await fetch("/api/admin/logout",{method:"POST",credentials:"include"})},onSuccess:()=>{e("/admin/login")}});if(f)return l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsx(St,{className:"w-8 h-8 animate-spin text-primary"})});if(!u)return null;const v=y=>{n(y),a(!1)};return l.jsxs("div",{className:"min-h-screen bg-background flex",children:[l.jsx(Ze,{variant:"ghost",size:"icon",className:"fixed top-4 right-4 z-50 md:hidden",onClick:()=>a(!s),"data-testid":"button-toggle-sidebar",children:s?l.jsx(ma,{className:"w-6 h-6"}):l.jsx(AE,{className:"w-6 h-6"})}),s&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 md:hidden",onClick:()=>a(!1)}),l.jsxs("aside",{className:`
        fixed md:static inset-y-0 right-0 z-40
        w-64 bg-card border-l border-border p-4 flex flex-col
        transform transition-transform duration-200 ease-in-out
        ${s?"translate-x-0":"translate-x-full md:translate-x-0"}
      `,children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-xl font-display font-bold text-primary",children:""}),l.jsx("p",{className:"text-sm text-muted-foreground",children:" "})]}),l.jsxs("nav",{className:"space-y-2 flex-1",children:[l.jsxs("button",{onClick:()=>v("dashboard"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${t==="dashboard"?"bg-primary text-primary-foreground":"hover:bg-muted"}`,"data-testid":"nav-dashboard",children:[l.jsx(TE,{className:"w-5 h-5"}),""]}),l.jsxs("button",{onClick:()=>v("categories"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${t==="categories"?"bg-primary text-primary-foreground":"hover:bg-muted"}`,"data-testid":"nav-categories",children:[l.jsx(kh,{className:"w-5 h-5"}),""]}),l.jsxs("button",{onClick:()=>v("cities"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${t==="cities"?"bg-primary text-primary-foreground":"hover:bg-muted"}`,"data-testid":"nav-cities",children:[l.jsx(_i,{className:"w-5 h-5"}),""]}),l.jsxs("button",{onClick:()=>v("businesses"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${t==="businesses"?"bg-primary text-primary-foreground":"hover:bg-muted"}`,"data-testid":"nav-businesses",children:[l.jsx(Wl,{className:"w-5 h-5"}),""]}),l.jsxs("button",{onClick:()=>v("subscriptions"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${t==="subscriptions"?"bg-primary text-primary-foreground":"hover:bg-muted"}`,"data-testid":"nav-subscriptions",children:[l.jsx(f1,{className:"w-5 h-5"}),""]}),l.jsxs("button",{onClick:()=>v("offers"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${t==="offers"?"bg-primary text-primary-foreground":"hover:bg-muted"}`,"data-testid":"nav-offers",children:[l.jsx(Xs,{className:"w-5 h-5"}),""]}),l.jsxs("button",{onClick:()=>v("reviews"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${t==="reviews"?"bg-primary text-primary-foreground":"hover:bg-muted"}`,"data-testid":"nav-reviews",children:[l.jsx(Eh,{className:"w-5 h-5"}),""]}),l.jsxs("button",{onClick:()=>v("settings"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${t==="settings"?"bg-primary text-primary-foreground":"hover:bg-muted"}`,"data-testid":"nav-settings",children:[l.jsx(LE,{className:"w-5 h-5"}),""]})]}),l.jsxs("div",{className:"border-t border-border pt-4 space-y-2",children:[l.jsx(Ut,{href:"/preview",children:l.jsxs(Ze,{variant:"outline",className:"w-full justify-start gap-2 border-primary text-primary hover:bg-primary/10","data-testid":"button-preview-site",children:[l.jsx(h1,{className:"w-5 h-5"})," "]})}),l.jsx(Ut,{href:"/",children:l.jsxs(Ze,{variant:"ghost",className:"w-full justify-start gap-2",children:[l.jsx(p1,{className:"w-5 h-5"})," "]})}),l.jsxs(Ze,{variant:"ghost",className:"w-full justify-start gap-2 text-destructive hover:text-destructive",onClick:()=>g.mutate(),"data-testid":"button-logout",children:[l.jsx(EE,{className:"w-5 h-5"})," "]})]})]}),l.jsxs("main",{className:"flex-1 p-8 overflow-auto",children:[l.jsx("div",{className:"flex items-center justify-between mb-6",children:l.jsx(Ut,{href:"/",children:l.jsxs(Ze,{variant:"outline",className:"gap-2","data-testid":"button-back-to-site",children:[l.jsx(Th,{className:"w-4 h-4"})," "]})})}),t==="dashboard"&&l.jsx(TV,{}),t==="categories"&&l.jsx(kV,{}),t==="cities"&&l.jsx(EV,{}),t==="businesses"&&l.jsx(AV,{}),t==="subscriptions"&&l.jsx(RV,{}),t==="offers"&&l.jsx(OV,{}),t==="reviews"&&l.jsx(IV,{}),t==="settings"&&l.jsx(DV,{})]})]})}function TV(){const{toast:e}=Rn(),{data:t,isLoading:n}=vt({queryKey:["/api/admin/statistics"],queryFn:async()=>(await fetch("/api/admin/statistics")).json()}),{data:s}=vt({queryKey:["/api/admin/activity-logs"],queryFn:async()=>(await fetch("/api/admin/activity-logs?limit=10")).json()}),{data:a}=vt({queryKey:["/api/admin/businesses"],queryFn:async()=>(await fetch("/api/admin/businesses")).json()}),u=a?.filter(g=>{const v=ml(g.joinDate,g.subscriptionActivatedAt,g.subscriptionTier);return v.daysRemaining!==null&&v.daysRemaining>0&&v.daysRemaining<=7}).map(g=>({...g,daysRemaining:ml(g.joinDate,g.subscriptionActivatedAt,g.subscriptionTier).daysRemaining}))||[],f=a?.filter(g=>{const v=ml(g.joinDate,g.subscriptionActivatedAt,g.subscriptionTier);return v.status==="expired"||v.status==="trial_expired"}).map(g=>({...g,status:ml(g.joinDate,g.subscriptionActivatedAt,g.subscriptionTier).status}))||[],h=async g=>{try{const y=await(await fetch(`/api/admin/export/${g}`)).blob(),w=window.URL.createObjectURL(y),N=document.createElement("a");N.href=w,N.download=`${g}.csv`,document.body.appendChild(N),N.click(),document.body.removeChild(N),window.URL.revokeObjectURL(w),e({title:"   "})}catch{e({title:"   ",variant:"destructive"})}};return n?l.jsx("div",{className:"flex justify-center py-8",children:l.jsx(St,{className:"w-8 h-8 animate-spin text-primary"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-2xl font-display font-bold",children:" "}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Ze,{variant:"outline",size:"sm",onClick:()=>h("businesses"),"data-testid":"button-export-businesses",children:" "}),l.jsx(Ze,{variant:"outline",size:"sm",onClick:()=>h("subscriptions"),"data-testid":"button-export-subscriptions",children:" "}),l.jsx(Ze,{variant:"outline",size:"sm",onClick:()=>h("reviews"),"data-testid":"button-export-reviews",children:" "})]})]}),f.length>0&&l.jsxs(ot,{className:"border-red-500 bg-red-500/10",children:[l.jsxs(Gt,{className:"flex flex-row items-center gap-2 pb-2",children:[l.jsx(xg,{className:"w-5 h-5 text-red-500"}),l.jsxs(Qt,{className:"text-sm font-medium text-red-500",children:["  -    (",f.length,")"]})]}),l.jsx(at,{children:l.jsxs("div",{className:"space-y-2",children:[f.slice(0,5).map(g=>l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{children:g.name}),l.jsx(Jo,{variant:"destructive",className:"text-xs",children:g.status==="trial_expired"?"  ":" "})]},g.id)),f.length>5&&l.jsxs("div",{className:"text-xs text-muted-foreground text-center pt-2",children:[" ",f.length-5,"  ..."]})]})})]}),u.length>0&&l.jsxs(ot,{className:"border-amber-500 bg-amber-500/10",children:[l.jsxs(Gt,{className:"flex flex-row items-center gap-2 pb-2",children:[l.jsx(xg,{className:"w-5 h-5 text-amber-500"}),l.jsxs(Qt,{className:"text-sm font-medium text-amber-500",children:["   (",u.length,")"]})]}),l.jsx(at,{children:l.jsx("div",{className:"space-y-2",children:u.slice(0,3).map(g=>l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{children:g.name}),l.jsxs("span",{className:"text-amber-500",children:[" ",g.daysRemaining," "]})]},g.id))})})]}),l.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[l.jsxs(ot,{children:[l.jsxs(Gt,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[l.jsx(Qt,{className:"text-sm font-medium",children:" "}),l.jsx(Wl,{className:"w-5 h-5 text-muted-foreground"})]}),l.jsx(at,{children:l.jsx("div",{className:"text-3xl font-bold",children:t?.totalBusinesses||0})})]}),l.jsxs(ot,{children:[l.jsxs(Gt,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[l.jsx(Qt,{className:"text-sm font-medium",children:" VIP"}),l.jsx(iu,{className:"w-5 h-5 text-primary"})]}),l.jsx(at,{children:l.jsx("div",{className:"text-3xl font-bold text-primary",children:t?.vipBusinesses||0})})]}),l.jsxs(ot,{children:[l.jsxs(Gt,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[l.jsx(Qt,{className:"text-sm font-medium",children:" "}),l.jsx(xv,{className:"w-5 h-5 text-muted-foreground"})]}),l.jsx(at,{children:l.jsx("div",{className:"text-3xl font-bold",children:t?.normalBusinesses||0})})]}),l.jsxs(ot,{children:[l.jsxs(Gt,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[l.jsx(Qt,{className:"text-sm font-medium",children:""}),l.jsx(Qs,{className:"w-5 h-5 text-muted-foreground"})]}),l.jsx(at,{children:l.jsx("div",{className:"text-3xl font-bold",children:t?.trialBusinesses||0})})]})]}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[l.jsxs(ot,{children:[l.jsxs(Gt,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[l.jsx(Qt,{className:"text-sm font-medium",children:" "}),l.jsx(Eh,{className:"w-5 h-5 text-muted-foreground"})]}),l.jsxs(at,{children:[l.jsx("div",{className:"text-3xl font-bold",children:t?.totalReviews||0}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[t?.recentReviews||0,"   30 "]})]})]}),l.jsxs(ot,{children:[l.jsxs(Gt,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[l.jsx(Qt,{className:"text-sm font-medium",children:" "}),l.jsx(ts,{className:"w-5 h-5 text-primary"})]}),l.jsx(at,{children:l.jsx("div",{className:"text-3xl font-bold",children:t?.averageRating||0})})]}),l.jsxs(ot,{children:[l.jsxs(Gt,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[l.jsx(Qt,{className:"text-sm font-medium",children:" "}),l.jsx(Xs,{className:"w-5 h-5 text-muted-foreground"})]}),l.jsxs(at,{children:[l.jsx("div",{className:"text-3xl font-bold",children:t?.activeOffers||0}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["  ",t?.totalOffers||0," "]})]})]})]}),l.jsxs(ot,{className:"border-primary/30 bg-primary/5",children:[l.jsxs(Gt,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[l.jsx(Qt,{className:"text-sm font-medium",children:"  "}),l.jsx(yv,{className:"w-5 h-5 text-primary"})]}),l.jsxs(at,{children:[l.jsxs("div",{className:"text-3xl font-bold text-primary",children:[(t?.monthlyRevenue||0).toLocaleString("en")," ."]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"VIP: 10,000 . | : 5,000 ."})]})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsxs(ot,{children:[l.jsx(Gt,{children:l.jsx(Qt,{className:"text-lg",children:"  "})}),l.jsx(at,{children:l.jsx("div",{className:"space-y-3",children:t?.topRatedBusinesses?.map((g,v)=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"w-6 h-6 rounded-full bg-primary/20 text-primary text-sm flex items-center justify-center",children:v+1}),l.jsx("span",{className:"truncate",children:g.name})]}),l.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[l.jsx(ts,{className:"w-4 h-4 text-primary fill-primary"}),l.jsx("span",{children:g.rating?.toFixed(1)||"-"})]})]},g.id))})})]}),l.jsxs(ot,{children:[l.jsx(Gt,{children:l.jsx(Qt,{className:"text-lg",children:"  "})}),l.jsx(at,{children:l.jsx("div",{className:"space-y-3",children:t?.businessesByCategory?.map(g=>l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:g.name}),l.jsx("span",{children:g.count})]}),l.jsx(IC,{value:g.count/(t.totalBusinesses||1)*100,className:"h-2"})]},g.name))})})]})]}),l.jsxs(ot,{children:[l.jsx(Gt,{children:l.jsx(Qt,{className:"text-lg",children:"  "})}),l.jsx(at,{children:s&&s.length>0?l.jsx("div",{className:"space-y-2",children:s.map(g=>l.jsxs("div",{className:"flex items-center justify-between text-sm border-b border-border pb-2 last:border-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-medium",children:g.action}),l.jsx("span",{className:"text-muted-foreground",children:g.entityType}),g.details&&l.jsxs("span",{className:"text-muted-foreground",children:["- ",g.details]})]}),l.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(g.createdAt).toLocaleDateString("ar-EG")})]},g.id))}):l.jsx("p",{className:"text-muted-foreground text-center py-4",children:"   "})})]})]})}function kV(){const{toast:e}=Rn(),t=Xr(),[n,s]=S.useState(!1),[a,u]=S.useState(null),{data:f,isLoading:h}=vt({queryKey:["/api/admin/categories"],queryFn:async()=>(await fetch("/api/admin/categories")).json()}),g=Pn({mutationFn:async w=>{const N=await fetch("/api/admin/categories",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)});if(!N.ok)throw new Error((await N.json()).message);return N.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/categories"]}),t.invalidateQueries({queryKey:["/api/categories"]}),e({title:"   "}),s(!1)},onError:w=>{e({title:"",description:w.message,variant:"destructive"})}}),v=Pn({mutationFn:async({id:w,data:N})=>{const T=await fetch(`/api/admin/categories/${w}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)});if(!T.ok)throw new Error((await T.json()).message);return T.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/categories"]}),t.invalidateQueries({queryKey:["/api/categories"]}),e({title:"   "}),u(null)},onError:w=>{e({title:"",description:w.message,variant:"destructive"})}}),y=Pn({mutationFn:async w=>{const N=await fetch(`/api/admin/categories/${w}`,{method:"DELETE"});if(!N.ok)throw new Error((await N.json()).message)},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/categories"]}),t.invalidateQueries({queryKey:["/api/categories"]}),e({title:"  "})},onError:w=>{e({title:"",description:w.message,variant:"destructive"})}});return l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-2xl font-display font-bold",children:""}),l.jsxs(da,{open:n,onOpenChange:s,children:[l.jsx(Vl,{asChild:!0,children:l.jsxs(Ze,{className:"gap-2","data-testid":"button-add-category",children:[l.jsx(Ll,{className:"w-4 h-4"})," "]})}),l.jsxs(co,{className:"max-h-[90vh] overflow-y-auto",children:[l.jsx(uo,{children:l.jsx(fo,{children:"  "})}),l.jsx(ob,{onSubmit:w=>g.mutate(w),isLoading:g.isPending})]})]})]}),h?l.jsx("div",{className:"flex justify-center py-8",children:l.jsx(St,{className:"w-8 h-8 animate-spin text-primary"})}):l.jsx("div",{className:"grid gap-4",children:f?.map(w=>l.jsx(ot,{children:l.jsxs(at,{className:"flex items-center justify-between gap-4 p-4",children:[l.jsxs("div",{className:"flex items-center gap-4 min-w-0 flex-1",children:[l.jsx("div",{className:"w-16 h-16 bg-muted rounded-lg overflow-hidden flex-shrink-0",children:w.imageUrl?l.jsx("img",{src:w.imageUrl,alt:w.name,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center bg-primary/10",children:l.jsx("span",{className:"text-2xl",children:w.icon})})}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("h3",{className:"font-bold truncate",children:w.name}),l.jsx("p",{className:"text-sm text-muted-foreground truncate",children:w.nameEn||w.slug}),w.icon&&l.jsxs("p",{className:"text-xs text-muted-foreground",children:[": ",w.icon]})]})]}),l.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[l.jsxs(da,{open:a?.id===w.id,onOpenChange:N=>!N&&u(null),children:[l.jsx(Vl,{asChild:!0,children:l.jsx(Ze,{variant:"ghost",size:"icon",onClick:()=>u(w),"data-testid":`button-edit-category-${w.id}`,children:l.jsx(gv,{className:"w-4 h-4"})})}),l.jsxs(co,{className:"max-h-[90vh] overflow-y-auto",children:[l.jsx(uo,{children:l.jsx(fo,{children:" "})}),l.jsx(ob,{category:w,onSubmit:N=>v.mutate({id:w.id,data:N}),isLoading:v.isPending})]})]}),l.jsxs(Yu,{children:[l.jsx(Ju,{asChild:!0,children:l.jsx(Ze,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive","data-testid":`button-delete-category-${w.id}`,children:l.jsx(Uu,{className:"w-4 h-4"})})}),l.jsxs(Yl,{children:[l.jsxs(Jl,{children:[l.jsx(tc,{children:"  "}),l.jsx(nc,{children:"    .      ."})]}),l.jsxs(ec,{children:[l.jsx(ic,{children:""}),l.jsx(rc,{onClick:()=>y.mutate(w.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:""})]})]})]})]})]})},w.id))})]})}function ob({category:e,onSubmit:t,isLoading:n}){const[s,a]=S.useState(e?.name||""),[u,f]=S.useState(e?.nameEn||""),[h,g]=S.useState(e?.slug||""),[v,y]=S.useState(e?.icon||""),[w,N]=S.useState(e?.imageUrl||""),[T,A]=S.useState(e?.keywords?.join(", ")||""),[C,j]=S.useState(e?.keywordsEn?.join(", ")||""),M=R=>{R.preventDefault();const D=T.split(",").map(V=>V.trim()).filter(V=>V),O=C.split(",").map(V=>V.trim()).filter(V=>V);t({name:s,nameEn:u,slug:h,icon:v,imageUrl:w||null,keywords:D.length>0?D:null,keywordsEn:O.length>0?O:null})};return l.jsxs("form",{onSubmit:M,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"  *"}),l.jsx(ht,{value:s,onChange:R=>a(R.target.value),required:!0,"data-testid":"input-category-name"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:" "}),l.jsx(ht,{value:u,onChange:R=>f(R.target.value),"data-testid":"input-category-name-en"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:" (slug) *"}),l.jsx(ht,{value:h,onChange:R=>g(R.target.value),required:!0,"data-testid":"input-category-slug"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:" *"}),l.jsx(ht,{value:v,onChange:R=>y(R.target.value),required:!0,placeholder:": Utensils","data-testid":"input-category-icon"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:" "}),l.jsx(ht,{value:w,onChange:R=>N(R.target.value),placeholder:"https://...","data-testid":"input-category-image"}),w&&l.jsx("div",{className:"mt-2 relative w-full h-32 bg-muted rounded-lg overflow-hidden",children:l.jsx("img",{src:w,alt:" ",className:"w-full h-full object-cover",onError:R=>{R.target.style.display="none"}})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"  "}),l.jsx(ht,{value:T,onChange:R=>A(R.target.value),placeholder:": , , ,  ( )","data-testid":"input-category-keywords"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"    -    "})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"  "}),l.jsx(ht,{value:C,onChange:R=>j(R.target.value),placeholder:"e.g: food, eat, sandwich, restaurant","data-testid":"input-category-keywords-en"})]}),l.jsx(Ze,{type:"submit",className:"w-full",disabled:n,"data-testid":"button-submit-category",children:n?l.jsx(St,{className:"w-4 h-4 animate-spin"}):e?"":""})]})}function EV(){const{toast:e}=Rn(),t=Xr(),[n,s]=S.useState(!1),[a,u]=S.useState(""),[f,h]=S.useState(""),[g,v]=S.useState(""),{data:y,isLoading:w}=vt({queryKey:["/api/admin/cities"],queryFn:async()=>(await fetch("/api/admin/cities",{credentials:"include"})).json()}),N=Pn({mutationFn:async C=>{const j=await fetch("/api/admin/cities",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(C)});if(!j.ok)throw new Error((await j.json()).message);return j.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/cities"]}),t.invalidateQueries({queryKey:["/api/cities"]}),e({title:"   "}),s(!1),u(""),h(""),v("")},onError:C=>{e({title:"",description:C.message,variant:"destructive"})}}),T=Pn({mutationFn:async C=>{const j=await fetch(`/api/admin/cities/${C}`,{method:"DELETE",credentials:"include"});if(!j.ok)throw new Error((await j.json()).message)},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/cities"]}),t.invalidateQueries({queryKey:["/api/cities"]}),e({title:"  "})},onError:C=>{e({title:"",description:C.message,variant:"destructive"})}}),A=C=>{if(C.preventDefault(),!a.trim()||!g.trim()){e({title:"",description:"  ",variant:"destructive"});return}N.mutate({name:a.trim(),nameEn:f.trim(),slug:g.trim().toLowerCase().replace(/\s+/g,"-")})};return l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-2xl font-display font-bold",children:""}),l.jsxs(da,{open:n,onOpenChange:s,children:[l.jsx(Vl,{asChild:!0,children:l.jsxs(Ze,{className:"gap-2","data-testid":"button-add-city",children:[l.jsx(Ll,{className:"w-4 h-4"})," "]})}),l.jsxs(co,{children:[l.jsx(uo,{children:l.jsx(fo,{children:"  "})}),l.jsxs("form",{onSubmit:A,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"   *"}),l.jsx(ht,{value:a,onChange:C=>u(C.target.value),placeholder:": ","data-testid":"input-city-name"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"  "}),l.jsx(ht,{value:f,onChange:C=>h(C.target.value),placeholder:"e.g: Basra","data-testid":"input-city-name-en"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:" (Slug) *"}),l.jsx(ht,{value:g,onChange:C=>v(C.target.value),placeholder:": basra","data-testid":"input-city-slug"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"   -  "})]}),l.jsx(Ze,{type:"submit",className:"w-full",disabled:N.isPending,"data-testid":"button-submit-city",children:N.isPending?l.jsx(St,{className:"w-4 h-4 animate-spin"}):""})]})]})]})]}),w?l.jsx("div",{className:"flex justify-center py-8",children:l.jsx(St,{className:"w-8 h-8 animate-spin text-primary"})}):y&&y.length>0?l.jsx("div",{className:"grid gap-4",children:y.map(C=>l.jsx(ot,{children:l.jsxs(at,{className:"flex items-center justify-between p-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:l.jsx(_i,{className:"w-5 h-5 text-primary"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold",children:C.name}),l.jsx("p",{className:"text-sm text-muted-foreground",children:C.nameEn||C.slug})]})]}),l.jsxs(Yu,{children:[l.jsx(Ju,{asChild:!0,children:l.jsx(Ze,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive","data-testid":`button-delete-city-${C.id}`,children:l.jsx(Uu,{className:"w-4 h-4"})})}),l.jsxs(Yl,{children:[l.jsxs(Jl,{children:[l.jsx(tc,{children:"  "}),l.jsxs(nc,{children:['   "',C.name,'" .      .']})]}),l.jsxs(ec,{children:[l.jsx(ic,{children:""}),l.jsx(rc,{onClick:()=>T.mutate(C.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:""})]})]})]})]})},C.id))}):l.jsx(ot,{children:l.jsxs(at,{className:"flex flex-col items-center justify-center py-12",children:[l.jsx(_i,{className:"w-12 h-12 text-muted-foreground mb-4"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"   "}),l.jsxs(Ze,{onClick:()=>s(!0),className:"gap-2",children:[l.jsx(Ll,{className:"w-4 h-4"}),"  "]})]})})]})}function AV(){const{toast:e}=Rn(),t=Xr(),[n,s]=S.useState(!1),[a,u]=S.useState(null),[f,h]=S.useState("all"),{data:g,isLoading:v}=vt({queryKey:["/api/admin/businesses"],queryFn:async()=>(await fetch("/api/admin/businesses")).json()}),{data:y}=vt({queryKey:["/api/admin/categories"],queryFn:async()=>(await fetch("/api/admin/categories")).json()}),w=(g||[]).reduce((j,M)=>{const R=M.categoryId?.toString()||"uncategorized";return j[R]||(j[R]=[]),j[R].push(M),j},{}),N=f==="all"?g:g?.filter(j=>j.categoryId?.toString()===f),T=Pn({mutationFn:async j=>{const M=await fetch("/api/admin/businesses",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)});if(!M.ok)throw new Error((await M.json()).message);return M.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/businesses"]}),t.invalidateQueries({queryKey:["/api/businesses"]}),e({title:"   "}),s(!1)},onError:j=>{e({title:"",description:j.message,variant:"destructive"})}}),A=Pn({mutationFn:async({id:j,data:M})=>{const R=await fetch(`/api/admin/businesses/${j}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(M)});if(!R.ok)throw new Error((await R.json()).message);return R.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/businesses"]}),t.invalidateQueries({queryKey:["/api/businesses"]}),e({title:"   "}),u(null)},onError:j=>{e({title:"",description:j.message,variant:"destructive"})}}),C=Pn({mutationFn:async j=>{const M=await fetch(`/api/admin/businesses/${j}`,{method:"DELETE"});if(!M.ok)throw new Error((await M.json()).message)},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/businesses"]}),t.invalidateQueries({queryKey:["/api/businesses"]}),e({title:"  "})},onError:j=>{e({title:"",description:j.message,variant:"destructive"})}});return l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-6 gap-4 flex-wrap",children:[l.jsx("h2",{className:"text-2xl font-display font-bold",children:""}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs(ao,{value:f,onValueChange:h,children:[l.jsx(os,{className:"w-48","data-testid":"filter-category",children:l.jsx(lo,{placeholder:" "})}),l.jsxs(as,{children:[l.jsx($n,{value:"all",children:" "}),y?.map(j=>l.jsxs($n,{value:j.id.toString(),children:[j.name," (",w[j.id.toString()]?.length||0,")"]},j.id))]})]}),l.jsxs(da,{open:n,onOpenChange:s,children:[l.jsx(Vl,{asChild:!0,children:l.jsxs(Ze,{className:"gap-2","data-testid":"button-add-business",children:[l.jsx(Ll,{className:"w-4 h-4"})," "]})}),l.jsxs(co,{className:"max-h-[90vh] overflow-y-auto",children:[l.jsx(uo,{children:l.jsx(fo,{children:"  "})}),l.jsx(Pj,{categories:y||[],onSubmit:j=>T.mutate(j),isLoading:T.isPending})]})]})]})]}),v?l.jsx("div",{className:"flex justify-center py-8",children:l.jsx(St,{className:"w-8 h-8 animate-spin text-primary"})}):f==="all"?l.jsx("div",{className:"space-y-6",children:y?.map(j=>{const M=w[j.id.toString()]||[];return M.length===0?null:l.jsxs("div",{children:[l.jsxs("h3",{className:"font-bold text-lg mb-3 flex items-center gap-2 text-primary",children:[l.jsx(kh,{className:"w-5 h-5"}),j.name,l.jsxs("span",{className:"text-sm text-muted-foreground font-normal",children:["(",M.length,")"]})]}),l.jsx("div",{className:"grid gap-3 pr-4",children:M.map(R=>l.jsx(ab,{business:R,categories:y,editingBusiness:a,setEditingBusiness:u,onUpdate:(D,O)=>A.mutate({id:D,data:O}),onDelete:D=>C.mutate(D),isUpdating:A.isPending},R.id))})]},j.id)})}):l.jsx("div",{className:"grid gap-4",children:N?.map(j=>l.jsx(ab,{business:j,categories:y||[],editingBusiness:a,setEditingBusiness:u,onUpdate:(M,R)=>A.mutate({id:M,data:R}),onDelete:M=>C.mutate(M),isUpdating:A.isPending},j.id))})]})}function ab({business:e,categories:t,editingBusiness:n,setEditingBusiness:s,onUpdate:a,onDelete:u,isUpdating:f}){const h=ml(e.joinDate,e.subscriptionActivatedAt,e.subscriptionTier),g=h.status==="expired"||h.status==="trial_expired";return l.jsx(ot,{className:g?"border-red-500/50 bg-red-500/5":"",children:l.jsxs(at,{className:"flex items-center justify-between p-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"w-16 h-16 bg-muted rounded-lg overflow-hidden relative",children:[e.imageUrl?l.jsx("img",{src:e.imageUrl,alt:e.name,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center",children:l.jsx(Wl,{className:"w-6 h-6 text-muted-foreground"})}),g&&l.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:l.jsx(pv,{className:"w-6 h-6 text-red-500"})})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h3",{className:"font-bold",children:e.name}),g&&l.jsx(Jo,{variant:"destructive",className:"text-xs",children:h.status==="trial_expired"?" ":""})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:e.category?.name}),e.isVerified&&!g&&l.jsx("span",{className:"text-xs text-primary",children:""}),g&&l.jsx("p",{className:"text-xs text-red-500",children:"  "})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(da,{open:n?.id===e.id,onOpenChange:v=>!v&&s(null),children:[l.jsx(Vl,{asChild:!0,children:l.jsx(Ze,{variant:"ghost",size:"icon",onClick:()=>s(e),"data-testid":`button-edit-business-${e.id}`,children:l.jsx(gv,{className:"w-4 h-4"})})}),l.jsxs(co,{className:"max-h-[90vh] overflow-y-auto",children:[l.jsx(uo,{children:l.jsx(fo,{children:" "})}),l.jsx(Pj,{business:e,categories:t||[],onSubmit:v=>a(e.id,v),isLoading:f})]})]}),l.jsxs(Yu,{children:[l.jsx(Ju,{asChild:!0,children:l.jsx(Ze,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive","data-testid":`button-delete-business-${e.id}`,children:l.jsx(Uu,{className:"w-4 h-4"})})}),l.jsxs(Yl,{children:[l.jsxs(Jl,{children:[l.jsx(tc,{children:"  "}),l.jsx(nc,{children:"         ."})]}),l.jsxs(ec,{children:[l.jsx(ic,{children:""}),l.jsx(rc,{onClick:()=>u(e.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:""})]})]})]})]})]})})}const LV=new Sy.Icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});function MV({position:e,onPositionChange:t}){return gz({click(n){t([n.latlng.lat,n.latlng.lng])}}),e?l.jsx(jy,{position:e,icon:LV}):null}function Pj({business:e,categories:t,onSubmit:n,isLoading:s}){const[a,u]=S.useState(e?.name||""),[f,h]=S.useState(e?.nameEn||""),[g,v]=S.useState(e?.categoryId?.toString()||""),[y,w]=S.useState(e?.description||""),[N,T]=S.useState(e?.address||""),[A,C]=S.useState(e?.phone||""),[j,M]=S.useState(e?.whatsapp||""),[R,D]=S.useState(e?.imageUrl||""),[O,V]=S.useState(e?.storefrontImageUrl||""),[Z,q]=S.useState(e?.galleryImages||["","","",""]),[J,he]=S.useState(e?.isVerified||!1),[me,_e]=S.useState(e?.latitude?.toString()||""),[le,Re]=S.useState(e?.longitude?.toString()||""),[te,ge]=S.useState(!1),[de,ce]=S.useState(!1),[$,oe]=S.useState(e?.instagram||""),[X,z]=S.useState(e?.facebook||""),[Y,Ne]=S.useState(e?.tiktok||""),[ye,we]=S.useState(e?.joinDate?new Date(e.joinDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0]),[pe,fe]=S.useState(e?.subscriptionActivatedAt?new Date(e.subscriptionActivatedAt).toISOString().split("T")[0]:""),[Se,qe]=S.useState(e?.subscriptionTier||"trial"),Fe={isOpen:!0,openTime:"09:00",closeTime:"21:00"},Je=Iv(e?.workingHoursJson),[lt,kt]=S.useState({sunday:Je?.sunday||{...Fe},monday:Je?.monday||{...Fe},tuesday:Je?.tuesday||{...Fe},wednesday:Je?.wednesday||{...Fe},thursday:Je?.thursday||{...Fe},friday:Je?.friday||{isOpen:!1},saturday:Je?.saturday||{...Fe}}),hn={sunday:"",monday:"",tuesday:"",wednesday:"",thursday:"",friday:"",saturday:""},Zn=(je,Et,Wn)=>{kt(_o=>({..._o,[je]:{..._o[je],[Et]:Wn}}))},Tr=[31.9539,35.9106],jn=me&&le?[parseFloat(me),parseFloat(le)]:null,Ci=je=>{_e(je[0].toFixed(6)),Re(je[1].toFixed(6))},xo=(je,Et)=>{const Wn=[...Z];Wn[je]=Et,q(Wn)},ei=()=>{q([...Z,""])},dr=je=>{je.preventDefault();const Et=Z.filter(Wn=>Wn.trim()!=="");n({name:a,nameEn:f||null,categoryId:parseInt(g),description:y||null,address:N||null,phone:A||null,whatsapp:j||null,imageUrl:R||null,storefrontImageUrl:O||null,galleryImages:Et.length>0?Et:null,isVerified:Se==="vip"?!0:J,latitude:me?parseFloat(me):null,longitude:le?parseFloat(le):null,workingHoursJson:JSON.stringify(lt),instagram:$||null,facebook:X||null,tiktok:Y||null,joinDate:ye?new Date(ye):new Date,subscriptionActivatedAt:pe?new Date(pe):null,subscriptionTier:Se})};return l.jsxs("form",{onSubmit:dr,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"  *"}),l.jsx(ht,{value:a,onChange:je=>u(je.target.value),required:!0,"data-testid":"input-business-name"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:" "}),l.jsx(ht,{value:f,onChange:je=>h(je.target.value),"data-testid":"input-business-name-en"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:" *"}),l.jsxs(ao,{value:g,onValueChange:v,children:[l.jsx(os,{"data-testid":"select-business-category",children:l.jsx(lo,{placeholder:" "})}),l.jsx(as,{children:t.map(je=>l.jsx($n,{value:je.id.toString(),children:je.name},je.id))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:""}),l.jsx(Kh,{value:y,onChange:je=>w(je.target.value),"data-testid":"input-business-description"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:""}),l.jsx(ht,{value:N,onChange:je=>T(je.target.value),"data-testid":"input-business-address"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:""}),l.jsx(ht,{value:A,onChange:je=>C(je.target.value),"data-testid":"input-business-phone"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:""}),l.jsx(ht,{value:j,onChange:je=>M(je.target.value),"data-testid":"input-business-whatsapp"})]})]}),l.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg border border-border space-y-3",children:[l.jsx("h4",{className:"font-medium text-sm",children:"  "}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Instagram"}),l.jsx(ht,{value:$,onChange:je=>oe(je.target.value),placeholder:"https://instagram.com/...","data-testid":"input-business-instagram"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Facebook"}),l.jsx(ht,{value:X,onChange:je=>z(je.target.value),placeholder:"https://facebook.com/...","data-testid":"input-business-facebook"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"TikTok"}),l.jsx(ht,{value:Y,onChange:je=>Ne(je.target.value),placeholder:"https://tiktok.com/@...","data-testid":"input-business-tiktok"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[l.jsx(CE,{className:"w-4 h-4"})," "]}),l.jsx(Wf,{value:R,onChange:D,placeholder:"https://...",testId:"input-business-image",previewClassName:"w-24 h-24"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[l.jsx(Wl,{className:"w-4 h-4"})," "]}),l.jsx(Wf,{value:O,onChange:V,placeholder:"https://...",testId:"input-business-storefront",previewClassName:"w-full h-40"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[l.jsx(yg,{className:"w-4 h-4"}),"  (4   )"]}),l.jsx("div",{className:"grid grid-cols-2 gap-3",children:Z.map((je,Et)=>l.jsx("div",{children:l.jsx(Wf,{value:je,onChange:Wn=>xo(Et,Wn),placeholder:` ${Et+1}`,testId:`input-gallery-image-${Et}`,previewClassName:"w-full h-24"})},Et))}),l.jsxs(Ze,{type:"button",variant:"outline",size:"sm",onClick:ei,className:"w-full mt-2","data-testid":"button-add-gallery-image",children:[l.jsx(Ll,{className:"w-4 h-4 ml-2"}),"  "]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[l.jsx(_i,{className:"w-4 h-4"}),"  "]}),l.jsx(Ze,{type:"button",variant:"outline",onClick:()=>ge(!te),className:"w-full","data-testid":"button-toggle-map",children:te?" ":"   "}),te&&l.jsx("div",{className:"mt-2 rounded-lg overflow-hidden border border-border",style:{height:"250px"},children:l.jsxs(Cy,{center:jn||Tr,zoom:13,style:{height:"100%",width:"100%"},children:[l.jsx(Ty,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),l.jsx(MV,{position:jn,onPositionChange:Ci})]})}),jn&&l.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[": ",me,", ",le]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-muted-foreground",children:" "}),l.jsx(ht,{value:me,onChange:je=>_e(je.target.value),placeholder:"31.9539","data-testid":"input-business-latitude"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-muted-foreground",children:" "}),l.jsx(ht,{value:le,onChange:je=>Re(je.target.value),placeholder:"35.9106","data-testid":"input-business-longitude"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[l.jsx(c1,{className:"w-4 h-4"})," "]}),l.jsx(Ze,{type:"button",variant:"outline",onClick:()=>ce(!de),className:"w-full","data-testid":"button-toggle-hours",children:de?"  ":"  "}),de&&l.jsx("div",{className:"mt-2 space-y-3 p-3 bg-muted/50 rounded-lg border border-border",children:Object.keys(hn).map(je=>l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsx("div",{className:"w-20 text-sm font-medium",children:hn[je]}),l.jsx("input",{type:"checkbox",checked:lt[je]?.isOpen??!1,onChange:Et=>Zn(je,"isOpen",Et.target.checked),className:"w-4 h-4","data-testid":`checkbox-hours-${je}`}),l.jsx("span",{className:"text-xs text-muted-foreground",children:lt[je]?.isOpen?"":""}),lt[je]?.isOpen&&l.jsxs(l.Fragment,{children:[l.jsx(ht,{type:"time",value:lt[je]?.openTime||"09:00",onChange:Et=>Zn(je,"openTime",Et.target.value),className:"w-24 h-8 text-xs","data-testid":`input-hours-${je}-open`}),l.jsx("span",{className:"text-xs",children:"-"}),l.jsx(ht,{type:"time",value:lt[je]?.closeTime||"21:00",onChange:Et=>Zn(je,"closeTime",Et.target.value),className:"w-24 h-8 text-xs","data-testid":`input-hours-${je}-close`})]})]},je))})]}),l.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg border border-border space-y-4",children:[l.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[l.jsx(f1,{className:"w-4 h-4"})," "]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:" "}),l.jsx(ht,{type:"date",value:ye,onChange:je=>we(je.target.value),"data-testid":"input-business-join-date"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"  "}),l.jsx(ht,{type:"date",value:pe,onChange:je=>fe(je.target.value),"data-testid":"input-business-subscription-activated"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:" "}),l.jsxs(ao,{value:Se,onValueChange:qe,children:[l.jsx(os,{"data-testid":"select-subscription-tier",children:l.jsx(lo,{})}),l.jsxs(as,{children:[l.jsx($n,{value:"trial",children:"  ( - )"}),l.jsx($n,{value:"regular",children:" (5,000 ./)"}),l.jsx($n,{value:"vip",children:"VIP (10,000 ./) -  + "})]})]})]}),Se==="vip"&&l.jsx("div",{className:"p-2 bg-amber-500/10 border border-amber-500/30 rounded text-sm text-amber-400",children:" VIP         "})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",id:"isVerified",checked:Se==="vip"?!0:J,onChange:je=>he(je.target.checked),disabled:Se==="vip",className:"w-4 h-4 disabled:opacity-50","data-testid":"checkbox-business-verified"}),l.jsxs("label",{htmlFor:"isVerified",className:"text-sm font-medium",children:[" ",Se==="vip"&&l.jsx("span",{className:"text-xs text-muted-foreground mr-2",children:"(  VIP)"})]})]}),l.jsx(Ze,{type:"submit",className:"w-full",disabled:s,"data-testid":"button-submit-business",children:s?l.jsx(St,{className:"w-4 h-4 animate-spin"}):e?"":""})]})}function RV(){const{toast:e}=Rn(),t=Xr(),[n,s]=S.useState("all"),{data:a,isLoading:u}=vt({queryKey:["/api/admin/businesses"],queryFn:async()=>(await fetch("/api/admin/businesses")).json()}),f=(a||[]).map(O=>({...O,subscriptionInfo:ml(O.joinDate,O.subscriptionActivatedAt,O.subscriptionTier)})),h=f.filter(O=>O.subscriptionInfo.status==="trial"||O.subscriptionInfo.status==="active"),g=f.filter(O=>O.subscriptionInfo.status==="trial_expired"||O.subscriptionInfo.status==="expired"),v=f.filter(O=>O.subscriptionInfo.tier==="vip"),y=f.filter(O=>(O.subscriptionInfo.status==="trial"||O.subscriptionInfo.status==="active")&&O.subscriptionInfo.daysRemaining<=7&&O.subscriptionInfo.daysRemaining>0),w=f.reduce((O,V)=>V.subscriptionInfo.status==="active"?O+(V.subscriptionInfo.tier==="vip"?1e4:5e3):O,0),N=()=>{let O=[];switch(n){case"active":O=h;break;case"expired":O=g;break;case"vip":O=v;break;case"expiring":O=y;break;default:O=f}return O.sort((V,Z)=>V.subscriptionInfo.daysRemaining-Z.subscriptionInfo.daysRemaining)},T=Pn({mutationFn:async({id:O,data:V})=>{const Z=await fetch(`/api/admin/businesses/${O}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(V)});if(!Z.ok)throw new Error((await Z.json()).message);return Z.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/businesses"]}),e({title:"   "})},onError:O=>{e({title:"",description:O.message,variant:"destructive"})}}),A=(O,V)=>{const Z=new Date().toISOString();T.mutate({id:O,data:{subscriptionTier:V,subscriptionActivatedAt:Z,isVerified:V==="vip"?!0:void 0}})},C=O=>{const V=new Date().toISOString();T.mutate({id:O,data:{subscriptionTier:"trial",joinDate:V,subscriptionActivatedAt:null}})},j=O=>{const V=new Date;return V.setDate(V.getDate()+O),V.toLocaleDateString("ar-IQ",{year:"numeric",month:"short",day:"numeric"})},M=(O,V)=>Math.max(0,Math.min(100,O/(V==="trial"?60:30)*100)),R=O=>O<=0?"bg-red-500":O<=7?"bg-orange-500":"bg-green-500";if(u)return l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx(St,{className:"w-8 h-8 animate-spin text-primary"})});const D=N();return l.jsxs("div",{className:"space-y-6",children:[l.jsx("h2",{className:"text-2xl font-display font-bold",children:" "}),l.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsx(ot,{className:`cursor-pointer transition-all hover-elevate ${n==="all"?"ring-2 ring-primary":""}`,onClick:()=>s("all"),"data-testid":"filter-all",children:l.jsx(at,{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 rounded-lg bg-muted",children:l.jsx(xv,{className:"w-5 h-5 text-muted-foreground"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:""}),l.jsx("p",{className:"text-2xl font-bold",children:f.length})]})]})})}),l.jsx(ot,{className:`cursor-pointer transition-all hover-elevate ${n==="active"?"ring-2 ring-green-500":""}`,onClick:()=>s("active"),"data-testid":"filter-active",children:l.jsx(at,{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 rounded-lg bg-green-500/20",children:l.jsx(Qs,{className:"w-5 h-5 text-green-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-green-400",children:""}),l.jsx("p",{className:"text-2xl font-bold text-green-400",children:h.length})]})]})})}),l.jsx(ot,{className:`cursor-pointer transition-all hover-elevate ${n==="expired"?"ring-2 ring-red-500":""}`,onClick:()=>s("expired"),"data-testid":"filter-expired",children:l.jsx(at,{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 rounded-lg bg-red-500/20",children:l.jsx(pv,{className:"w-5 h-5 text-red-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-red-400",children:""}),l.jsx("p",{className:"text-2xl font-bold text-red-400",children:g.length})]})]})})}),l.jsx(ot,{className:`cursor-pointer transition-all hover-elevate ${n==="vip"?"ring-2 ring-primary":""}`,onClick:()=>s("vip"),"data-testid":"filter-vip",children:l.jsx(at,{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 rounded-lg bg-primary/20",children:l.jsx(iu,{className:"w-5 h-5 text-primary"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-primary",children:""}),l.jsx("p",{className:"text-2xl font-bold text-primary",children:v.length})]})]})})})]}),y.length>0&&l.jsxs(ot,{className:"border-orange-500/50 bg-orange-500/5",children:[l.jsx(Gt,{className:"pb-2",children:l.jsxs(Qt,{className:"text-lg flex items-center gap-2 text-orange-400",children:[l.jsx(xg,{className:"w-5 h-5"}),":     (",y.length,")"]})}),l.jsx(at,{children:l.jsx("div",{className:"flex flex-wrap gap-2",children:y.map(O=>l.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-orange-500/10 border border-orange-500/30 cursor-pointer hover-elevate",onClick:()=>s("expiring"),"data-testid":`alert-expiring-${O.id}`,children:[l.jsx("span",{className:"font-medium",children:O.name}),l.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-orange-500/20 text-orange-400",children:[O.subscriptionInfo.daysRemaining," "]})]},O.id))})})]}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[l.jsx(ot,{className:"border-muted",children:l.jsx(at,{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 rounded-lg bg-muted",children:l.jsx(Wl,{className:"w-5 h-5"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:" "}),l.jsxs("p",{className:"text-xl font-bold",children:["5,000 ",l.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:"./"})]})]})]})})}),l.jsx(ot,{className:"border-primary/50 bg-primary/5",children:l.jsx(at,{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 rounded-lg bg-primary/20",children:l.jsx(iu,{className:"w-5 h-5 text-primary"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-primary",children:" "}),l.jsxs("p",{className:"text-xl font-bold text-primary",children:["10,000 ",l.jsx("span",{className:"text-sm font-normal text-primary/70",children:"./"})]})]})]})})}),l.jsx(ot,{className:"border-green-500/50 bg-green-500/5",children:l.jsx(at,{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 rounded-lg bg-green-500/20",children:l.jsx(yv,{className:"w-5 h-5 text-green-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-green-400",children:" "}),l.jsxs("p",{className:"text-xl font-bold text-green-400",children:[w.toLocaleString("ar-IQ")," ",l.jsx("span",{className:"text-sm font-normal",children:"."})]})]})]})})})]}),l.jsxs(ot,{children:[l.jsx(Gt,{children:l.jsxs(Qt,{className:"flex items-center justify-between gap-2 flex-wrap",children:[l.jsx("span",{children:n==="all"?" ":n==="active"?" ":n==="expired"?" ":n==="vip"?" ":n==="expiring"?" ":" "}),l.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:["(",D.length," ) -    "]})]})}),l.jsx(at,{children:D.length===0?l.jsx("p",{className:"text-center text-muted-foreground py-8",children:"     "}):l.jsx("div",{className:"space-y-3",children:D.map(O=>l.jsxs("div",{className:"p-4 rounded-lg border border-border bg-card/50","data-testid":`subscription-item-${O.id}`,children:[l.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-lg overflow-hidden bg-muted flex-shrink-0",children:O.imageUrl?l.jsx("img",{src:O.imageUrl,alt:O.name,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center text-primary font-bold text-sm",children:O.name.charAt(0)})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsx("h3",{className:"font-bold text-sm",children:O.name}),O.isVerified&&l.jsx("span",{className:"text-blue-500 text-xs",children:""}),O.subscriptionInfo.tier==="vip"&&l.jsx(iu,{className:"w-3 h-3 text-primary"}),O.subscriptionInfo.status==="trial"&&l.jsx("span",{className:"px-1.5 py-0.5 text-[10px] rounded bg-blue-500/20 text-blue-400",children:""}),O.subscriptionInfo.status==="active"&&l.jsx("span",{className:"px-1.5 py-0.5 text-[10px] rounded bg-green-500/20 text-green-400",children:""}),(O.subscriptionInfo.status==="expired"||O.subscriptionInfo.status==="trial_expired")&&l.jsx("span",{className:"px-1.5 py-0.5 text-[10px] rounded bg-red-500/20 text-red-400",children:""})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:O.category?.name||" "})]}),l.jsxs("div",{className:"text-left flex-shrink-0",children:[l.jsx("div",{className:`text-lg font-bold ${O.subscriptionInfo.daysRemaining<=7?"text-orange-400":O.subscriptionInfo.daysRemaining<=0?"text-red-400":"text-foreground"}`,children:O.subscriptionInfo.daysRemaining}),l.jsx("div",{className:"text-[10px] text-muted-foreground",children:""})]})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("div",{className:"h-1.5 rounded-full bg-muted overflow-hidden",children:l.jsx("div",{className:`h-full rounded-full transition-all ${R(O.subscriptionInfo.daysRemaining)}`,style:{width:`${M(O.subscriptionInfo.daysRemaining,O.subscriptionInfo.tier)}%`}})}),l.jsx("div",{className:"flex justify-between mt-1",children:l.jsxs("span",{className:"text-[10px] text-muted-foreground",children:[": ",j(O.subscriptionInfo.daysRemaining)]})})]}),l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsxs(Ze,{size:"sm",variant:"outline",className:"text-xs gap-1 flex-1",onClick:()=>A(O.id,"regular"),disabled:T.isPending,"data-testid":`button-renew-regular-${O.id}`,children:[l.jsx(ME,{className:"w-3 h-3"}),""]}),l.jsxs(Ze,{size:"sm",className:"text-xs gap-1 flex-1",onClick:()=>A(O.id,"vip"),disabled:T.isPending,"data-testid":`button-renew-vip-${O.id}`,children:[l.jsx(iu,{className:"w-3 h-3"}),""]}),l.jsx(Ze,{size:"sm",variant:"ghost",className:"text-xs",onClick:()=>C(O.id),disabled:T.isPending,"data-testid":`button-reset-trial-${O.id}`,children:""})]})]},O.id))})})]})]})}function OV(){const{toast:e}=Rn(),t=Xr(),[n,s]=S.useState(!1),[a,u]=S.useState(null),{data:f,isLoading:h}=vt({queryKey:["/api/admin/offers"],queryFn:async()=>(await fetch("/api/admin/offers")).json()}),{data:g}=vt({queryKey:["/api/admin/businesses"],queryFn:async()=>(await fetch("/api/admin/businesses")).json()}),{data:v}=vt({queryKey:["/api/admin/categories"],queryFn:async()=>(await fetch("/api/admin/categories")).json()}),y=Pn({mutationFn:async T=>{const A=await fetch("/api/admin/offers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(T)});if(!A.ok)throw new Error((await A.json()).message);return A.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/offers"]}),t.invalidateQueries({queryKey:["/api/offers"]}),e({title:"   "}),s(!1)},onError:T=>{e({title:"",description:T.message,variant:"destructive"})}}),w=Pn({mutationFn:async({id:T,data:A})=>{const C=await fetch(`/api/admin/offers/${T}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(A)});if(!C.ok)throw new Error((await C.json()).message);return C.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/offers"]}),t.invalidateQueries({queryKey:["/api/offers"]}),e({title:"   "}),u(null)},onError:T=>{e({title:"",description:T.message,variant:"destructive"})}}),N=Pn({mutationFn:async T=>{const A=await fetch(`/api/admin/offers/${T}`,{method:"DELETE"});if(!A.ok)throw new Error((await A.json()).message);return A.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/offers"]}),t.invalidateQueries({queryKey:["/api/offers"]}),e({title:"  "})},onError:T=>{e({title:"",description:T.message,variant:"destructive"})}});return h?l.jsx("div",{className:"flex justify-center py-8",children:l.jsx(St,{className:"w-8 h-8 animate-spin text-primary"})}):l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-2xl font-display font-bold",children:" "}),l.jsxs(da,{open:n,onOpenChange:s,children:[l.jsx(Vl,{asChild:!0,children:l.jsxs(Ze,{className:"gap-2","data-testid":"button-add-offer",children:[l.jsx(Ll,{className:"w-4 h-4"})," "]})}),l.jsxs(co,{className:"max-w-lg",children:[l.jsx(uo,{children:l.jsx(fo,{children:"  "})}),l.jsx(lb,{businesses:g||[],categories:v||[],onSubmit:T=>y.mutate(T),isLoading:y.isPending})]})]})]}),l.jsx(da,{open:!!a,onOpenChange:T=>!T&&u(null),children:l.jsxs(co,{className:"max-w-lg",children:[l.jsx(uo,{children:l.jsx(fo,{children:" "})}),a&&l.jsx(lb,{offer:a,businesses:g||[],categories:v||[],onSubmit:T=>w.mutate({id:a.id,data:T}),isLoading:w.isPending})]})}),l.jsx("div",{className:"grid gap-4",children:f?.length===0?l.jsx(ot,{children:l.jsx(at,{className:"p-8 text-center text-muted-foreground",children:"   "})}):f?.map(T=>l.jsx(ot,{className:`${T.isActive?"":"opacity-60"}`,children:l.jsxs(at,{className:"p-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("h3",{className:"font-bold",children:T.title}),!T.isActive&&l.jsx("span",{className:"text-xs px-2 py-0.5 bg-muted rounded",children:" "})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:T.description}),l.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted-foreground",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Wl,{className:"w-3 h-3"}),T.business?.name||"  "]}),T.validUntil&&l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(c1,{className:"w-3 h-3"})," : ",new Date(T.validUntil).toLocaleDateString("ar")]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ze,{variant:"ghost",size:"icon",onClick:()=>u(T),"data-testid":`button-edit-offer-${T.id}`,children:l.jsx(gv,{className:"w-4 h-4"})}),l.jsxs(Yu,{children:[l.jsx(Ju,{asChild:!0,children:l.jsx(Ze,{variant:"ghost",size:"icon",className:"text-destructive","data-testid":`button-delete-offer-${T.id}`,children:l.jsx(Uu,{className:"w-4 h-4"})})}),l.jsxs(Yl,{children:[l.jsxs(Jl,{children:[l.jsx(tc,{children:" "}),l.jsx(nc,{children:"            ."})]}),l.jsxs(ec,{children:[l.jsx(ic,{children:""}),l.jsx(rc,{onClick:()=>N.mutate(T.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:""})]})]})]})]})]})},T.id))})]})}function lb({offer:e,businesses:t,categories:n,onSubmit:s,isLoading:a}){const u=e?.business?.categoryId?.toString()||"",[f,h]=S.useState(u),[g,v]=S.useState(e?.title||""),[y,w]=S.useState(e?.description||""),[N,T]=S.useState(e?.imageUrl||""),[A,C]=S.useState(e?.businessId?.toString()||""),[j,M]=S.useState(e?.validUntil?new Date(e.validUntil).toISOString().split("T")[0]:""),[R,D]=S.useState(e?.isActive??!0),O=f?t.filter(Z=>Z.category?.id===parseInt(f)):t,V=Z=>{Z.preventDefault(),A&&s({title:g,description:y||null,imageUrl:N||null,businessId:parseInt(A),validUntil:j?new Date(j):null,isActive:R})};return l.jsxs("form",{onSubmit:V,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:" *"}),l.jsxs(ao,{value:f,onValueChange:Z=>{h(Z),C("")},children:[l.jsx(os,{"data-testid":"select-offer-category",children:l.jsx(lo,{placeholder:"  "})}),l.jsx(as,{children:n.map(Z=>l.jsx($n,{value:Z.id.toString(),children:Z.name},Z.id))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:" *"}),l.jsxs(ao,{value:A,onValueChange:C,disabled:!f,children:[l.jsx(os,{"data-testid":"select-offer-business",children:l.jsx(lo,{placeholder:f?" ":"  "})}),l.jsx(as,{children:O.map(Z=>l.jsx($n,{value:Z.id.toString(),children:Z.name},Z.id))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"  *"}),l.jsx(ht,{value:g,onChange:Z=>v(Z.target.value),placeholder:":  20%   ",required:!0,"data-testid":"input-offer-title"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:" "}),l.jsx(Kh,{value:y,onChange:Z=>w(Z.target.value),placeholder:"   ...","data-testid":"input-offer-description"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:" "}),l.jsx(Wf,{value:N,onChange:T,placeholder:"   ()",testId:"input-offer-image",previewClassName:"w-full h-32"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:" "}),l.jsx(ht,{type:"date",value:j,onChange:Z=>M(Z.target.value),"data-testid":"input-offer-valid-until"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",id:"offerIsActive",checked:R,onChange:Z=>D(Z.target.checked),className:"w-4 h-4","data-testid":"checkbox-offer-active"}),l.jsx("label",{htmlFor:"offerIsActive",className:"text-sm font-medium",children:" "})]}),l.jsx(Ze,{type:"submit",className:"w-full",disabled:a||!A||!g,"data-testid":"button-submit-offer",children:a?l.jsx(St,{className:"w-4 h-4 animate-spin"}):e?"":""})]})}function IV(){const{toast:e}=Rn(),t=Xr(),[n,s]=S.useState(null),[a,u]=S.useState(null),{data:f}=vt({queryKey:["/api/admin/categories"],queryFn:async()=>(await fetch("/api/admin/categories")).json()}),{data:h}=vt({queryKey:["/api/admin/businesses"],queryFn:async()=>(await fetch("/api/admin/businesses")).json()}),{data:g,isLoading:v}=vt({queryKey:["/api/admin/reviews"],queryFn:async()=>(await fetch("/api/admin/reviews")).json()}),y=Pn({mutationFn:async j=>{const M=await fetch(`/api/admin/reviews/${j}`,{method:"DELETE"});if(!M.ok)throw new Error((await M.json()).message);return M.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/reviews"]}),e({title:"  "})},onError:j=>{e({title:"",description:j.message,variant:"destructive"})}}),w=n?h?.filter(j=>j.categoryId===n)||[]:[],N=g?.filter(j=>a?j.businessId===a:n?j.categoryId===n:!0)||[],T=j=>{const M=j==="all"?null:parseInt(j);s(M),u(null)},A=j=>{const M=j==="all"?null:parseInt(j);u(M)};if(v)return l.jsx("div",{className:"flex justify-center py-8",children:l.jsx(St,{className:"w-8 h-8 animate-spin text-primary"})});const C=j=>j?new Date(j).toLocaleDateString("ar-IQ",{year:"numeric",month:"short",day:"numeric"}):"-";return l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-display font-bold mb-6",children:" "}),l.jsxs(ot,{className:"mb-6",children:[l.jsx(Gt,{children:l.jsxs(Qt,{className:"flex items-center gap-2",children:[l.jsx(kh,{className:"w-5 h-5"})," "]})}),l.jsx(at,{children:l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"  "}),l.jsxs(ao,{value:n?.toString()||"all",onValueChange:T,children:[l.jsx(os,{"data-testid":"select-review-category",children:l.jsx(lo,{placeholder:" "})}),l.jsxs(as,{children:[l.jsx($n,{value:"all",children:" "}),f?.map(j=>l.jsx($n,{value:j.id.toString(),children:j.name},j.id))]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"  "}),l.jsxs(ao,{value:a?.toString()||"all",onValueChange:A,disabled:!n,children:[l.jsx(os,{"data-testid":"select-review-business",children:l.jsx(lo,{placeholder:n?" ":"  "})}),l.jsxs(as,{children:[l.jsx($n,{value:"all",children:"   "}),w.map(j=>l.jsx($n,{value:j.id.toString(),children:j.name},j.id))]})]})]})]})})]}),l.jsxs(ot,{children:[l.jsx(Gt,{className:"flex flex-row items-center justify-between gap-2",children:l.jsxs(Qt,{className:"flex items-center gap-2",children:[l.jsx(Eh,{className:"w-5 h-5"})," (",N.length,")"]})}),l.jsx(at,{children:N.length>0?l.jsx("div",{className:"space-y-4",children:N.map(j=>l.jsx("div",{className:"p-4 bg-muted/50 rounded-lg border border-border/50","data-testid":`review-item-${j.id}`,children:l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[l.jsx("span",{className:"font-bold",children:j.visitorName}),l.jsx("div",{className:"flex items-center gap-0.5 text-primary",children:[...Array(5)].map((M,R)=>l.jsx(ts,{className:`w-3 h-3 ${R<j.rating?"fill-current":"opacity-30"}`},R))}),l.jsx("span",{className:"text-xs text-muted-foreground",children:C(j.createdAt)})]}),l.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[l.jsx("span",{className:"bg-primary/10 text-primary px-2 py-0.5 rounded text-xs ml-2",children:j.categoryName}),": ",l.jsx("span",{className:"font-medium text-foreground",children:j.businessName})]}),j.comment&&l.jsx("p",{className:"text-sm",children:j.comment})]}),l.jsxs(Yu,{children:[l.jsx(Ju,{asChild:!0,children:l.jsx(Ze,{size:"icon",variant:"ghost",className:"text-destructive hover:text-destructive","data-testid":`button-delete-review-${j.id}`,children:l.jsx(Uu,{className:"w-4 h-4"})})}),l.jsxs(Yl,{children:[l.jsxs(Jl,{children:[l.jsx(tc,{children:" "}),l.jsx(nc,{children:"            ."})]}),l.jsxs(ec,{children:[l.jsx(ic,{children:""}),l.jsx(rc,{onClick:()=>y.mutate(j.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:""})]})]})]})]})},j.id))}):l.jsx("p",{className:"text-center text-muted-foreground py-8",children:n||a?"      ":"    "})})]})]})}function DV(){const{toast:e}=Rn(),t=Xr(),{data:n,isLoading:s}=vt({queryKey:["/api/admin/settings"],queryFn:async()=>(await fetch("/api/admin/settings")).json()}),[a,u]=S.useState(n?.primaryColor||"#d4a017"),[f,h]=S.useState(n?.backgroundColor||"#1a1a1a");S.useEffect(()=>{n&&(u(n.primaryColor||"#d4a017"),h(n.backgroundColor||"#1a1a1a"))},[n]);const g=Pn({mutationFn:async y=>{const w=await fetch("/api/admin/settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)});if(!w.ok)throw new Error((await w.json()).message);return w.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/settings"]}),t.invalidateQueries({queryKey:["/api/settings"]}),e({title:"  "})},onError:y=>{e({title:"",description:y.message,variant:"destructive"})}}),v=()=>{g.mutate({primaryColor:a,backgroundColor:f})};return s?l.jsx("div",{className:"flex justify-center py-8",children:l.jsx(St,{className:"w-8 h-8 animate-spin text-primary"})}):l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-display font-bold mb-6",children:" "}),l.jsx(ot,{children:l.jsxs(at,{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:" "}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("input",{type:"color",value:a,onChange:y=>u(y.target.value),className:"w-12 h-12 rounded cursor-pointer","data-testid":"input-primary-color"}),l.jsx(ht,{value:a,onChange:y=>u(y.target.value),className:"flex-1"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:" "}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("input",{type:"color",value:f,onChange:y=>h(y.target.value),className:"w-12 h-12 rounded cursor-pointer","data-testid":"input-background-color"}),l.jsx(ht,{value:f,onChange:y=>h(y.target.value),className:"flex-1"})]})]}),l.jsx(Ze,{onClick:v,disabled:g.isPending,"data-testid":"button-save-settings",children:g.isPending?l.jsx(St,{className:"w-4 h-4 animate-spin"}):" "})]})})]})}const FV=[{title:"",body:" !     "},{title:"",body:" !     "},{title:"",body:"  !   "},{title:"",body:"       ! "},{title:"",body:" !      "}],cb=4,Of="delini_last_notification",ub="delini_notification_permission_asked";function zV(){const[e,t]=S.useState("default"),[n,s]=S.useState(!1);S.useEffect(()=>{"Notification"in window&&(s(!0),t(Notification.permission))},[]);const a=S.useCallback(async()=>{if(!n)return!1;try{const v=await Notification.requestPermission();return t(v),localStorage.setItem(ub,"true"),v==="granted"&&(localStorage.setItem(Of,Date.now().toString()),f()),v==="granted"}catch(v){return console.error("Error requesting notification permission:",v),!1}},[n]),u=S.useCallback((v=4)=>{if(e!=="granted")return;const y=FV[v];"serviceWorker"in navigator&&navigator.serviceWorker.controller?navigator.serviceWorker.ready.then(w=>{w.showNotification(y.title,{body:y.body,icon:"/favicon.ico",badge:"/favicon.ico",dir:"rtl",lang:"ar",data:{url:"/"}})}):new Notification(y.title,{body:y.body,icon:"/favicon.ico",dir:"rtl",lang:"ar"}),localStorage.setItem(Of,Date.now().toString())},[e]),f=S.useCallback(()=>{const v=cb*24*60*60*1e3;setTimeout(()=>{Notification.permission==="granted"&&(u(4),f())},v)},[u]),h=S.useCallback(()=>{if(e!=="granted")return;const v=localStorage.getItem(Of),y=cb*24*60*60*1e3;if(!v){localStorage.setItem(Of,Date.now().toString()),f();return}const w=Date.now()-parseInt(v,10);if(w>=y)u(4),f();else{const N=y-w;setTimeout(()=>{Notification.permission==="granted"&&(u(4),f())},N)}},[e,u,f]),g=S.useCallback(()=>!n||e!=="default"?!1:!localStorage.getItem(ub),[n,e]);return{permission:e,isSupported:n,requestPermission:a,showNotification:u,checkAndShowNotification:h,shouldAskPermission:g}}function BV(){const{shouldAskPermission:e,requestPermission:t,checkAndShowNotification:n,permission:s}=zV(),[a,u]=S.useState(!1),[f,h]=S.useState(!1);S.useEffect(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").catch(console.error)},[]),S.useEffect(()=>{const y=setTimeout(()=>{e()&&u(!0)},3e3);return()=>clearTimeout(y)},[e]),S.useEffect(()=>{s==="granted"&&n()},[s,n]);const g=async()=>{h(!0),await t(),h(!1),u(!1)},v=()=>{localStorage.setItem("delini_notification_permission_asked","true"),u(!1)};return l.jsx(BS,{children:a&&l.jsx(sr.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-20 left-4 right-4 z-50 md:left-auto md:right-4 md:max-w-sm",children:l.jsx(ot,{className:"border-amber-500/30 bg-gradient-to-br from-zinc-900 to-zinc-800 shadow-xl",children:l.jsx(at,{className:"p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-amber-500/20",children:l.jsx(pE,{className:"h-5 w-5 text-amber-500"})}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx("h4",{className:"font-semibold text-white",children:" "}),l.jsx("p",{className:"text-sm text-zinc-400",children:"      "}),l.jsxs("div",{className:"flex gap-2 pt-1",children:[l.jsx(Ze,{size:"sm",onClick:g,disabled:f,className:"bg-amber-500 hover:bg-amber-600 text-black","data-testid":"button-allow-notifications",children:f?" ...":""}),l.jsx(Ze,{size:"sm",variant:"ghost",onClick:v,className:"text-zinc-400 hover:text-white","data-testid":"button-dismiss-notifications",children:""})]})]}),l.jsx(Ze,{size:"icon",variant:"ghost",onClick:v,className:"h-6 w-6 shrink-0 text-zinc-500 hover:text-white","data-testid":"button-close-notification-prompt",children:l.jsx(ma,{className:"h-4 w-4"})})]})})})})})}function VV(){return l.jsx(po,{children:l.jsx(wN,{})})}function UV(){return l.jsx(po,{children:l.jsx(bN,{})})}function $V(){return l.jsx(po,{children:l.jsx(SN,{})})}function ZV(){return l.jsx(po,{children:l.jsx(LN,{})})}function WV(){return l.jsx(po,{children:l.jsx(MN,{})})}function HV(){return l.jsx(po,{children:l.jsx(RN,{})})}function qV(){return l.jsx(po,{children:l.jsx(ON,{})})}function KV(){return l.jsx(po,{children:l.jsx(IN,{})})}function GV(){return l.jsxs(DT,{children:[l.jsx(Kt,{path:"/",component:wN}),l.jsx(Kt,{path:"/categories",component:bN}),l.jsx(Kt,{path:"/categories/:id",component:SN}),l.jsx(Kt,{path:"/businesses/:id",component:LN}),l.jsx(Kt,{path:"/search",component:MN}),l.jsx(Kt,{path:"/map",component:RN}),l.jsx(Kt,{path:"/offers",component:ON}),l.jsx(Kt,{path:"/favorites",component:IN}),l.jsx(Kt,{path:"/compare",component:HB}),l.jsx(Kt,{path:"/admin/login",component:qB}),l.jsx(Kt,{path:"/admin",component:jV}),l.jsx(Kt,{path:"/preview",component:VV}),l.jsx(Kt,{path:"/preview/categories",component:UV}),l.jsx(Kt,{path:"/preview/categories/:id",component:$V}),l.jsx(Kt,{path:"/preview/businesses/:id",component:ZV}),l.jsx(Kt,{path:"/preview/search",component:WV}),l.jsx(Kt,{path:"/preview/map",component:HV}),l.jsx(Kt,{path:"/preview/offers",component:qV}),l.jsx(Kt,{path:"/preview/favorites",component:KV}),l.jsx(Kt,{component:JA})]})}function QV(){return l.jsx(rk,{client:vk,children:l.jsx(KA,{children:l.jsxs(WA,{children:[l.jsx(y2,{}),l.jsx(BV,{}),l.jsx(GV,{})]})})})}mT.createRoot(document.getElementById("root")).render(l.jsx(QV,{}));
